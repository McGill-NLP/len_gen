{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6__256788", "created_at": "2023-03-21T18:58:59", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_26": 0.922, "sum__pred/test_acc_29": 0.646, "sum__pred/test_editDistance_34": 0, "sum__train/train_steps_per_second": 1.991, "sum__train/gen_max_length": 256, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_35": 0, "sum__eval/f1": 0.7619, "sum___runtime": 20992, "sum__pred/test_acc_39": 0, "sum__train/train_loss": 0.26808214758600807, "sum__pred/test_seq_acc": 0.4403, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_steps_per_second": 0.617, "sum__pred/valid_acc_16": 0.9872, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_acc_32": 0.142, "sum__pred/test_acc_35": 0.006, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_acc_38": 0, "sum__pred/test_editDistance_40": 0, "sum__eval/loss": 0.001467990572564304, "sum__num_train_samples": 100000, "sum__eval/steps_per_second": 1.486, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_39": 0, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__eval/runtime": 158.1276, "sum__pred/test_acc_34": 0.004, "sum__pred/valid_acc_2": 1, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_7": 0, "sum__train/f1": 0.5688, "sum__pred/test_acc_40": 0, "sum__train/total_flos": 1.2506806014286234e+17, "sum__pred/valid_acc_18": 0.976, "sum__pred/test_editDistance_22": 0, "sum__auto_computed_batch_size_predict": 32, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 106359, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__pred/valid_runtime": 159.908, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc": 0.7522, "sum__pred/test_acc_28": 0.794, "sum__pred/valid_acc_15": 0.995, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__pred/test_recall": 0.6148, "sum__pred/test_runtime": 507.0395, "sum__pred/valid_acc_17": 0.9773, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_editDistance_20": 0, "sum__train/precision": 0.3974, "sum__pred/valid_acc_overall": 0.9921, "sum__num_non_trainable_params": 28320768, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__eval/recall": 0.993, "sum__pred/test_acc_25": 0.894, "sum__pred/valid_acc_6": 1, "sum__pred/valid_steps_per_second": 1.47, "sum__train/epoch": 25.59, "sum__auto_computed_grad_acc_steps": 1, "sum__evaluated_acc/valid/plot_table#size": 335, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "8cf66e950e9e22c37b4804e434f979467c13065db9c5296e19265e51f9405242", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_8cf66e950e9e22c37b48.table.json", "sum__pred/valid_loss": 0.001467990572564304, "sum__train/global_step": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/recall": 1, "sum__pred/test_acc_21": 0.954, "sum__computed_num_process": 1, "sum__pred/test_editDistance_28": 0, "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__pred/test_precision": 0.406, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__pred/valid_acc": 0.9329, "sum__pred/valid_recall": 0.993, "sum__num_trainable_params": 109607040, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "4dc11b54e746e87b5b4c30a217449bb25b3af0021be0ddb358be6a553d2c2925", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_4dc11b54e746e87b5b4c.table.json", "sum__evaluated_acc/test/plot_table#size": 350, "sum__eval/acc": 0.9329, "sum__pred/test_f1": 0.489, "sum__pred/test_acc_24": 0.918, "sum__pred/test_samples_per_second": 19.722, "sum__pred/test_acc_22": 0.948, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_3": 0, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "5b9cbd44a2a8b55bdf21a8902ebb5057554f2c982d6d0edc19e54798242bb9ee", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_5b9cbd44a2a8b55bdf21.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8321, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum___step": 4146, "sum__pred/valid_acc_19": 0.9707, "sum__evaluated_acc/test/table#sha256": "3ba4bc50558d76f0dd0ff37e949403a2ad2f18964a3aa235fa22dad7e8e6cb6b", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_3ba4bc50558d76f0dd0f.table.json", "sum__evaluated_acc/test/table#size": 7354856, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/test_editDistance_38": 0, "sum__train/train_samples_per_second": 127.412, "sum__train/acc": 0.3974, "sum__num_total_params": 137927808, "sum__pred/valid_acc_12": 0.9974, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_9": 0, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_9c5042d2abc6cc0e2666.table.json", "sum__evaluated_acc/valid/table#size": 2215789, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "9c5042d2abc6cc0e2666e6d1d1e8dae109b8a013fc73208710766646b5ee038a", "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_overall": 0, "sum__eval/seq_acc": 0.9921, "sum__pred/test_acc_27": 0.878, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_14": 0.99, "sum__pred/valid_precision": 0.618, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_f1": 0.7619, "sum__pred/test_editDistance_31": 0, "sum__eval/precision": 0.618, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_2": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_4": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__pred/test_acc_33": 0.036, "sum__pred/valid_acc_7": 0.9974, "sum__pred/valid_acc_10": 0.9974, "sum__train/train_runtime": 20092.328, "sum__pred/test_editDistance_27": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_13": 0.9905, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_17": 0, "sum__train/loss": 0.0008, "sum__pred/valid_acc_11": 0.9952, "sum__pred/test_acc_overall": 0.4403, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_25": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_samples_per_second": 46.864, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum___wandb#runtime": 20993, "sum__pred/test_loss": 0.4642782807350158, "sum__pred/valid_acc_9": 1, "sum__eval/samples_per_second": 47.392, "sum__pred/valid_editDistance_12": 0, "sum__train/seq_acc": 1, "sum__pred/valid_acc_8": 0.9973, "sum___timestamp": 1679293176, "sum__pred/test_acc_30": 0.478, "sum__pred/test_acc_31": 0.246, "sum__pred/valid_seq_acc": 0.9921, "sum__pred/test_num_samples": 10000, "sum__pred/test_acc_23": 0.94, "sum__pred/valid_acc_20": 0.9783, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_15": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6__234054", "created_at": "2023-03-21T18:58:24", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum___runtime": 21450, "sum__pred/test_acc_27": 0.844, "sum__pred/test_acc_29": 0.584, "sum__eval/steps_per_second": 1.473, "sum__pred/test_num_samples": 10000, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__pred/test_loss": 0.5434074997901917, "sum__pred/test_acc_39": 0, "sum__train/train_loss": 0.2682087767368299, "sum__num_train_samples": 100000, "sum__train/train_runtime": 20175.6625, "sum__pred/test_editDistance_35": 0, "sum__pred/test_steps_per_second": 0.397, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_23": 0.932, "sum__pred/test_acc_35": 0, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_27": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__eval/acc": 0.9328, "sum__pred/valid_acc_20": 0.9655, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_08e49db4b5acf51f2c4a.table.json", "sum__evaluated_acc/test/table#size": 7715233, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "08e49db4b5acf51f2c4ac89f3bce5e07996d224b9dd81c27319c1a7955c3332b", "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_9": 0, "sum__train/f1": 0.5818, "sum__pred/valid_acc": 0.9329, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__pred/valid_editDistance_20": 0, "sum__eval/loss": 0.001811497495509684, "sum__pred/test_acc": 0.7353, "sum__train/seq_acc": 1, "sum__pred/test_acc_26": 0.926, "sum__pred/test_acc_33": 0.018, "sum__evaluated_acc/valid/table#sha256": "07141f17999295f532cd5f719692d84e752aec5c7f0f694fb530ad0b4f7085b1", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_07141f17999295f532cd.table.json", "sum__evaluated_acc/valid/table#size": 2225621, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__pred/test_acc_30": 0.394, "sum__pred/test_acc_37": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_15": 0, "sum___wandb#runtime": 21450, "sum__pred/valid_acc_4": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/precision": 0.4102, "sum__train/total_flos": 1.2506655948064358e+17, "sum__pred/valid_recall": 0.9946, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_34": 0, "sum__train/train_samples_per_second": 126.886, "sum__pred/valid_acc_3": 1, "sum__pred/test_runtime": 788.5167, "sum__pred/valid_acc_13": 0.9897, "sum__pred/valid_acc_17": 0.9929, "sum__pred/test_precision": 0.3839, "sum__pred/test_editDistance_26": 0, "sum___step": 4146, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/valid_loss": 0.0013618613593280315, "sum__pred/test_acc_38": 0, "sum__train/train_steps_per_second": 1.983, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 103020, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_31": 0.21, "sum__pred/valid_acc_15": 0.9972, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_5": 0, "sum__pred/test_samples_per_second": 12.682, "sum__evaluated_acc/valid/plot_table#size": 333, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "d96014edfc87b19a9ec55ddf53a7400072db618e63293ad400b88f43696fb697", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_d96014edfc87b19a9ec5.table.json", "sum__eval/recall": 0.9935, "sum__pred/valid_f1": 0.7632, "sum__pred/test_acc_22": 0.946, "sum__pred/test_seq_acc": 0.4239, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_acc_24": 0.93, "sum__pred/valid_acc_18": 0.9811, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_39": 0, "sum___timestamp": 1679314635, "sum__pred/test_acc_36": 0, "sum__train/global_step": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc_28": 0.736, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_steps_per_second": 1.471, "sum__pred/valid_samples_per_second": 46.896, "sum__eval/seq_acc": 0.9904, "sum__pred/valid_acc_12": 0.9976, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/test_acc_overall": 0.4239, "sum__pred/valid_editDistance_10": 0, "sum__train/acc": 0.4102, "sum__eval/runtime": 159.5484, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_9": 1, "sum__pred/valid_seq_acc": 0.9928, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_12": 0, "sum__evaluated_acc/test/plot_table#sha256": "e59344d84b2847e42e4dff58a95586db227c35af86782e9aa6ead2d0a97466cc", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_e59344d84b2847e42e4d.table.json", "sum__evaluated_acc/test/plot_table#size": 347, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__pred/test_acc_34": 0.008, "sum__pred/valid_acc_10": 0.9921, "sum__pred/test_editDistance_31": 0, "sum__train/epoch": 25.59, "sum__pred/test_acc_32": 0.096, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_acc_11": 1, "sum__computed_num_process": 1, "sum__evaluated_acc/valid/during_training_table#size": 8337, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "41c79b9591730bfefeb831c5abe91a18f9f47e9321a0d9bd2d534088b6e1089d", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_41c79b9591730bfefeb8.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__pred/valid_acc_5": 1, "sum__pred/valid_editDistance_13": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__eval/f1": 0.7623, "sum__train/recall": 1, "sum__pred/valid_precision": 0.6191, "sum__pred/valid_acc_overall": 0.9928, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc_25": 0.916, "sum__pred/test_recall": 0.6125, "sum__pred/valid_acc_6": 0.9974, "sum__pred/valid_acc_7": 1, "sum__pred/test_editDistance_28": 0, "sum__eval/precision": 0.6184, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_17": 0, "sum__num_total_params": 137927808, "sum__pred/valid_acc_2": 1, "sum__pred/test_f1": 0.4719, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_acc_19": 0.9611, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_editDistance_38": 0, "sum__auto_computed_batch_size_predict": 32, "sum__train/loss": 0.0005, "sum__pred/test_acc_21": 0.938, "sum__pred/valid_acc_16": 0.9922, "sum__pred/valid_runtime": 159.8003, "sum__eval/samples_per_second": 46.97, "sum__pred/test_editDistance_36": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_agg_146317", "created_at": "2023-03-21T18:58:10", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___wandb#runtime": 63, "sum___timestamp": 1679335951, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_2_234054", "created_at": "2023-03-21T18:57:54", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum___timestamp": 1679335570, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum___runtime": 30, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum___wandb#runtime": 108, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_agg_234054", "created_at": "2023-03-21T18:57:39", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 66, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___runtime": 31, "sum___timestamp": 1679335879, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6__146317", "created_at": "2023-03-21T18:57:06", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_14": 0.9876, "sum__pred/valid_editDistance_16": 0, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "696befd3209002fb8acbdb240be3c8ffd0beb68c8880f2bf38361c8834b52d1c", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_696befd3209002fb8acb.table.json", "sum__evaluated_acc/test/plot_table#size": 352, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "bee6b53f5a8134404947d046a17202d165d273908cc2c8131f6156d59e0c10f0", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_bee6b53f5a8134404947.table.json", "sum__evaluated_acc/valid/plot_table#size": 328, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__computed_per_device_eval_batch_size": 32, "sum__train/train_loss": 0.2735318560103886, "sum__eval/steps_per_second": 1.557, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_13": 0, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107034, "sum__pred/test_loss": 0.5116246938705444, "sum__pred/test_runtime": 589.452, "sum__pred/test_acc_overall": 0.4279, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_33": 0, "sum___wandb#runtime": 20770, "sum__num_total_params": 137927808, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/test_acc_24": 0.918, "sum__pred/test_acc_30": 0.404, "sum__pred/test_editDistance_21": 0, "sum__eval/recall": 0.9924, "sum__pred/valid_editDistance_18": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_37": 0, "sum__pred/valid_acc_18": 0.9709, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_samples_per_second": 16.965, "sum__train/epoch": 25.59, "sum__pred/test_acc_22": 0.93, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_16": 0.9701, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_38": 0, "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__train/seq_acc": 1, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_8": 1, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "0e2ab4ab74737ea29eb309ca3432b187255de2c93be84db9115b43de466958c6", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_0e2ab4ab74737ea29eb3.table.json", "sum__evaluated_acc/valid/table#size": 2212886, "sum__pred/test_acc_29": 0.638, "sum__num_train_samples": 100000, "sum__auto_computed_batch_size": 64, "sum__train/total_flos": 1.2507380180700365e+17, "sum__pred/valid_f1": 0.7613, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_runtime": 151.7775, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_17": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_32": 0.096, "sum__pred/test_acc_36": 0.002, "sum__pred/test_recall": 0.614, "sum__pred/valid_acc_2": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__eval/acc": 0.9329, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_7": 0, "sum___step": 4146, "sum__train/precision": 0.4124, "sum__pred/valid_acc_7": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_36": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_steps_per_second": 1.548, "sum__pred/valid_editDistance_overall": 0, "sum__train/f1": 0.584, "sum__train/loss": 0.0003, "sum__pred/test_acc_25": 0.904, "sum__train/train_runtime": 19731.3177, "sum__pred/test_acc_37": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_20": 0, "sum__train/train_samples_per_second": 129.743, "sum__train/acc": 0.4124, "sum__pred/test_f1": 0.4839, "sum__pred/valid_acc": 0.9329, "sum__pred/test_acc_28": 0.778, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__pred/test_acc_34": 0.002, "sum__pred/valid_acc_11": 0.9949, "sum__train/learning_rate": 1e-07, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/valid_acc_9": 1, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__pred/test_acc_26": 0.896, "sum__train/global_step": 0, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_30": 0, "sum__pred/test_precision": 0.3992, "sum__pred/valid_editDistance_4": 0, "sum__auto_computed_eval_batch_size": 32, "sum__eval/loss": 0.0024539954029023647, "sum__pred/test_acc": 0.7469, "sum__pred/valid_acc_5": 1, "sum__pred/valid_seq_acc": 0.99, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "3b78944cc5fc18a9683861559247d43117bb07827b7e164911479ec96d3400a9", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_3b78944cc5fc18a96838.table.json", "sum__evaluated_acc/test/table#size": 7500992, "sum__evaluated_acc/test/table#_type": "table-file", "sum___runtime": 20770, "sum__eval/seq_acc": 0.99, "sum__pred/valid_acc_10": 0.9974, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_acc_17": 0.9823, "sum__pred/valid_num_samples": 7494, "sum__train/train_steps_per_second": 2.027, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_3": 0, "sum__eval/precision": 0.6176, "sum__pred/test_acc_27": 0.846, "sum__pred/valid_acc_13": 0.9925, "sum__pred/valid_acc_20": 0.9523, "sum__pred/valid_acc_3": 1, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_15": 0, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__pred/valid_loss": 0.0024539954029023647, "sum__pred/test_seq_acc": 0.4279, "sum__pred/valid_acc_overall": 0.99, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_editDistance_overall": 0, "sum__auto_computed_batch_size_predict": 32, "sum__train/recall": 1, "sum__pred/valid_acc_4": 1, "sum__pred/test_editDistance_28": 0, "sum__pred/test_steps_per_second": 0.531, "sum__pred/valid_editDistance_6": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__evaluated_acc/valid/during_training_table#sha256": "843ca1ecff8006fe7040592b713faab361fedc1e9defd28a6b75d9038345586f", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_843ca1ecff8006fe7040.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8322, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__pred/test_acc_35": 0.002, "sum__pred/valid_acc_6": 1, "sum__computed_num_process": 1, "sum__pred/test_editDistance_26": 0, "sum__pred/test_acc_21": 0.942, "sum__pred/test_acc_33": 0.018, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_5": 0, "sum__eval/f1": 0.7613, "sum__pred/valid_acc_15": 0.9869, "sum__pred/valid_acc_19": 0.9736, "sum__eval/samples_per_second": 49.665, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_samples_per_second": 49.375, "sum___timestamp": 1679335413, "sum__pred/test_acc_23": 0.936, "sum__pred/valid_recall": 0.9924, "sum__pred/valid_precision": 0.6176, "sum__eval/runtime": 150.8907, "sum__pred/test_acc_31": 0.246, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_agg_256788", "created_at": "2023-03-21T18:56:52", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___runtime": 31, "sum___timestamp": 1679335806, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_2_146317", "created_at": "2023-03-21T18:56:37", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum___step": 8, "sum___wandb#runtime": 111, "sum___timestamp": 1679335688, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum___runtime": 32, "sum__computed_per_device_train_batch_size": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_2_256788", "created_at": "2023-03-21T18:56:22", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___timestamp": 1679335453, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___runtime": 32, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum___wandb#runtime": 112, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95__234054", "created_at": "2023-03-21T09:19:02", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc": 0.9335, "sum__pred/test_acc_21": 0, "sum__pred/valid_acc_overall": 0.9948, "sum__eval/samples_per_second": 25.728, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "5620e03471c726c7eb6fcdc3acecfe48e2714793719eff44bb85b035bc2765f8", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_5620e03471c726c7eb6f.table.json", "sum__evaluated_acc/valid/table#size": 2746277, "sum__pred/test_editDistance_22": 0.8, "sum___wandb#runtime": 25820, "sum__pred/valid_editDistance_9": 0.7444, "sum__pred/test_editDistance_30": 0.4, "sum__pred/valid_editDistance_14": 0.2525, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__pred/valid_editDistance_10": 0.5249, "sum___timestamp": 1679363521, "sum__eval/seq_acc": 1, "sum__pred/test_editDistance_29": 0.6, "sum__pred/test_editDistance_34": 0.4, "sum__pred/valid_editDistance_19": 0.4866, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__train/f1": 0.5475, "sum__pred/test_acc_40": 0, "sum__pred/test_runtime": 414.4387, "sum__pred/valid_acc_10": 0.9948, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_6": 0.7772, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_18": 0.9919, "sum__train/global_step": 0, "sum__pred/test_editDistance_32": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__pred/valid_editDistance_16": 0.7812, "sum__pred/valid_loss": 0.000291655509499833, "sum__pred/test_f1": 0.4784, "sum__train/precision": 0.377, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_samples_per_second": 25.714, "sum__computed_per_device_train_batch_size": 64, "sum__train/epoch": 25.59, "sum__train/acc": 0.3958, "sum__eval/runtime": 291.2782, "sum__pred/valid_acc_7": 0.9926, "sum__train/train_loss": 0.052820623390623225, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_precision": 0.5751, "sum__pred/test_editDistance_36": 0.2, "sum__eval/acc": 0.9335, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "ca381d968aba9cab07bcfb9fec319fe633194110c9b0725994a40fc2fb0c5936", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_ca381d968aba9cab07bc.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8360, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__pred/test_acc_30": 0, "sum__pred/test_seq_acc": 0, "sum__pred/valid_acc_17": 0.9953, "sum__pred/valid_acc_19": 0.9951, "sum__pred/test_editDistance_25": 1, "sum__evaluated_acc/valid/editDistance_plot_table#size": 349, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "53bc88450cd3bfc475ed9bdd5281195118c61f754ca12d7d15034eba9dc7b798", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_53bc88450cd3bfc475ed.table.json", "sum__pred/test_acc_22": 0, "sum__pred/valid_acc_11": 0.9902, "sum__pred/test_precision": 0.4548, "sum__pred/valid_editDistance_20": 0.7389, "sum__train/loss": 0, "sum__pred/test_editDistance_23": 0.8, "sum__pred/test_acc": 0.7375, "sum__pred/test_acc_39": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_editDistance_overall": 0.5204, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__pred/test_acc_23": 0, "sum__computed_num_process": 1, "sum__pred/valid_num_samples": 7494, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__pred/test_editDistance_33": 0.4, "sum__evaluated_acc/valid/plot_table#sha256": "1a90faf1cee7422c6e52499cacc73b811e556f18b9e6868cda8fcd1861653ef0", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_1a90faf1cee7422c6e52.table.json", "sum__evaluated_acc/valid/plot_table#size": 347, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__eval/f1": 0.7302, "sum__pred/valid_acc_2": 1, "sum__train/learning_rate": 1e-07, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_35": 0, "sum__eval/loss": 1.5895170690782834e-06, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_38": 0, "sum__eval/steps_per_second": 0.807, "sum__pred/test_editDistance_40": 0.8, "sum__train/seq_acc": 1, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_editDistance_15": 0.2755, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__pred/test_acc_27": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_5": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_9": 0.9926, "sum__train/total_flos": 1.1636978694841958e+17, "sum__pred/valid_editDistance_7": 0.7426, "sum__pred/test_steps_per_second": 0.755, "sum__pred/test_loss": 3.132547616958618, "sum__pred/valid_editDistance_11": 0.9756, "sum__pred/valid_steps_per_second": 0.806, "sum__pred/test_editDistance_overall": 0.49, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_editDistance_27": 0.6, "sum__pred/valid_acc_12": 0.9929, "sum__pred/valid_acc_16": 0.9922, "sum__pred/test_acc_34": 0, "sum__pred/test_editDistance_21": 0.4, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 117348, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__num_total_params": 137927808, "sum__pred/valid_runtime": 291.4372, "sum__pred/valid_editDistance_4": 0.4975, "sum__pred/valid_editDistance_8": 0.2703, "sum__pred/valid_editDistance_13": 0.7752, "sum__pred/valid_editDistance_18": 0.8086, "sum__pred/valid_acc_4": 0.995, "sum__eval/precision": 0.5751, "sum__pred/test_acc_26": 0, "sum__pred/valid_editDistance_12": 0.7075, "sum___runtime": 25820, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_8": 0.9973, "sum__train/train_runtime": 24905.0756, "sum__pred/valid_editDistance_17": 0.4706, "sum__pred/test_samples_per_second": 24.129, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__train/recall": 1, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_13": 0.9922, "sum__train/train_samples_per_second": 102.79, "sum___step": 4146, "sum__pred/test_editDistance_37": 0.6, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__pred/test_acc_33": 0, "sum__pred/test_acc_31": 0, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/test/table#size": 7406517, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "85e3eda13a1e4a771992fa594c3ebcb900929405910a1ba64ccfb4c568468cca", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_85e3eda13a1e4a771992.table.json", "sum__pred/test_editDistance_28": 0.6, "sum__train/train_steps_per_second": 1.606, "sum__pred/test_recall": 0.5046, "sum__pred/test_acc_37": 0, "sum__num_train_samples": 100000, "sum__pred/test_acc_overall": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_acc_6": 0.9922, "sum__pred/test_editDistance_38": 0.2, "sum__pred/test_editDistance_26": 0.6, "sum__pred/valid_acc_15": 0.9972, "sum__pred/valid_acc_20": 0.9926, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_24": 0.8, "sum__eval/recall": 1, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_f1": 0.7302}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95__146317", "created_at": "2023-03-21T09:18:30", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_20": 0.995, "sum__pred/valid_acc_11": 0.9898, "sum__pred/valid_acc_16": 0.9891, "sum__train/gen_max_length": 256, "sum__pred/valid_samples_per_second": 25.772, "sum__pred/test_editDistance_overall": 0.49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_overall": 0.5338, "sum__pred/valid_acc": 0.9338, "sum__train/total_flos": 1.1637702927477965e+17, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_18": 0.9903, "sum__pred/test_editDistance_28": 0.6, "sum__train/loss": 0, "sum__pred/test_acc_29": 0, "sum__pred/valid_editDistance_13": 0.5013, "sum__pred/valid_editDistance_17": 0.7576, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "dd5d59f910f939f35a6b8b23715cf11d8af76aa1fe6cff55c2b5276796732d3c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_dd5d59f910f939f35a6b.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 351, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__train/f1": 0.5405, "sum__pred/test_seq_acc": 0, "sum__pred/valid_acc_overall": 0.9947, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_10": 0.9948, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_2": 1, "sum__pred/test_editDistance_23": 0.8, "sum__pred/test_editDistance_24": 0.8, "sum__pred/valid_editDistance_3": 0.5089, "sum__pred/valid_editDistance_20": 0.5025, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__train/seq_acc": 1, "sum__evaluated_acc/valid/table#sha256": "8358d38b41ac76a9a6b587c3553eb614dd0bcf4bc1789b032db1f1d06c08e684", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_8358d38b41ac76a9a6b5.table.json", "sum__evaluated_acc/valid/table#size": 2741911, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__train/global_step": 0, "sum__pred/test_editDistance_22": 0.8, "sum__pred/test_editDistance_38": 0.2, "sum__train/epoch": 25.59, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_17": 0.9924, "sum__pred/valid_editDistance_9": 0.2597, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/valid_acc_3": 0.9949, "sum__pred/valid_acc_6": 0.9902, "sum__pred/test_acc_22": 0, "sum__train/train_samples_per_second": 102.942, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 127286, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum___runtime": 25772, "sum__train/recall": 1, "sum__pred/test_editDistance_32": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_3eb2af69eaa94fd4f172.table.json", "sum__evaluated_acc/valid/plot_table#size": 349, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "3eb2af69eaa94fd4f172b2ba6f400d633f399ae20fb6f5cee51a08e5a35a706c", "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_4": 0.9924, "sum__pred/test_editDistance_25": 1, "sum__pred/test_editDistance_29": 0.6, "sum__pred/test_editDistance_33": 0.4, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__pred/test_acc_overall": 0, "sum__pred/test_num_samples": 10000, "sum__train/train_loss": 0.05277208129021492, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_21": 0.4, "sum__pred/test_editDistance_30": 0.4, "sum__pred/valid_steps_per_second": 0.808, "sum__eval/f1": 0.7299, "sum__pred/valid_acc_8": 0.9973, "sum__pred/test_samples_per_second": 24.598, "sum__pred/test_runtime": 406.5327, "sum__pred/test_editDistance_37": 0.6, "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_36": 0.2, "sum__pred/valid_editDistance_7": 0.4854, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_40": 0.8, "sum__pred/valid_editDistance_2": 0, "sum__auto_computed_eval_batch_size": 32, "sum__train/precision": 0.3704, "sum__pred/test_editDistance_26": 0.6, "sum__pred/valid_editDistance_4": 0.7614, "sum__pred/test_acc_34": 0, "sum__train/train_runtime": 24868.3361, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_34": 0.4, "sum__pred/test_editDistance_39": 0, "sum__pred/test_acc_21": 0, "sum__pred/test_acc_30": 0, "sum__num_total_params": 137927808, "sum__pred/test_recall": 0.5186, "sum__pred/valid_acc_15": 0.9974, "sum__pred/valid_editDistance_8": 0.2695, "sum__eval/runtime": 291.4209, "sum__pred/test_loss": 3.029794454574585, "sum__pred/valid_loss": 0.0009246079716831446, "sum__pred/test_steps_per_second": 0.77, "sum__pred/valid_editDistance_10": 0.5236, "sum___wandb#runtime": 25772, "sum__eval/precision": 0.5747, "sum__num_train_samples": 100000, "sum__evaluated_acc/test/table#size": 7472991, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "191fd01a5fb2e33b0768922582f2343d112e3bc9a8af19ac41e96dbe14db3913", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_191fd01a5fb2e33b0768.table.json", "sum__pred/test_editDistance_27": 0.6, "sum__train/train_steps_per_second": 1.608, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__eval/acc": 0.9338, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_13": 0.995, "sum__pred/valid_editDistance_19": 0.2639, "sum__eval/recall": 1, "sum__pred/test_acc": 0.7409, "sum__computed_num_process": 1, "sum__eval/samples_per_second": 25.715, "sum__pred/valid_editDistance_6": 0.9756, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__eval/seq_acc": 1, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_editDistance_16": 1.087, "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__pred/test_acc_23": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_recall": 1, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_19": 0.9974, "sum__pred/valid_f1": 0.7299, "sum__pred/valid_acc_9": 0.9974, "sum__pred/valid_acc_12": 0.9927, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__pred/valid_editDistance_11": 1.0152, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__eval/loss": 0.0002849562151823193, "sum__pred/test_f1": 0.4885, "sum__pred/valid_editDistance_14": 0.2488, "sum___timestamp": 1679389301, "sum__pred/valid_precision": 0.5747, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__pred/valid_editDistance_12": 0.7335, "sum__auto_computed_batch_size_predict": 32, "sum__evaluated_acc/valid/during_training_table#sha256": "9a24842ae5fc1a665efde55e09cf1dab9d68cfc53e043654154706e8ae7a81b9", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_9a24842ae5fc1a665efd.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8399, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__pred/test_acc_40": 0, "sum__pred/test_precision": 0.4616, "sum__pred/valid_acc_7": 0.9951, "sum__train/learning_rate": 1e-07, "sum__pred/valid_acc_5": 1, "sum__pred/valid_runtime": 290.7861, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_15": 0.2625, "sum__pred/valid_editDistance_18": 0.9685, "sum___step": 4146, "sum__train/acc": 0.3745, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_31": 0.6, "sum__eval/steps_per_second": 0.806, "sum__pred/valid_num_samples": 7494}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_agg_234054", "created_at": "2023-03-21T09:18:17", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___wandb#runtime": 120, "sum___runtime": 31, "sum___timestamp": 1679389940, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95__256788", "created_at": "2023-03-21T09:17:46", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc": 0.7381, "sum__pred/test_acc_34": 0, "sum__pred/test_acc_38": 0, "sum__train/recall": 1, "sum__pred/test_editDistance_22": 0.8, "sum__pred/test_editDistance_40": 0.8, "sum__pred/test_acc_33": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_editDistance_4": 0.7937, "sum__pred/test_samples_per_second": 24.346, "sum__num_total_params": 137927808, "sum__pred/valid_acc_7": 0.9948, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_33": 0.4, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__pred/valid_samples_per_second": 25.518, "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__eval/precision": 0.5748, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_14": 0.995, "sum__pred/valid_runtime": 293.6732, "sum__pred/valid_precision": 0.5748, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_23": 0.8, "sum__pred/test_editDistance_27": 0.6, "sum__eval/recall": 1, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_4": 0.9921, "sum__pred/test_runtime": 410.7472, "sum__pred/test_editDistance_36": 0.2, "sum__pred/valid_acc_3": 0.9949, "sum__pred/valid_acc_5": 0.9974, "sum__pred/test_seq_acc": 0, "sum__eval/samples_per_second": 25.728, "sum___runtime": 25941, "sum__eval/loss": 5.8955938584404066e-05, "sum__pred/test_loss": 3.053710699081421, "sum__pred/test_acc_23": 0, "sum__pred/test_editDistance_38": 0.2, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__pred/test_editDistance_21": 0.4, "sum__pred/test_editDistance_25": 1, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_acc_6": 0.9876, "sum__train/train_loss": 0.05255820667338194, "sum__pred/valid_acc_12": 0.9897, "sum__pred/test_steps_per_second": 0.762, "sum__pred/test_editDistance_overall": 0.49, "sum__auto_computed_batch_size_predict": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__eval/runtime": 291.2822, "sum__train/precision": 0.352, "sum__pred/valid_acc_17": 0.9924, "sum__pred/valid_recall": 1, "sum__pred/valid_editDistance_14": 0.5, "sum__pred/valid_editDistance_17": 0.7576, "sum__pred/valid_editDistance_18": 0.7194, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__train/epoch": 25.59, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_37": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum___wandb#runtime": 25941, "sum__pred/valid_acc_overall": 0.9933, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 123846, "sum__pred/valid_acc_13": 0.9929, "sum__train/gen_max_length": 256, "sum__pred/test_acc_overall": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_18": 0.9928, "sum__pred/test_acc_30": 0, "sum__pred/test_editDistance_24": 0.8, "sum__pred/valid_editDistance_6": 1.2376, "sum__pred/valid_acc_19": 0.9947, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_12": 1.0256, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_30": 0.4, "sum__pred/valid_editDistance_13": 0.7126, "sum__train/f1": 0.5208, "sum__pred/test_f1": 0.4801, "sum__train/global_step": 0, "sum__pred/test_editDistance_37": 0.6, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_2": 0.2331, "sum__pred/valid_editDistance_9": 0.7653, "sum__pred/valid_editDistance_overall": 0.6672, "sum__train/total_flos": 1.1637128761063834e+17, "sum__pred/valid_acc_10": 0.9947, "sum__train/train_runtime": 25023.7894, "sum__pred/test_editDistance_26": 0.6, "sum__pred/valid_editDistance_8": 0.5376, "sum__pred/valid_editDistance_20": 0.813, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__eval/f1": 0.73, "sum__pred/test_recall": 0.5069, "sum__pred/valid_acc_2": 0.9977, "sum__pred/test_editDistance_34": 0.4, "sum__pred/valid_editDistance_19": 0.5333, "sum__pred/valid_f1": 0.73, "sum__pred/valid_loss": 0.000353753799572587, "sum__pred/valid_acc_20": 0.9919, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_15": 0.5013, "sum__auto_computed_grad_acc_steps": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__eval/seq_acc": 1, "sum__num_train_samples": 100000, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_31": 0.6, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_8": 0.9946, "sum__pred/valid_editDistance_10": 0.5291, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_35": 0, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "bca4321d9c53fb02a429f9a4435cbbcaf258b82206f64a2e6bd695fb130cdccd", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_bca4321d9c53fb02a429.table.json", "sum__evaluated_acc/test/table#size": 7417046, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__auto_computed_eval_batch_size": 32, "sum___step": 4146, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_f0db5a382469eab03a0c.table.json", "sum__evaluated_acc/valid/table#size": 2744903, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "f0db5a382469eab03a0c25df24e59719c79597ebd769b8a9ad759f7145d3fe96", "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_3": 0.5063, "sum__pred/valid_editDistance_16": 1.2821, "sum__train/train_steps_per_second": 1.598, "sum__pred/test_acc_25": 0, "sum__pred/test_precision": 0.4559, "sum__num_trainable_params": 109607040, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_86eb1df1474d668bf29c.table.json", "sum__evaluated_acc/valid/plot_table#size": 355, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "86eb1df1474d668bf29c4a37b09ba77f7a888798220c3d64cb8fda26c94ffe7d", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_d2c736fbb5153b24e0fa.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8516, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "d2c736fbb5153b24e0fa317491eee513210e55213440464d8d361a2f4a9af14b", "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "87e3b1389bd1c84b12df46f6468799fd81222cf3a86b3f1e8f1ca7d0d980d259", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_87e3b1389bd1c84b12df.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 354, "sum__pred/valid_acc_16": 0.9872, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__pred/valid_editDistance_5": 0.2611, "sum__pred/valid_steps_per_second": 0.8, "sum__pred/valid_acc": 0.9337, "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_11": 0.9952, "sum__train/acc": 0.3525, "sum___timestamp": 1679337692, "sum__pred/valid_editDistance_7": 0.5181, "sum__train/loss": 0, "sum__train/seq_acc": 1, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_9": 0.9923, "sum__eval/steps_per_second": 0.807, "sum__pred/test_editDistance_29": 0.6, "sum__pred/test_acc_21": 0, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_15": 0.995, "sum__computed_num_process": 1, "sum__train/train_samples_per_second": 102.303, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__eval/acc": 0.9337, "sum__pred/test_acc_39": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__pred/valid_editDistance_11": 0.4762}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_2_146317", "created_at": "2023-03-21T09:17:29", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum___step": 8, "sum___timestamp": 1679389657, "sum___runtime": 30, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___wandb#runtime": 147, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_agg_256788", "created_at": "2023-03-21T09:17:11", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum___timestamp": 1679389813, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum___wandb#runtime": 120, "sum___runtime": 31, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_2_256788", "created_at": "2023-03-21T09:16:56", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___runtime": 31, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum___wandb#runtime": 150, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__computed_num_process": 1, "sum___timestamp": 1679389341, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_2_234054", "created_at": "2023-03-21T09:16:42", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___wandb#runtime": 152, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum___runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___timestamp": 1679389499, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_agg_146317", "created_at": "2023-03-21T09:16:27", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 117, "sum___runtime": 30, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum___step": 8, "sum___timestamp": 1679390067, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd__146317", "created_at": "2023-03-21T04:42:42", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_18": 1, "sum__pred/valid_acc_20": 1, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_15": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-8000", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__train/epoch": 25.59, "sum__pred/valid_f1": 0.767, "sum__pred/test_acc_37": 0, "sum__pred/valid_runtime": 338.2206, "sum__pred/test_num_samples": 10000, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-8000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_36": 0, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_30": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__train/train_steps_per_second": 1.446, "sum__eval/recall": 1, "sum__eval/precision": 0.6221, "sum__num_total_params": 137927808, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_steps_per_second": 0.157, "sum__pred/test_samples_per_second": 5.004, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_4": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_samples_per_second": 22.157, "sum__eval/loss": 6.153232448014023e-07, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_2e4964f646eea61ef8d0.table.json", "sum__evaluated_acc/valid/table#size": 2213573, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "2e4964f646eea61ef8d022a3556d3e7ab1a921abb8a12aca26fb7f9ea49cf89d", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/valid_recall": 1, "sum__pred/valid_editDistance_11": 0, "sum__train/global_step": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_2": 0, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_7": 1, "sum__pred/valid_precision": 0.6221, "sum__eval/steps_per_second": 0.695, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_16": 1, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_17": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_39": 0.01, "sum__pred/test_runtime": 1998.3461, "sum__pred/test_precision": 0.2437, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_12": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_21": 0.81, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum___wandb#runtime": 30372, "sum__train/f1": 0.584, "sum__train/loss": 0, "sum__train/seq_acc": 1, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_14": 1, "sum__pred/test_acc_overall": 0.0427, "sum__train/acc": 0.4124, "sum__pred/valid_acc_6": 1, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_editDistance_9": 0, "sum__evaluated_acc/valid/plot_table#sha256": "6c9d25a880a0c2f3e490a77c620c1eec00bfaf901a567ac1d5fe3d3d56823d7d", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_6c9d25a880a0c2f3e490.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_2": 1, "sum__pred/test_seq_acc": 0.0427, "sum__pred/valid_acc_12": 1, "sum__pred/valid_editDistance_3": 0, "sum__eval/f1": 0.767, "sum___runtime": 30372, "sum__pred/test_acc_34": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/train_samples_per_second": 92.566, "sum___timestamp": 1679372623, "sum__pred/test_acc": 0.5995, "sum__pred/test_loss": 2.190093994140625, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_40": 0, "sum__train/total_flos": 1.2507380180700365e+17, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_acc_33": 0, "sum__pred/test_recall": 0.447, "sum__train/train_loss": 0.21433784273292003, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_editDistance_overall": 0, "sum__train/precision": 0.4124, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_editDistance_8": 0, "sum___step": 4146, "sum__pred/valid_loss": 1.6282046999549493e-05, "sum__pred/test_acc_26": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_19": 1, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_7bb04fb56852abb9be00.table.json", "sum__evaluated_acc/test/table#size": 8622750, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "7bb04fb56852abb9be00d708ecd086f2091696cc42f5b1f95f4484a93649babc", "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc_10": 1, "sum__eval/samples_per_second": 22.169, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_20": 0, "sum__eval/runtime": 338.0399, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_17": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/test_editDistance_40": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_173be616105c4fe1fd95.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7524, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "173be616105c4fe1fd955f0305fecbb921a6ab130be0c950c268e009ea651e55", "sum__eval/acc": 0.9338, "sum__train/recall": 1, "sum__pred/test_acc_22": 0.034, "sum__train/learning_rate": 1e-07, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-8000", "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-8000", "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_27": 0, "sum__num_train_samples": 100000, "sum__train/train_runtime": 27655.9519, "sum__pred/valid_acc": 0.9338, "sum__pred/test_acc_31": 0, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_acc_4": 1, "sum__pred/test_editDistance_25": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_455ebbc85ed2e6200f54.table.json", "sum__evaluated_acc/test/plot_table#size": 325, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "455ebbc85ed2e6200f54e8f7c2a2dff09c43ed477f89c2e61b777f7198d24ec1", "sum__eval/seq_acc": 1, "sum__pred/test_f1": 0.3154, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_steps_per_second": 0.695, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107034, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_2_234054", "created_at": "2023-03-21T04:42:27", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___timestamp": 1679372841, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___wandb#runtime": 168, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_234054", "created_at": "2023-03-21T04:42:13", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum___wandb#runtime": 134, "sum___timestamp": 1679373335, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 31, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_146317", "created_at": "2023-03-21T04:41:58", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 31, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum___wandb#runtime": 133, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-8000", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___timestamp": 1679373477}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_256788", "created_at": "2023-03-21T04:41:45", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___runtime": 32, "sum__computed_num_process": 1, "sum___step": 8, "sum___wandb#runtime": 135, "sum___timestamp": 1679373193, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_2_256788", "created_at": "2023-03-21T04:41:30", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum___timestamp": 1679372664, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 33, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___wandb#runtime": 170, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd__234054", "created_at": "2023-03-21T04:40:58", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum___step": 4146, "sum__pred/test_acc_22": 0, "sum__pred/valid_recall": 1, "sum__eval/samples_per_second": 22.105, "sum__pred/test_editDistance_40": 0, "sum___timestamp": 1679342242, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_3": 1, "sum__train/loss": 0, "sum__train/recall": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_25": 0, "sum__pred/valid_editDistance_2": 0, "sum__train/train_steps_per_second": 1.457, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 103020, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum___wandb#runtime": 30266, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/test_acc_35": 0, "sum__train/train_runtime": 27457.1392, "sum__eval/seq_acc": 1, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_18": 1, "sum__pred/valid_editDistance_10": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__pred/test_loss": 1.8049523830413816, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_19": 1, "sum__pred/test_precision": 0.2542, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_4": 1, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_5": 0, "sum__auto_computed_grad_acc_steps": 1, "sum___runtime": 30266, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_12": 0, "sum__train/train_samples_per_second": 93.236, "sum__pred/valid_acc_14": 1, "sum__pred/test_acc": 0.5916, "sum__pred/valid_f1": 0.7672, "sum__pred/test_acc_23": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_samples_per_second": 22.004, "sum__pred/valid_acc_6": 1, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_16": 1, "sum__pred/valid_editDistance_11": 0, "sum__train/f1": 0.5818, "sum__eval/precision": 0.6223, "sum__pred/test_seq_acc": 0.0382, "sum__pred/valid_acc_10": 1, "sum__pred/test_editDistance_36": 0, "sum__pred/test_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__train/acc": 0.4102, "sum__train/total_flos": 1.2506655948064358e+17, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_13": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__pred/valid_editDistance_19": 0, "sum__train/seq_acc": 1, "sum__num_total_params": 137927808, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_3": 0, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_8": 1, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "9d425b1e649fed752dc128b3ec5d094e3cda7648ef6fb2a6e054bab37d1d80c2", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_9d425b1e649fed752dc1.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#sha256": "4988761410031d078bf07f9732e9422184083698737b6d0ab121b5a6b00e78a3", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4988761410031d078bf0.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__pred/test_recall": 0.4699, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_overall": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_9": 1, "sum__pred/valid_runtime": 340.5686, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__auto_computed_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_7": 1, "sum__train/learning_rate": 1e-07, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_editDistance_31": 0, "sum__train/precision": 0.4102, "sum__train/train_loss": 0.2086916652153948, "sum__pred/valid_acc_17": 1, "sum__train/global_step": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_14": 0, "sum__eval/f1": 0.7672, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_precision": 0.6223, "sum__pred/valid_editDistance_16": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_d7d2f819a63066f0fca1.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7555, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "d7d2f819a63066f0fca1899f67b7f956c3b3e9d929dc94b61fa600ed4c19eeb1", "sum__pred/valid_editDistance_4": 0, "sum__eval/recall": 1, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_15": 1, "sum__eval/steps_per_second": 0.693, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_8": 0, "sum__eval/acc": 0.9335, "sum__pred/valid_acc": 0.9335, "sum__pred/test_acc_overall": 0.0382, "sum__pred/valid_editDistance_18": 0, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__pred/test_f1": 0.3299, "sum__pred/valid_loss": 2.1531859601964243e-05, "sum__pred/test_acc_33": 0, "sum__num_train_samples": 100000, "sum__pred/test_runtime": 2027.4395, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_9cb82682fd763469c519.table.json", "sum__evaluated_acc/test/table#size": 8660230, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "9cb82682fd763469c519a404d4d616586e6c0403a06b9fbcf7bc7166cdaf263d", "sum__pred/valid_steps_per_second": 0.69, "sum__train/epoch": 25.59, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_12": 1, "sum__num_trainable_params": 109607040, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_29": 0, "sum__auto_computed_batch_size_predict": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__eval/loss": 6.053456900190213e-07, "sum__eval/runtime": 339.0118, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/valid/table#size": 2226101, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "96542f57516246dca41b44a80d04aec967ad0644fc55bf68676be910056dce5a", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_96542f57516246dca41b.table.json", "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_17": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__pred/test_acc_21": 0.764, "sum__pred/test_steps_per_second": 0.154, "sum__pred/test_samples_per_second": 4.932}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd__256788", "created_at": "2023-03-21T04:40:25", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/acc": 0.3974, "sum__train/epoch": 25.59, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_12": 1, "sum__pred/valid_acc_18": 1, "sum__pred/valid_runtime": 325.8559, "sum___wandb#runtime": 29599, "sum__num_non_trainable_params": 28320768, "sum__pred/test_acc_overall": 0.0472, "sum__pred/test_editDistance_37": 0, "sum__pred/test_steps_per_second": 0.171, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_12": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_a608cf38d62909b50b73.table.json", "sum__evaluated_acc/test/plot_table#size": 328, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "a608cf38d62909b50b735594567e2c5c8cca9c9e26e1f9fccdf012b8f4a78cb7", "sum__pred/test_acc_22": 0.01, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_4": 1, "sum__train/learning_rate": 1e-07, "sum__pred/test_acc_39": 0.022, "sum__train/total_flos": 1.2506806014286234e+17, "sum__eval/samples_per_second": 22.953, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum___runtime": 29599, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_15": 1, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_precision": 0.6221, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_samples_per_second": 5.46, "sum__pred/test_acc_24": 0.006, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_3": 1, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_2": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__eval/steps_per_second": 0.72, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "cde994ce8d53e4d8256bca8b4e44e09d8c88dcd5aa85f4fa4759f7db61a014fc", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_cde994ce8d53e4d8256b.table.json", "sum__evaluated_acc/valid/table#size": 2216257, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__eval/recall": 1, "sum__pred/test_seq_acc": 0.0472, "sum__pred/valid_acc_16": 1, "sum__pred/test_precision": 0.2933, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_21": 0.906, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_36": 0, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__pred/valid_acc_7": 1, "sum__train/train_runtime": 27125.174, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_612d950a663f4fccd566.table.json", "sum__evaluated_acc/test/table#size": 7752919, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "612d950a663f4fccd566ba2c612c9acca011fdd924d37ed1ffd99d9e6c67ca16", "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_38": 0, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__pred/test_acc": 0.6604, "sum__train/precision": 0.3974, "sum__train/train_loss": 0.2079047857724716, "sum__pred/test_runtime": 1831.4151, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_f1": 0.767, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_32": 0, "sum__computed_num_process": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_14": 0, "sum___step": 4146, "sum___timestamp": 1679311967, "sum__eval/seq_acc": 1, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_17": 1, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_ac997907772c6b38c51d.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7546, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "ac997907772c6b38c51db114d81aa776f86853d95c039a2fdf7d62c4f27f9c5e", "sum__pred/valid_acc_10": 1, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_samples_per_second": 22.998, "sum__pred/valid_acc_5": 1, "sum__pred/valid_recall": 1, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_f1": 0.3623, "sum__auto_computed_grad_acc_steps": 1, "sum__auto_computed_batch_size_predict": 32, "sum__train/recall": 1, "sum__num_train_samples": 100000, "sum__pred/valid_editDistance_18": 0, "sum__train/train_samples_per_second": 94.377, "sum__num_total_params": 137927808, "sum__pred/test_acc_29": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_13": 1, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_16": 0, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__pred/test_loss": 2.178769588470459, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_7": 0, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "7e0992967c4c807987036894bba4b5ee282492a781957c1b921953f6349a1c4e", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_7e0992967c4c80798703.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__eval/acc": 0.9337, "sum__pred/test_acc_30": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_steps_per_second": 0.721, "sum__auto_computed_eval_batch_size": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__train/loss": 0, "sum__eval/runtime": 326.4967, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_20": 1, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 106359, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__pred/test_recall": 0.4736, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_32": 0, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__pred/valid_acc_6": 1, "sum__train/global_step": 0, "sum__pred/test_editDistance_25": 0, "sum__train/train_steps_per_second": 1.475, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_editDistance_overall": 0, "sum__train/f1": 0.5688, "sum__train/seq_acc": 1, "sum__pred/test_editDistance_23": 0, "sum__eval/precision": 0.6221, "sum__pred/valid_loss": 8.02834165369859e-06, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_6": 0, "sum__eval/f1": 0.767, "sum__eval/loss": 5.276337446957768e-07, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc": 0.9337, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_15": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_2_146317", "created_at": "2023-03-21T04:40:10", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-8000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___wandb#runtime": 168, "sum___runtime": 31, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum___timestamp": 1679373016, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_agg_146317", "created_at": "2023-03-21T03:00:40", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum___timestamp": 1679366775, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___wandb#runtime": 701, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___step": 8, "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_agg_234054", "created_at": "2023-03-21T03:00:25", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 708, "sum___timestamp": 1679366060, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___runtime": 32, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_agg_256788", "created_at": "2023-03-21T03:00:11", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum___wandb#runtime": 713, "sum___timestamp": 1679365339, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_2_234054", "created_at": "2023-03-21T02:59:55", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 33, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___wandb#runtime": 123, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679365071, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064__146317", "created_at": "2023-03-21T02:59:24", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_editDistance_32": 0, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_33": 0, "sum__num_train_samples": 100000, "sum__pred/test_precision": 0.5967, "sum__train/train_runtime": 18452.1811, "sum__pred/test_editDistance_30": 0.4, "sum__train/seq_acc": 1, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_6": 0.9902, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_8358d38b41ac76a9a6b5.table.json", "sum__evaluated_acc/valid/table#size": 2741911, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "8358d38b41ac76a9a6b587c3553eb614dd0bcf4bc1789b032db1f1d06c08e684", "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_22": 0.8, "sum__pred/valid_editDistance_11": 1.0152, "sum__pred/valid_editDistance_18": 0.9685, "sum__pred/valid_editDistance_19": 0.2639, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "3eb2af69eaa94fd4f172b2ba6f400d633f399ae20fb6f5cee51a08e5a35a706c", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_3eb2af69eaa94fd4f172.table.json", "sum__evaluated_acc/valid/plot_table#size": 349, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__pred/test_acc_21": 0.992, "sum__pred/valid_acc_8": 0.9973, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_16": 1.087, "sum__pred/test_f1": 0.7148, "sum__pred/valid_acc_4": 0.9924, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_6": 0.9756, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_acc_19": 0.9974, "sum__eval/samples_per_second": 53.201, "sum__pred/test_editDistance_29": 0.6, "sum__pred/test_editDistance_35": 0, "sum___wandb#runtime": 19098, "sum__eval/loss": 0.0005450542084872723, "sum__pred/test_editDistance_27": 0.6, "sum__pred/test_acc_36": 0, "sum__train/train_loss": 0.07260903874292854, "sum__pred/valid_acc_10": 0.9948, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "dd5d59f910f939f35a6b8b23715cf11d8af76aa1fe6cff55c2b5276796732d3c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_dd5d59f910f939f35a6b.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 351, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__pred/test_acc_25": 0.024, "sum__pred/test_runtime": 301.4879, "sum__num_non_trainable_params": 28320768, "sum__eval/runtime": 140.8614, "sum__pred/test_acc_40": 0, "sum__pred/valid_editDistance_8": 0.2695, "sum__num_total_params": 137927808, "sum__pred/valid_acc_7": 0.9951, "sum__pred/test_acc_overall": 0.1676, "sum__pred/valid_editDistance_10": 0.5236, "sum__auto_computed_grad_acc_steps": 1, "sum__train/recall": 1, "sum__pred/valid_f1": 0.7299, "sum__pred/valid_acc_13": 0.995, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_39": 0, "sum__pred/test_acc_22": 0.99, "sum__pred/test_acc_38": 0, "sum__pred/valid_runtime": 140.621, "sum__pred/valid_editDistance_9": 0.2597, "sum__pred/valid_editDistance_12": 0.7335, "sum__auto_computed_batch_size_predict": 32, "sum__computed_num_process": 1, "sum__train/gen_max_length": 256, "sum__pred/valid_acc_12": 0.9927, "sum__pred/test_editDistance_33": 0.4, "sum__pred/valid_editDistance_20": 0.5025, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__train/precision": 0.3679, "sum__pred/test_acc_28": 0, "sum__pred/test_recall": 0.891, "sum__pred/test_samples_per_second": 33.169, "sum__pred/valid_samples_per_second": 53.292, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__pred/valid_acc": 0.9338, "sum__eval/steps_per_second": 1.668, "sum__pred/valid_editDistance_7": 0.4854, "sum__pred/test_steps_per_second": 1.038, "sum__pred/valid_editDistance_13": 0.5013, "sum__auto_computed_eval_batch_size": 32, "sum__eval/acc": 0.9338, "sum__pred/valid_acc_3": 0.9949, "sum__pred/valid_acc_17": 0.9924, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_31": 0.6, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679364902, "sum__eval/seq_acc": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_24": 0.8, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__eval/recall": 1, "sum__pred/test_acc": 0.8311, "sum__eval/precision": 0.5747, "sum__pred/valid_seq_acc": 1, "sum__train/train_samples_per_second": 138.737, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 127286, "sum__pred/test_acc_27": 0, "sum__train/total_flos": 1.1637702927477965e+17, "sum__pred/test_editDistance_40": 0.8, "sum__pred/valid_steps_per_second": 1.671, "sum___step": 4146, "sum__pred/valid_acc_20": 0.995, "sum__pred/test_editDistance_23": 0.8, "sum__pred/test_editDistance_36": 0.2, "sum__pred/test_editDistance_overall": 0.49, "sum__pred/test_seq_acc": 0.1687, "sum__pred/test_editDistance_34": 0.4, "sum__pred/valid_editDistance_3": 0.5089, "sum__pred/valid_editDistance_4": 0.7614, "sum__pred/valid_editDistance_overall": 0.5338, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__pred/test_acc_24": 0.458, "sum__pred/valid_acc_5": 1, "sum__pred/valid_recall": 1, "sum__pred/valid_editDistance_14": 0.2488, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "e34202fa27cbb2a8c7cd779b3173640f7c9dc7a7c89e4f603b4d00af7de77190", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_e34202fa27cbb2a8c7cd.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8431, "sum__pred/valid_loss": 0.0005632828688248992, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_28": 0.6, "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__pred/test_acc_30": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_11": 0.9898, "sum__pred/test_editDistance_21": 0.4, "sum__pred/valid_editDistance_17": 0.7576, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_16": 0.9891, "sum__train/global_step": 0, "sum__pred/valid_precision": 0.5747, "sum__pred/valid_acc_overall": 0.9947, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__eval/f1": 0.7299, "sum___runtime": 19098, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_2": 1, "sum__pred/test_editDistance_26": 0.6, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "18894239fe3d41975d411440936b26c7353b2b664b2ce6433608ce5129d723b4", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_18894239fe3d41975d41.table.json", "sum__evaluated_acc/test/plot_table#size": 330, "sum__train/acc": 0.3679, "sum__pred/valid_acc_15": 0.9974, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__pred/test_editDistance_25": 1, "sum__pred/test_editDistance_37": 0.6, "sum__pred/test_editDistance_38": 0.2, "sum__train/loss": 0.0003, "sum__train/epoch": 25.59, "sum__pred/valid_acc_18": 0.9903, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_7a65c745bcac81a81746.table.json", "sum__evaluated_acc/test/table#size": 9232376, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "7a65c745bcac81a81746bdb4ae5022d0220d798f974a5f3431504b53fabb7955", "sum__train/f1": 0.5379, "sum__pred/test_acc_23": 0.888, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_9": 0.9974, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__pred/test_loss": 1.020216464996338, "sum__pred/test_acc_31": 0, "sum__pred/valid_editDistance_15": 0.2625, "sum__train/train_steps_per_second": 2.168}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064__234054", "created_at": "2023-03-21T02:58:53", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/global_step": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__pred/test_editDistance_32": 0, "sum__computed_per_device_train_batch_size": 64, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum___step": 4146, "sum__pred/valid_editDistance_7": 0.7426, "sum__pred/valid_editDistance_10": 0.5249, "sum__pred/valid_editDistance_12": 0.7075, "sum__pred/valid_editDistance_18": 0.8086, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "1a90faf1cee7422c6e52499cacc73b811e556f18b9e6868cda8fcd1861653ef0", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_1a90faf1cee7422c6e52.table.json", "sum__evaluated_acc/valid/plot_table#size": 347, "sum__pred/valid_f1": 0.7302, "sum__pred/test_acc_34": 0, "sum__pred/test_seq_acc": 0.2752, "sum__pred/test_acc_overall": 0.2733, "sum__pred/test_editDistance_39": 0, "sum__pred/test_acc_29": 0, "sum__train/learning_rate": 1e-07, "sum__pred/test_steps_per_second": 1.067, "sum__num_total_params": 137927808, "sum__pred/test_editDistance_26": 0.6, "sum__pred/test_editDistance_33": 0.4, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__eval/steps_per_second": 1.684, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_5620e03471c726c7eb6f.table.json", "sum__evaluated_acc/valid/table#size": 2746277, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "5620e03471c726c7eb6fcdc3acecfe48e2714793719eff44bb85b035bc2765f8", "sum__pred/valid_editDistance_14": 0.2525, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_4": 0.995, "sum__pred/valid_acc_7": 0.9926, "sum__pred/test_runtime": 293.2827, "sum__pred/valid_acc_14": 0.9975, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 117348, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__train/total_flos": 1.1636978694841958e+17, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_8": 0.9973, "sum__train/train_runtime": 18285.1736, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_20": 0.7389, "sum__auto_computed_grad_acc_steps": 1, "sum___timestamp": 1679345796, "sum__train/recall": 0.9994, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_11": 0.9902, "sum__pred/test_editDistance_21": 0.4, "sum__train/epoch": 25.59, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_16": 0.9922, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_precision": 0.5751, "sum__pred/valid_editDistance_16": 0.7812, "sum__pred/valid_runtime": 139.4544, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_36": 0.2, "sum__train/f1": 0.535, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_6": 0.9922, "sum__pred/valid_acc_10": 0.9948, "sum__auto_computed_batch_size_predict": 32, "sum__eval/acc": 0.9335, "sum__computed_num_process": 1, "sum__num_non_trainable_params": 28320768, "sum__train/acc": 0.3653, "sum__train/seq_acc": 0.9844, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__pred/test_editDistance_25": 1, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "53bc88450cd3bfc475ed9bdd5281195118c61f754ca12d7d15034eba9dc7b798", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_53bc88450cd3bfc475ed.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 349, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__pred/valid_acc_overall": 0.9948, "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_37": 0.6, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_9": 0.9926, "sum__pred/valid_recall": 1, "sum__num_trainable_params": 109607040, "sum__train/gen_max_length": 256, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "00962f5fe5bd26117ae6b6c93945dd94434ac56182971b8ba809d4c398e2367c", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_00962f5fe5bd26117ae6.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8393, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__eval/f1": 0.7302, "sum__pred/valid_acc": 0.9335, "sum__pred/valid_acc_20": 0.9926, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__eval/seq_acc": 1, "sum__pred/test_acc_27": 0.002, "sum__pred/valid_editDistance_3": 0, "sum__eval/loss": 4.570183591567911e-06, "sum__pred/test_editDistance_29": 0.6, "sum__pred/valid_samples_per_second": 53.738, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum___runtime": 18923, "sum__train/loss": 0.0002, "sum__eval/recall": 1, "sum__pred/test_acc_25": 0.988, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__train/precision": 0.3653, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_editDistance_27": 0.6, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__pred/test_acc_30": 0, "sum__pred/test_precision": 0.5968, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_4": 0.4975, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__pred/test_loss": 1.2618858814239502, "sum__pred/valid_loss": 6.38151541352272e-05, "sum__pred/valid_acc_17": 0.9953, "sum__pred/valid_editDistance_15": 0.2755, "sum__pred/test_acc_23": 0.992, "sum__pred/valid_num_samples": 7494, "sum__pred/test_samples_per_second": 34.097, "sum___wandb#runtime": 18923, "sum__pred/test_acc": 0.8305, "sum__pred/test_acc_22": 0.992, "sum__pred/test_acc_26": 0.504, "sum__pred/test_editDistance_38": 0.2, "sum__pred/valid_acc_15": 0.9972, "sum__pred/test_editDistance_30": 0.4, "sum__train/train_samples_per_second": 140.004, "sum__pred/test_acc_21": 0.996, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_24": 0.8, "sum__pred/valid_steps_per_second": 1.685, "sum__pred/valid_editDistance_overall": 0.5204, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_17": 0.4706, "sum__train/train_steps_per_second": 2.188, "sum__pred/test_f1": 0.714, "sum__pred/valid_acc_12": 0.9929, "sum__pred/valid_acc_18": 0.9919, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_6bc997ac169ca3e289a3.table.json", "sum__evaluated_acc/test/table#size": 9211229, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "6bc997ac169ca3e289a3c04a8bdb7512f71a98f0f0d7cc3b82fb290ad8d0699a", "sum__pred/test_editDistance_31": 0.6, "sum__pred/test_editDistance_overall": 0.49, "sum__pred/test_editDistance_23": 0.8, "sum__pred/test_editDistance_34": 0.4, "sum__pred/valid_editDistance_6": 0.7772, "sum__pred/test_recall": 0.8886, "sum__num_train_samples": 100000, "sum__pred/valid_acc_19": 0.9951, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_22": 0.8, "sum__pred/valid_editDistance_19": 0.4866, "sum__pred/test_acc_24": 0.992, "sum__pred/valid_acc_13": 0.9922, "sum__pred/valid_editDistance_9": 0.7444, "sum__pred/valid_editDistance_11": 0.9756, "sum__eval/precision": 0.5751, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_35": 0, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "4472aaab9a13bd13c10577e09b7a731c40fd8c497f77331eefc64165c530be83", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_4472aaab9a13bd13c105.table.json", "sum__evaluated_acc/test/plot_table#size": 335, "sum__pred/valid_editDistance_13": 0.7752, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__eval/runtime": 139.5755, "sum__train/train_loss": 0.07296964486649958, "sum__eval/samples_per_second": 53.691, "sum__pred/test_editDistance_40": 0.8, "sum__pred/valid_editDistance_8": 0.2703}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_2_256788", "created_at": "2023-03-21T02:58:38", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 120, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum___timestamp": 1679364942, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___step": 8, "sum___runtime": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064__256788", "created_at": "2023-03-21T02:58:05", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_40": 0, "sum__pred/test_runtime": 295.8564, "sum__train/gen_max_length": 256, "sum__pred/test_loss": 0.9965652227401732, "sum__pred/test_acc_31": 0, "sum__pred/test_editDistance_23": 0.8, "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__eval/acc": 0.9337, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_35": 0, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__train/learning_rate": 1e-07, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_11": 0.4762, "sum__evaluated_acc/valid/editDistance_plot_table#size": 354, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "87e3b1389bd1c84b12df46f6468799fd81222cf3a86b3f1e8f1ca7d0d980d259", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_87e3b1389bd1c84b12df.table.json", "sum__pred/valid_samples_per_second": 53.589, "sum__train/f1": 0.5205, "sum__train/acc": 0.3518, "sum__pred/valid_acc_6": 0.9876, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_40": 0.8, "sum__pred/test_seq_acc": 0.1411, "sum__pred/valid_runtime": 139.8423, "sum__pred/test_editDistance_21": 0.4, "sum__pred/test_editDistance_26": 0.6, "sum__pred/test_editDistance_34": 0.4, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "e2a89777cd20ca46802e6a8faca3dfff973ade817a5ed7865333c029adb66265", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_e2a89777cd20ca46802e.table.json", "sum__evaluated_acc/test/plot_table#size": 327, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__computed_per_device_eval_batch_size": 32, "sum__eval/precision": 0.5748, "sum__pred/valid_acc_18": 0.9928, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_6": 1.2376, "sum__pred/valid_editDistance_18": 0.7194, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_af031999b41376883d7c.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8508, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "af031999b41376883d7c3756cdff9551e236f37afd1c8aea2672e5f6b28391a4", "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__num_total_params": 137927808, "sum__pred/valid_acc_8": 0.9946, "sum__train/train_loss": 0.07229980736419094, "sum__pred/valid_acc_12": 0.9897, "sum__pred/valid_recall": 1, "sum__pred/test_acc_overall": 0.14, "sum__pred/test_editDistance_22": 0.8, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__pred/valid_acc_20": 0.9919, "sum__pred/valid_acc_overall": 0.9933, "sum__eval/samples_per_second": 53.916, "sum__pred/test_editDistance_38": 0.2, "sum__pred/valid_editDistance_5": 0.2611, "sum__pred/valid_acc_5": 0.9974, "sum__train/global_step": 0, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_20": 0.813, "sum__pred/test_precision": 0.5937, "sum___wandb#runtime": 18907, "sum__pred/valid_editDistance_9": 0.7653, "sum__pred/valid_editDistance_15": 0.5013, "sum__num_non_trainable_params": 28320768, "sum__train/train_steps_per_second": 2.191, "sum__auto_computed_batch_size_predict": 32, "sum__train/seq_acc": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_39": 0, "sum___timestamp": 1679326864, "sum__computed_num_process": 1, "sum__pred/test_editDistance_31": 0.6, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_17": 0.9924, "sum__pred/valid_editDistance_2": 0.2331, "sum__train/epoch": 25.59, "sum__eval/seq_acc": 1, "sum__pred/valid_acc": 0.9337, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_36": 0, "sum__pred/test_steps_per_second": 1.058, "sum__pred/valid_editDistance_13": 0.7126, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__pred/test_editDistance_37": 0.6, "sum__pred/valid_steps_per_second": 1.68, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_86eb1df1474d668bf29c.table.json", "sum__evaluated_acc/valid/plot_table#size": 355, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "86eb1df1474d668bf29c4a37b09ba77f7a888798220c3d64cb8fda26c94ffe7d", "sum__pred/test_num_samples": 10000, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__pred/test_editDistance_36": 0.2, "sum__pred/test_acc_22": 0.97, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_4": 0.9921, "sum__pred/valid_editDistance_4": 0.7937, "sum__train/train_samples_per_second": 140.196, "sum___step": 4146, "sum__pred/test_acc_38": 0, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "580b14376e6face9a165445b951b80d2fd4b71de7f301334428625b32d8adf5f", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_580b14376e6face9a165.table.json", "sum__evaluated_acc/test/table#size": 9183873, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/test_editDistance_29": 0.6, "sum__pred/valid_editDistance_7": 0.5181, "sum__eval/runtime": 138.9939, "sum__train/recall": 1, "sum__pred/valid_acc_2": 0.9977, "sum__pred/valid_acc_10": 0.9947, "sum__pred/test_editDistance_30": 0.4, "sum__pred/test_editDistance_33": 0.4, "sum__pred/valid_editDistance_3": 0.5063, "sum__pred/valid_editDistance_16": 1.2821, "sum__pred/test_f1": 0.7091, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_7": 0.9948, "sum__pred/valid_editDistance_19": 0.5333, "sum__auto_computed_eval_batch_size": 32, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__pred/test_editDistance_25": 1, "sum__pred/valid_editDistance_17": 0.7576, "sum__pred/test_acc": 0.8285, "sum__pred/test_acc_25": 0.002, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_14": 0.995, "sum__pred/valid_precision": 0.5748, "sum__train/loss": 0.0002, "sum__pred/test_acc_34": 0, "sum__num_train_samples": 100000, "sum__pred/valid_acc_16": 0.9872, "sum__pred/valid_editDistance_12": 1.0256, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_overall": 0.49, "sum__eval/recall": 1, "sum__pred/test_acc_24": 0.13, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_9": 0.9923, "sum__pred/valid_editDistance_8": 0.5376, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__ds_examples/ExperimentStage.PREDICTION#size": 123846, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_79177656d9e80fa4ebcb.table.json", "sum__eval/f1": 0.73, "sum___runtime": 18906, "sum__pred/valid_acc_13": 0.9929, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_f0db5a382469eab03a0c.table.json", "sum__evaluated_acc/valid/table#size": 2744903, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "f0db5a382469eab03a0c25df24e59719c79597ebd769b8a9ad759f7145d3fe96", "sum__pred/test_editDistance_27": 0.6, "sum__pred/test_recall": 0.8804, "sum__pred/valid_acc_3": 0.9949, "sum__pred/valid_acc_11": 0.9952, "sum__pred/valid_editDistance_14": 0.5, "sum__pred/valid_acc_15": 0.995, "sum__pred/test_editDistance_24": 0.8, "sum__pred/valid_editDistance_10": 0.5291, "sum__eval/loss": 0.0005683933268301189, "sum__pred/valid_f1": 0.73, "sum__pred/valid_loss": 0.0005540581769309938, "sum__train/precision": 0.3518, "sum__pred/test_acc_23": 0.702, "sum__pred/valid_editDistance_overall": 0.6672, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__train/total_flos": 1.1637128761063834e+17, "sum__pred/test_samples_per_second": 33.8, "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__pred/test_acc_21": 0.996, "sum__pred/valid_acc_19": 0.9947, "sum__train/train_runtime": 18260.1784, "sum__eval/steps_per_second": 1.691, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_2_146317", "created_at": "2023-03-21T02:57:47", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679365207, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___wandb#runtime": 130, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___step": 8, "sum___runtime": 38, "sum__computed_per_device_train_batch_size": 64, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_agg_146317", "created_at": "2023-03-21T02:23:39", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 31, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___timestamp": 1679365176, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum___step": 8, "sum___wandb#runtime": 60, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_2_234054", "created_at": "2023-03-21T02:23:24", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679364815, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___runtime": 32, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum___step": 8, "sum___wandb#runtime": 104, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_agg_256788", "created_at": "2023-03-21T02:23:11", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 60, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum___step": 8, "sum___runtime": 31, "sum___timestamp": 1679365038, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_2_256788", "created_at": "2023-03-21T02:22:56", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___timestamp": 1679364698, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum___wandb#runtime": 109, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum___runtime": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671__146317", "created_at": "2023-03-21T02:22:24", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_editDistance_18": 0.9685, "sum__pred/valid_editDistance_19": 0.2639, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__pred/valid_acc_10": 0.9948, "sum__pred/test_editDistance_29": 0.6, "sum__pred/valid_acc_6": 0.9902, "sum___step": 4146, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_11": 0.9898, "sum__pred/valid_acc_12": 0.9927, "sum__pred/valid_acc_13": 0.995, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_3": 0.5089, "sum__pred/test_steps_per_second": 0.382, "sum__pred/valid_f1": 0.7299, "sum__pred/test_recall": 0.7598, "sum__pred/test_acc_38": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_25": 1, "sum__pred/test_editDistance_26": 0.6, "sum__pred/valid_editDistance_16": 1.087, "sum__pred/valid_editDistance_17": 0.7576, "sum___runtime": 19243, "sum__pred/test_acc": 0.5357, "sum__pred/valid_loss": 0.0007545093540102243, "sum__pred/valid_editDistance_overall": 0.5338, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__train/f1": 0.5379, "sum__train/seq_acc": 1, "sum__pred/valid_runtime": 127.3084, "sum__train/train_steps_per_second": 2.212, "sum__auto_computed_eval_batch_size": 32, "sum__eval/recall": 1, "sum__train/global_step": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__pred/test_loss": 0.32017746567726135, "sum__pred/valid_precision": 0.5747, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_31": 0.6, "sum__pred/test_editDistance_36": 0.2, "sum__pred/test_acc_33": 0, "sum__train/learning_rate": 1e-07, "sum__pred/test_acc_30": 0, "sum__pred/test_runtime": 818.3397, "sum__pred/test_seq_acc": 0, "sum__pred/test_editDistance_24": 0.8, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_15": 0.2625, "sum__eval/seq_acc": 1, "sum__pred/test_f1": 0.4401, "sum__pred/test_editDistance_38": 0.2, "sum__ds_examples/ExperimentStage.PREDICTION#size": 127286, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_2ab978fcb755db450665.table.json", "sum__pred/test_acc_21": 0, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_32": 0, "sum__pred/valid_samples_per_second": 58.865, "sum__pred/valid_editDistance_13": 0.5013, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_21": 0.4, "sum__pred/valid_acc_18": 0.9903, "sum__pred/valid_editDistance_4": 0.7614, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__pred/valid_editDistance_10": 0.5236, "sum__num_total_params": 150510720, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_15": 0.9974, "sum__train/train_runtime": 18086.5733, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_14": 0.2488, "sum__pred/valid_editDistance_20": 0.5025, "sum__auto_computed_grad_acc_steps": 1, "sum__train/acc": 0.3679, "sum___timestamp": 1679364658, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_30": 0.4, "sum__pred/valid_editDistance_8": 0.2695, "sum__pred/valid_editDistance_9": 0.2597, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__pred/valid_acc": 0.9338, "sum__pred/test_acc_25": 0, "sum__pred/valid_editDistance_7": 0.4854, "sum___wandb#runtime": 19243, "sum__pred/valid_acc_overall": 0.9947, "sum__pred/valid_acc_14": 0.9975, "sum__pred/test_editDistance_34": 0.4, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_3": 0.9949, "sum__pred/test_acc_overall": 0, "sum__pred/test_samples_per_second": 12.22, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__eval/f1": 0.7299, "sum__pred/test_acc_22": 0, "sum__pred/valid_acc_9": 0.9974, "sum__num_non_trainable_params": 40903680, "sum__pred/test_editDistance_22": 0.8, "sum__pred/valid_steps_per_second": 1.846, "sum__pred/valid_acc_2": 1, "sum__train/gen_max_length": 256, "sum__pred/valid_acc_7": 0.9951, "sum__train/total_flos": 1.1637702927477965e+17, "sum__pred/valid_seq_acc": 1, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_27": 0.6, "sum__pred/valid_editDistance_12": 0.7335, "sum__eval/precision": 0.5747, "sum__pred/test_acc_37": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_28": 0.6, "sum__computed_per_device_train_batch_size": 64, "sum__train/epoch": 25.59, "sum__pred/test_acc_28": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__pred/test_editDistance_23": 0.8, "sum__pred/test_editDistance_40": 0.8, "sum__pred/valid_editDistance_6": 0.9756, "sum__pred/test_editDistance_overall": 0.49, "sum__train/train_samples_per_second": 141.541, "sum__pred/test_acc_36": 0, "sum__pred/test_num_samples": 10000, "sum__train/loss": 0.0002, "sum__pred/valid_acc_19": 0.9974, "sum__pred/test_precision": 0.3098, "sum__computed_num_process": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__eval/acc": 0.9338, "sum__eval/loss": 0.00016816571587696671, "sum__pred/test_editDistance_35": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_3eb2af69eaa94fd4f172.table.json", "sum__evaluated_acc/valid/plot_table#size": 349, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "3eb2af69eaa94fd4f172b2ba6f400d633f399ae20fb6f5cee51a08e5a35a706c", "sum__pred/valid_acc_4": 0.9924, "sum__num_train_samples": 100000, "sum__pred/valid_acc_8": 0.9973, "sum__train/train_loss": 0.05478226386004826, "sum__pred/valid_acc_20": 0.995, "sum__eval/samples_per_second": 59.04, "sum__pred/test_editDistance_33": 0.4, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_17": 0.9924, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_0294e3692f7ab5d49cbf.table.json", "sum__evaluated_acc/test/table#size": 13851058, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "0294e3692f7ab5d49cbf30dd6043db165e60ca44a3e447a75082e2452b2930fe", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__auto_computed_batch_size_predict": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__eval/runtime": 126.9308, "sum__pred/test_acc_27": 0, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "dd5d59f910f939f35a6b8b23715cf11d8af76aa1fe6cff55c2b5276796732d3c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_dd5d59f910f939f35a6b.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 351, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__pred/valid_editDistance_11": 1.0152, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__evaluated_acc/valid/table#sha256": "8358d38b41ac76a9a6b587c3553eb614dd0bcf4bc1789b032db1f1d06c08e684", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_8358d38b41ac76a9a6b5.table.json", "sum__evaluated_acc/valid/table#size": 2741911, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__pred/test_acc_34": 0, "sum__eval/steps_per_second": 1.851, "sum__pred/valid_acc_16": 0.9891, "sum__pred/test_editDistance_37": 0.6, "sum__evaluated_acc/valid/during_training_table#size": 8427, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "505990e0d5e44a6584e1bad7f11b8dd17258b22f43ae45a1ff29c4a3864775d7", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_505990e0d5e44a6584e1.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__train/recall": 1, "sum__train/precision": 0.3679}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_2_146317", "created_at": "2023-03-21T02:22:10", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 105, "sum___timestamp": 1679364927, "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_agg_234054", "created_at": "2023-03-21T02:21:57", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum___wandb#runtime": 62, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum___timestamp": 1679365107, "sum__computed_num_process": 1, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671__256788", "created_at": "2023-03-21T02:21:27", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_overall": 0, "sum__pred/valid_editDistance_8": 0.5376, "sum__pred/valid_editDistance_9": 0.7653, "sum__pred/valid_loss": 0.0003211409202776849, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_7": 0.9948, "sum__pred/test_editDistance_28": 0.6, "sum__pred/test_steps_per_second": 0.378, "sum__pred/valid_editDistance_18": 0.7194, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum___runtime": 19337, "sum__pred/test_acc_22": 0, "sum__pred/valid_recall": 1, "sum__pred/valid_editDistance_13": 0.7126, "sum__eval/seq_acc": 1, "sum__pred/test_acc_21": 0, "sum__pred/valid_editDistance_7": 0.5181, "sum__pred/valid_acc_11": 0.9952, "sum__pred/valid_acc_13": 0.9929, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__train/recall": 1, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_2": 0.9977, "sum__pred/valid_acc_18": 0.9928, "sum__pred/valid_seq_acc": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__pred/test_editDistance_30": 0.4, "sum__pred/test_samples_per_second": 12.086, "sum__pred/test_f1": 0.4457, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_5": 0.9974, "sum__train/train_samples_per_second": 140.92, "sum__pred/valid_editDistance_overall": 0.6672, "sum__eval/recall": 1, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_6": 0.9876, "sum__train/seq_acc": 1, "sum__pred/valid_acc_20": 0.9919, "sum__pred/valid_editDistance_12": 1.0256, "sum__pred/valid_editDistance_10": 0.5291, "sum__auto_computed_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "87e3b1389bd1c84b12df46f6468799fd81222cf3a86b3f1e8f1ca7d0d980d259", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_87e3b1389bd1c84b12df.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 354, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__train/acc": 0.3546, "sum__eval/steps_per_second": 1.865, "sum__pred/test_editDistance_25": 1, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_4": 0.7937, "sum__pred/test_acc": 0.516, "sum__pred/test_loss": 0.2575649321079254, "sum__pred/test_acc_37": 0, "sum__num_total_params": 150510720, "sum__num_trainable_params": 109607040, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_40": 0.8, "sum__pred/valid_samples_per_second": 58.105, "sum__evaluated_acc/valid/during_training_table#size": 8515, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "de510a775a70d3cc21af55a520e509f62c7a7e1872446aa57d5e4974660bafbe", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_de510a775a70d3cc21af.table.json", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum___wandb#runtime": 19337, "sum__pred/test_acc_36": 0, "sum__pred/test_editDistance_37": 0.6, "sum__train/total_flos": 1.1637128761063834e+17, "sum__eval/samples_per_second": 59.485, "sum__pred/test_editDistance_35": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__pred/valid_editDistance_14": 0.5, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__pred/valid_acc": 0.9337, "sum__train/train_loss": 0.05502137183329615, "sum__pred/test_editDistance_22": 0.8, "sum__pred/valid_acc_3": 0.9949, "sum__pred/valid_acc_17": 0.9924, "sum__pred/test_editDistance_36": 0.2, "sum__pred/valid_editDistance_19": 0.5333, "sum__auto_computed_batch_size_predict": 32, "sum__train/precision": 0.3528, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_32": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 123846, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__pred/test_acc_39": 0, "sum__train/global_step": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_f0db5a382469eab03a0c.table.json", "sum__evaluated_acc/valid/table#size": 2744903, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "f0db5a382469eab03a0c25df24e59719c79597ebd769b8a9ad759f7145d3fe96", "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_2": 0.2331, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_recall": 0.8101, "sum__pred/valid_acc_9": 0.9923, "sum__pred/valid_precision": 0.5748, "sum__pred/valid_acc_overall": 0.9933, "sum__pred/test_editDistance_23": 0.8, "sum__pred/valid_editDistance_16": 1.2821, "sum___timestamp": 1679326246, "sum__pred/valid_acc_12": 0.9897, "sum__pred/test_precision": 0.3074, "sum__pred/test_acc_34": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_4": 0.9921, "sum__pred/valid_editDistance_17": 0.7576, "sum__pred/test_editDistance_overall": 0.49, "sum__eval/f1": 0.73, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_8": 0.9946, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_34": 0.4, "sum__pred/test_editDistance_38": 0.2, "sum__pred/valid_f1": 0.73, "sum__pred/test_runtime": 827.3794, "sum__pred/valid_runtime": 128.9732, "sum__computed_num_process": 1, "sum__eval/acc": 0.9337, "sum__train/loss": 0.0001, "sum__pred/test_acc_23": 0, "sum__pred/valid_editDistance_3": 0.5063, "sum__pred/valid_editDistance_20": 0.813, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__pred/test_seq_acc": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_21": 0.4, "sum__pred/test_editDistance_24": 0.8, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_86eb1df1474d668bf29c.table.json", "sum__evaluated_acc/valid/plot_table#size": 355, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "86eb1df1474d668bf29c4a37b09ba77f7a888798220c3d64cb8fda26c94ffe7d", "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_19": 0.9947, "sum__train/train_runtime": 18166.2884, "sum__pred/test_acc_38": 0, "sum__pred/test_acc_40": 0, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "5562b2dd57a31d7fec390f279ffae41f92449e17f9a69181689a54e7880de7bf", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_5562b2dd57a31d7fec39.table.json", "sum__evaluated_acc/test/table#size": 14705057, "sum__evaluated_acc/test/table#_type": "table-file", "sum__train/f1": 0.5216, "sum__num_non_trainable_params": 40903680, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_acc_15": 0.995, "sum__pred/valid_acc_16": 0.9872, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_27": 0.6, "sum__pred/valid_editDistance_15": 0.5013, "sum__eval/loss": 0.00020624330500140783, "sum__eval/runtime": 125.9808, "sum__pred/test_acc_31": 0, "sum__train/train_steps_per_second": 2.202, "sum__pred/test_editDistance_26": 0.6, "sum__pred/valid_editDistance_6": 1.2376, "sum__pred/valid_editDistance_11": 0.4762, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__eval/precision": 0.5748, "sum__num_train_samples": 100000, "sum__pred/valid_acc_14": 0.995, "sum__pred/test_acc_24": 0, "sum__pred/test_editDistance_33": 0.4, "sum__pred/valid_editDistance_5": 0.2611, "sum___step": 4146, "sum__train/epoch": 25.59, "sum__pred/valid_acc_10": 0.9947, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_29": 0.6, "sum__pred/valid_steps_per_second": 1.822}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671__234054", "created_at": "2023-03-21T02:20:52", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_4": 0.995, "sum__pred/valid_acc_6": 0.9922, "sum__train/train_loss": 0.05494626094480336, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_18": 0.8086, "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "53bc88450cd3bfc475ed9bdd5281195118c61f754ca12d7d15034eba9dc7b798", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_53bc88450cd3bfc475ed.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 349, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__train/recall": 1, "sum__num_non_trainable_params": 40903680, "sum__eval/f1": 0.7302, "sum___runtime": 19152, "sum__pred/valid_num_samples": 7494, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "5620e03471c726c7eb6fcdc3acecfe48e2714793719eff44bb85b035bc2765f8", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_5620e03471c726c7eb6f.table.json", "sum__evaluated_acc/valid/table#size": 2746277, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__pred/test_editDistance_30": 0.4, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_19": 0.4866, "sum__pred/test_seq_acc": 0, "sum__pred/valid_acc_14": 0.9975, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_11": 0.9756, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_1a90faf1cee7422c6e52.table.json", "sum__evaluated_acc/valid/plot_table#size": 347, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "1a90faf1cee7422c6e52499cacc73b811e556f18b9e6868cda8fcd1861653ef0", "sum__pred/test_f1": 0.468, "sum__pred/valid_acc": 0.9335, "sum__pred/test_editDistance_29": 0.6, "sum__pred/test_editDistance_37": 0.6, "sum__pred/test_editDistance_38": 0.2, "sum__pred/valid_editDistance_4": 0.4975, "sum__pred/valid_acc_19": 0.9951, "sum__train/global_step": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "a539c3b9c31c2b641152997df3673e1b8a790b33f92a80c833d25f95a48645fb", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_a539c3b9c31c2b641152.table.json", "sum__evaluated_acc/test/table#size": 11148040, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/test_editDistance_24": 0.8, "sum__pred/test_editDistance_34": 0.4, "sum__pred/valid_steps_per_second": 1.835, "sum__eval/recall": 1, "sum__train/seq_acc": 1, "sum__pred/test_acc_21": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_39": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__pred/test_editDistance_overall": 0.49, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_9": 0.9926, "sum__train/total_flos": 1.1636978694841958e+17, "sum__train/train_steps_per_second": 2.223, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_editDistance_15": 0.2755, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_8": 0.9973, "sum__pred/valid_acc_20": 0.9926, "sum__train/train_runtime": 17990.7515, "sum__train/f1": 0.5354, "sum__train/epoch": 25.59, "sum___timestamp": 1679345406, "sum__pred/valid_acc_3": 1, "sum__pred/valid_precision": 0.5751, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_samples_per_second": 58.504, "sum___wandb#runtime": 19152, "sum__eval/acc": 0.9335, "sum__train/precision": 0.3655, "sum__pred/valid_acc_11": 0.9902, "sum__pred/valid_editDistance_9": 0.7444, "sum__pred/valid_editDistance_12": 0.7075, "sum__eval/runtime": 127.4845, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_10": 0.5249, "sum__pred/test_acc_39": 0, "sum__pred/valid_editDistance_overall": 0.5204, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__train/loss": 0.0001, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_15": 0.9972, "sum__pred/test_editDistance_27": 0.6, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__pred/valid_editDistance_17": 0.4706, "sum__train/acc": 0.3655, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_13": 0.9922, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_36": 0.2, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_acc_12": 0.9929, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_7": 0.9926, "sum__pred/valid_editDistance_8": 0.2703, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__train/train_samples_per_second": 142.295, "sum__pred/valid_editDistance_14": 0.2525, "sum___step": 4146, "sum__pred/valid_f1": 0.7302, "sum__num_train_samples": 100000, "sum__pred/valid_acc_18": 0.9919, "sum__computed_num_process": 1, "sum__eval/steps_per_second": 1.843, "sum__pred/test_editDistance_23": 0.8, "sum__eval/loss": 7.178558917075861e-06, "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_17": 0.9953, "sum__pred/test_editDistance_33": 0.4, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_16": 0.9922, "sum__pred/test_editDistance_26": 0.6, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__auto_computed_batch_size_predict": 32, "sum__eval/seq_acc": 1, "sum__eval/precision": 0.5751, "sum__pred/test_acc_26": 0, "sum__pred/test_precision": 0.3585, "sum__pred/valid_editDistance_13": 0.7752, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__num_total_params": 150510720, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_25": 1, "sum__pred/valid_editDistance_7": 0.7426, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc": 0.6328, "sum__pred/valid_loss": 2.6210074793198143e-05, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_overall": 0.9948, "sum__evaluated_acc/valid/during_training_table#sha256": "a8739e8ebda973be6068866164184083f8357a21a4206b5383836c85f9a619e0", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_a8739e8ebda973be6068.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8390, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__pred/valid_editDistance_20": 0.7389, "sum__pred/test_loss": 0.3347506821155548, "sum__pred/test_acc_34": 0, "sum__pred/test_runtime": 824.881, "sum__pred/valid_seq_acc": 1, "sum__pred/test_acc_overall": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__pred/valid_editDistance_16": 0.7812, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_35": 0, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_22": 0.8, "sum__pred/test_editDistance_35": 0, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 117348, "sum__pred/test_recall": 0.674, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_40": 0.8, "sum__pred/valid_editDistance_6": 0.7772, "sum__pred/test_samples_per_second": 12.123, "sum__pred/test_acc_27": 0, "sum__eval/samples_per_second": 58.784, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_21": 0.4, "sum__pred/test_steps_per_second": 0.379, "sum__pred/valid_acc_10": 0.9948, "sum__pred/valid_runtime": 128.0945, "sum__pred/test_num_samples": 10000}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_agg_146317", "created_at": "2023-03-21T00:29:13", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___timestamp": 1679357640, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum___wandb#runtime": 735, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___runtime": 33, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_2_146317", "created_at": "2023-03-21T00:28:59", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 139, "sum___timestamp": 1679355966, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___runtime": 35, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba__234054", "created_at": "2023-03-21T00:28:27", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_editDistance_8": 0.2703, "sum__pred/valid_acc_9": 0.9926, "sum__num_train_samples": 100000, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__pred/valid_acc_4": 0.995, "sum__pred/valid_editDistance_6": 0.7772, "sum__pred/valid_editDistance_15": 0.2755, "sum__eval/steps_per_second": 1.64, "sum__pred/test_acc_26": 0.966, "sum__pred/valid_acc_7": 0.9926, "sum__pred/test_precision": 0.6163, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_4": 0.4975, "sum__pred/valid_editDistance_12": 0.7075, "sum__pred/valid_editDistance_13": 0.7752, "sum__pred/valid_acc": 0.9335, "sum__auto_computed_eval_batch_size": 32, "sum__eval/runtime": 143.284, "sum__pred/test_acc_34": 0, "sum__pred/valid_editDistance_9": 0.7444, "sum__eval/acc": 0.9335, "sum__train/loss": 0.0014, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_10": 0.9948, "sum__pred/valid_acc_11": 0.9902, "sum__pred/valid_editDistance_11": 0.9756, "sum__eval/f1": 0.7302, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_acc_15": 0.9972, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__pred/test_editDistance_24": 0.8, "sum__pred/test_editDistance_26": 0.6, "sum__pred/test_editDistance_30": 0.4, "sum__pred/valid_editDistance_14": 0.2525, "sum__pred/test_acc_29": 0.424, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_33": 0.4, "sum__train/train_steps_per_second": 2.115, "sum__pred/valid_editDistance_overall": 0.5204, "sum__pred/test_acc_23": 0.992, "sum__pred/test_editDistance_38": 0.2, "sum__pred/test_seq_acc": 0.4097, "sum__train/epoch": 25.59, "sum__pred/valid_f1": 0.7302, "sum__pred/test_acc_40": 0, "sum__train/train_loss": 0.07471024808846415, "sum__pred/valid_acc_20": 0.9926, "sum__eval/loss": 1.5169657672231551e-05, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_39": 0, "sum__pred/test_acc_27": 0.92, "sum__pred/test_runtime": 393.9436, "sum__num_trainable_params": 109607040, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__pred/test_editDistance_23": 0.8, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_18": 0.8086, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_36": 0, "sum__pred/test_editDistance_overall": 0.49, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_16": 0.9922, "sum__pred/test_editDistance_25": 1, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_20": 0.7389, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__train/precision": 0.3655, "sum__pred/valid_acc_18": 0.9919, "sum__pred/test_editDistance_31": 0.6, "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_40": 0.8, "sum__pred/valid_acc_5": 1, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_21": 0.4, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__train/seq_acc": 1, "sum__eval/precision": 0.5751, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_6": 0.9922, "sum__train/total_flos": 1.1636978694841958e+17, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_37": 0.6, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 117348, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum___step": 4146, "sum__pred/test_acc": 0.8507, "sum__pred/valid_editDistance_3": 0, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__pred/valid_acc_13": 0.9922, "sum__eval/seq_acc": 1, "sum__pred/valid_acc_17": 0.9953, "sum__train/global_step": 0, "sum__train/train_runtime": 18908.5035, "sum__pred/test_editDistance_29": 0.6, "sum__pred/test_steps_per_second": 0.795, "sum__pred/valid_steps_per_second": 1.65, "sum___runtime": 19663, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_1bacba0bf2f9213c51d5.table.json", "sum__evaluated_acc/test/plot_table#size": 342, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "1bacba0bf2f9213c51d5b44ea5b55b86065f8786edacc7771f06dcf25972092f", "sum__pred/test_acc_31": 0.008, "sum__eval/samples_per_second": 52.302, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "53bc88450cd3bfc475ed9bdd5281195118c61f754ca12d7d15034eba9dc7b798", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_53bc88450cd3bfc475ed.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 349, "sum__pred/test_acc_21": 0.996, "sum__pred/valid_acc_overall": 0.9948, "sum__evaluated_acc/valid/table#sha256": "5620e03471c726c7eb6fcdc3acecfe48e2714793719eff44bb85b035bc2765f8", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_5620e03471c726c7eb6f.table.json", "sum__evaluated_acc/valid/table#size": 2746277, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_19": 0.4866, "sum__train/recall": 1, "sum__pred/valid_num_samples": 7494, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__pred/valid_acc_19": 0.9951, "sum__pred/test_loss": 0.15703436732292175, "sum__pred/valid_seq_acc": 1, "sum___timestamp": 1679335691, "sum__train/f1": 0.5354, "sum__train/acc": 0.3655, "sum__pred/test_acc_30": 0.086, "sum__pred/test_acc_38": 0, "sum__pred/test_editDistance_22": 0.8, "sum__pred/valid_editDistance_7": 0.7426, "sum___wandb#runtime": 19663, "sum__num_total_params": 137927808, "sum__pred/test_acc_22": 0.992, "sum__pred/test_acc_28": 0.776, "sum__pred/test_acc_overall": 0.4068, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_b8deecbcb3567ee5dbfe.table.json", "sum__evaluated_acc/test/table#size": 9775558, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "b8deecbcb3567ee5dbfef7d17bfefd0dc34d9e77193db6aded95373a1dae3d6d", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__pred/valid_loss": 1.4757520148123149e-05, "sum__computed_num_process": 1, "sum__pred/test_editDistance_32": 0, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "4f64f0e01f4fa910c4bf2f99fab6100ceafa73a7854b0c1dea0aa3244606bbd4", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_4f64f0e01f4fa910c4bf.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8353, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__pred/test_acc_37": 0, "sum__pred/valid_editDistance_2": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__pred/test_editDistance_27": 0.6, "sum__pred/valid_acc_8": 0.9973, "sum__num_non_trainable_params": 28320768, "sum__pred/test_acc_24": 0.992, "sum__pred/test_editDistance_34": 0.4, "sum__pred/test_editDistance_36": 0.2, "sum__pred/valid_editDistance_10": 0.5249, "sum__pred/valid_samples_per_second": 52.613, "sum__train/train_samples_per_second": 135.389, "sum__pred/valid_acc_12": 0.9929, "sum__pred/valid_acc_2": 1, "sum__pred/valid_runtime": 142.4367, "sum__pred/valid_editDistance_16": 0.7812, "sum__eval/recall": 1, "sum__train/learning_rate": 1e-07, "sum__pred/valid_precision": 0.5751, "sum__pred/test_samples_per_second": 25.384, "sum__evaluated_acc/valid/plot_table#sha256": "1a90faf1cee7422c6e52499cacc73b811e556f18b9e6868cda8fcd1861653ef0", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_1a90faf1cee7422c6e52.table.json", "sum__evaluated_acc/valid/plot_table#size": 347, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__pred/test_recall": 0.9905, "sum__pred/test_acc_25": 0.984, "sum__pred/valid_editDistance_17": 0.4706, "sum__pred/test_f1": 0.7598}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_agg_256788", "created_at": "2023-03-21T00:28:15", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1679356121, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum___wandb#runtime": 770, "sum___runtime": 37, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_2_256788", "created_at": "2023-03-21T00:28:01", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___timestamp": 1679355662, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___runtime": 109, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___step": 8, "sum___wandb#runtime": 222, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba__146317", "created_at": "2023-03-21T00:27:26", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_23": 0.992, "sum__num_train_samples": 100000, "sum__pred/valid_editDistance_2": 0, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "dd5d59f910f939f35a6b8b23715cf11d8af76aa1fe6cff55c2b5276796732d3c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_dd5d59f910f939f35a6b.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 351, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__eval/runtime": 143.5529, "sum__pred/valid_acc_12": 0.9927, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_6": 0.9756, "sum__train/f1": 0.5379, "sum__pred/test_editDistance_36": 0.2, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_editDistance_19": 0.2639, "sum__num_total_params": 137927808, "sum__pred/valid_acc_14": 0.9975, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_21": 0.4, "sum__pred/valid_editDistance_8": 0.2695, "sum__pred/valid_editDistance_20": 0.5025, "sum__pred/valid_samples_per_second": 51.783, "sum__pred/test_editDistance_overall": 0.49, "sum__eval/acc": 0.9338, "sum__pred/valid_acc_11": 0.9898, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_18": 0.9685, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__pred/test_acc_28": 0.99, "sum__pred/test_acc_33": 0.834, "sum__pred/valid_acc_9": 0.9974, "sum__computed_num_process": 1, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "027462617505a72cc7553273643981babb4feefdd2bfd895da6be320f0d8a524", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_027462617505a72cc755.table.json", "sum__evaluated_acc/valid/plot_table#size": 349, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__pred/valid_editDistance_3": 0.5089, "sum__train/epoch": 25.59, "sum__pred/test_acc": 0.8554, "sum__train/seq_acc": 1, "sum__pred/valid_acc_15": 0.9974, "sum__pred/test_editDistance_33": 0.4, "sum__pred/valid_editDistance_15": 0.2625, "sum__pred/valid_editDistance_16": 1.087, "sum__train/train_samples_per_second": 134.068, "sum__pred/test_editDistance_22": 0.8, "sum__pred/valid_editDistance_17": 0.7576, "sum__pred/test_acc_overall": 0.7346, "sum__pred/valid_loss": 0.0006278420332819223, "sum__pred/test_acc_32": 0.95, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_18": 0.9879, "sum__pred/valid_recall": 1, "sum___step": 4146, "sum__pred/valid_f1": 0.7299, "sum__pred/test_editDistance_24": 0.8, "sum__pred/test_editDistance_38": 0.2, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_1bd8f7017d16ac467b09.table.json", "sum__evaluated_acc/test/table#size": 9704300, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "1bd8f7017d16ac467b09b8b1c63255d6a9a66f0de687b64b3093dc8ba4136336", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_12": 0.7335, "sum__pred/test_acc_25": 0.99, "sum__pred/test_acc_36": 0.36, "sum__pred/test_runtime": 386.0761, "sum__eval/recall": 1, "sum__pred/valid_editDistance_14": 0.2488, "sum__pred/valid_steps_per_second": 1.624, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum___wandb#runtime": 19841, "sum__pred/test_precision": 0.6251, "sum__pred/valid_editDistance_7": 0.4854, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_a509c7060d3b27cb74e8.table.json", "sum__evaluated_acc/test/plot_table#size": 353, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "a509c7060d3b27cb74e80bd082ac641d6ff4d0bc3e074f78b4049211b646d854", "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 19841, "sum___timestamp": 1679355540, "sum__train/train_loss": 0.07454271279026288, "sum__eval/steps_per_second": 1.637, "sum__pred/test_seq_acc": 0.7387, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 127286, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__evaluated_acc/valid/during_training_table#size": 8409, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "c6af789df843d24689161ca62d8c0a3b81e743df82b77e75815563ad672547da", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_c6af789df843d2468916.table.json", "sum__auto_computed_grad_acc_steps": 1, "sum__eval/precision": 0.5746, "sum__pred/valid_acc": 0.9338, "sum__pred/test_acc_26": 0.994, "sum__pred/valid_precision": 0.5746, "sum__pred/test_editDistance_31": 0.6, "sum__train/acc": 0.3679, "sum__pred/test_acc_30": 0.996, "sum__pred/valid_acc_3": 0.9949, "sum__pred/test_editDistance_26": 0.6, "sum__pred/valid_acc_8": 0.9973, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_29": 0.6, "sum__train/precision": 0.3679, "sum__pred/test_acc_24": 0.992, "sum__pred/test_acc_38": 0.122, "sum__pred/test_recall": 0.9958, "sum__pred/valid_acc_2": 1, "sum__pred/valid_editDistance_13": 0.5013, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__pred/test_samples_per_second": 25.902, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__pred/test_acc_39": 0.062, "sum__train/global_step": 0, "sum__pred/test_editDistance_23": 0.8, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_10": 0.5236, "sum__pred/valid_editDistance_11": 1.0152, "sum__pred/test_loss": 0.018053388223052025, "sum__pred/test_acc_21": 0.996, "sum__pred/test_acc_40": 0.028, "sum__pred/valid_acc_13": 0.995, "sum__pred/test_editDistance_32": 0, "sum__train/train_runtime": 19094.7935, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__eval/loss": 0.0006550452671945095, "sum__pred/test_acc_34": 0.68, "sum__pred/test_acc_35": 0.5, "sum__train/total_flos": 1.1637702927477965e+17, "sum__pred/valid_seq_acc": 0.9999, "sum__pred/valid_acc_16": 0.9891, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_f1": 0.7681, "sum__pred/valid_runtime": 144.7193, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__pred/test_steps_per_second": 0.811, "sum__eval/f1": 0.7299, "sum__train/recall": 1, "sum__pred/valid_acc_4": 0.9924, "sum__pred/valid_acc_17": 0.9924, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_306f13d28c148c045ac4.table.json", "sum__evaluated_acc/valid/table#size": 2741917, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "306f13d28c148c045ac41474fc89393a9dd2f6be8de2e0391390ca4cb7bb7a82", "sum__pred/valid_acc_overall": 0.9945, "sum__pred/test_editDistance_34": 0.4, "sum__pred/valid_editDistance_4": 0.7614, "sum__eval/seq_acc": 0.9999, "sum__train/learning_rate": 1e-07, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_27": 0.6, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__pred/valid_acc_7": 0.9951, "sum__pred/valid_acc_19": 0.9974, "sum__pred/test_editDistance_30": 0.4, "sum__pred/test_editDistance_40": 0.8, "sum__pred/valid_editDistance_overall": 0.5338, "sum__pred/test_editDistance_37": 0.6, "sum__computed_per_device_train_batch_size": 64, "sum__train/loss": 0.001, "sum__pred/test_acc_29": 0.988, "sum__pred/test_acc_31": 0.992, "sum__pred/valid_acc_10": 0.9948, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_25": 1, "sum__pred/test_editDistance_35": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc_22": 0.992, "sum__pred/test_acc_27": 0.994, "sum__pred/test_acc_37": 0.24, "sum__pred/valid_acc_6": 0.9902, "sum__eval/samples_per_second": 52.204, "sum__pred/valid_acc_20": 0.995, "sum__pred/valid_editDistance_9": 0.2597, "sum__train/train_steps_per_second": 2.095, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba__256788", "created_at": "2023-03-21T00:26:54", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_editDistance_34": 0.4, "sum__eval/f1": 0.73, "sum___runtime": 19699, "sum__pred/test_acc_35": 0.006, "sum__pred/valid_acc_4": 0.9921, "sum__train/train_loss": 0.07403169842907227, "sum__pred/valid_acc_14": 0.995, "sum__pred/valid_acc_overall": 0.9933, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_editDistance_7": 0.5181, "sum__pred/valid_editDistance_10": 0.5291, "sum__pred/valid_editDistance_12": 1.0256, "sum__pred/test_acc_overall": 0.5316, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_19": 0.5333, "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum___wandb#runtime": 19699, "sum__pred/test_runtime": 390.1214, "sum__pred/test_editDistance_23": 0.8, "sum__pred/test_editDistance_29": 0.6, "sum__pred/valid_editDistance_3": 0.5063, "sum__pred/valid_editDistance_18": 0.7194, "sum__pred/test_acc_32": 0.324, "sum__pred/test_editDistance_38": 0.2, "sum__pred/valid_editDistance_5": 0.2611, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_f1": 0.7636, "sum__pred/test_acc_38": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_22": 0.8, "sum__eval/seq_acc": 1, "sum__pred/test_acc_23": 0.96, "sum__pred/test_acc_34": 0.018, "sum__pred/test_recall": 0.9924, "sum__auto_computed_eval_batch_size": 32, "sum__train/recall": 1, "sum__pred/valid_loss": 0.0013490907149389386, "sum__pred/valid_acc_18": 0.9928, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_26": 0.6, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__pred/test_editDistance_27": 0.6, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_27": 0.972, "sum__pred/test_editDistance_24": 0.8, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "f701289ff3345a69512b81c0ed05d3ed4d549eb21afc7e1aea67a9215061d0f8", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_f701289ff3345a69512b.table.json", "sum__evaluated_acc/test/plot_table#size": 348, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__eval/loss": 0.0012706690467894075, "sum__eval/precision": 0.5748, "sum__pred/test_acc_31": 0.62, "sum__pred/test_acc_36": 0.002, "sum__pred/valid_acc_3": 0.9949, "sum__pred/valid_acc_16": 0.9872, "sum__pred/test_editDistance_40": 0.8, "sum___step": 4146, "sum__pred/test_acc_28": 0.976, "sum__pred/valid_acc_9": 0.9923, "sum__pred/valid_acc_13": 0.9929, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__train/precision": 0.3518, "sum__train/train_runtime": 18945.3146, "sum__evaluated_acc/test/table#size": 9736156, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "392ed37f54320e3ae30a4b04c6d78ddabcb7c02215bbe8560bea1128868d0b31", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_392ed37f54320e3ae30a.table.json", "sum__pred/test_editDistance_28": 0.6, "sum__pred/test_acc_21": 0.99, "sum__pred/test_acc_26": 0.976, "sum__pred/valid_recall": 1, "sum__pred/valid_precision": 0.5748, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__pred/valid_editDistance_11": 0.4762, "sum__train/loss": 0.0012, "sum__num_train_samples": 100000, "sum__pred/valid_acc_11": 0.9952, "sum__train/gen_max_length": 256, "sum__eval/steps_per_second": 1.633, "sum__pred/test_editDistance_37": 0.6, "sum__pred/valid_editDistance_9": 0.7653, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_29": 0.944, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_21": 0.4, "sum__pred/test_editDistance_30": 0.4, "sum__train/train_samples_per_second": 135.126, "sum__eval/runtime": 143.8883, "sum__pred/test_acc_39": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_4": 0.7937, "sum__eval/recall": 1, "sum__pred/test_loss": 0.07896781712770462, "sum__pred/test_acc_25": 0.96, "sum__pred/valid_acc_6": 0.9876, "sum__train/total_flos": 1.1637128761063834e+17, "sum__pred/valid_acc_2": 0.9977, "sum__pred/valid_acc_15": 0.995, "sum__pred/test_editDistance_overall": 0.49, "sum__pred/valid_editDistance_overall": 0.6672, "sum__train/f1": 0.5205, "sum__train/acc": 0.3518, "sum__pred/valid_acc_8": 0.9946, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_steps_per_second": 1.636, "sum__train/train_steps_per_second": 2.111, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__train/epoch": 25.59, "sum__pred/valid_f1": 0.73, "sum__pred/valid_acc": 0.9337, "sum__pred/valid_acc_20": 0.9919, "sum__train/global_step": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "87e3b1389bd1c84b12df46f6468799fd81222cf3a86b3f1e8f1ca7d0d980d259", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_87e3b1389bd1c84b12df.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 354, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__pred/test_seq_acc": 0.535, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_editDistance_6": 1.2376, "sum__pred/valid_editDistance_17": 0.7576, "sum__pred/valid_editDistance_20": 0.813, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__pred/test_samples_per_second": 25.633, "sum__pred/test_acc": 0.853, "sum__pred/test_acc_22": 0.97, "sum__pred/valid_acc_7": 0.9948, "sum__computed_num_process": 1, "sum__pred/test_editDistance_36": 0.2, "sum__pred/valid_samples_per_second": 52.161, "sum__pred/test_acc_33": 0.086, "sum__train/learning_rate": 1e-07, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__pred/test_editDistance_35": 0, "sum__pred/test_acc_37": 0, "sum__evaluated_acc/valid/table#size": 2744903, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "f0db5a382469eab03a0c25df24e59719c79597ebd769b8a9ad759f7145d3fe96", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_f0db5a382469eab03a0c.table.json", "sum__num_total_params": 137927808, "sum__pred/test_acc_30": 0.862, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "86eb1df1474d668bf29c4a37b09ba77f7a888798220c3d64cb8fda26c94ffe7d", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_86eb1df1474d668bf29c.table.json", "sum__evaluated_acc/valid/plot_table#size": 355, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 123846, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__train/seq_acc": 1, "sum__pred/test_acc_24": 0.966, "sum__pred/valid_acc_10": 0.9947, "sum__pred/valid_editDistance_13": 0.7126, "sum__pred/valid_editDistance_14": 0.5, "sum__pred/valid_editDistance_15": 0.5013, "sum__pred/valid_acc_5": 0.9974, "sum__pred/valid_acc_17": 0.9924, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_33": 0.4, "sum__evaluated_acc/valid/during_training_table#sha256": "a83bd11e8c44caf16606ecdc0eb1cc971d83d4cad464b4946722f48ebb9976d1", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_a83bd11e8c44caf16606.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8496, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum___timestamp": 1679316018, "sum__pred/valid_acc_12": 0.9897, "sum__pred/valid_runtime": 143.6705, "sum__pred/test_precision": 0.6205, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_2": 0.2331, "sum__pred/valid_editDistance_8": 0.5376, "sum__pred/valid_acc_19": 0.9947, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__pred/test_editDistance_25": 1, "sum__pred/test_steps_per_second": 0.802, "sum__pred/valid_editDistance_16": 1.2821, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__eval/acc": 0.9337, "sum__eval/samples_per_second": 52.082}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_2_234054", "created_at": "2023-03-21T00:26:39", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679355817, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___runtime": 34, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum___wandb#runtime": 140}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_agg_234054", "created_at": "2023-03-21T00:26:24", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 738, "sum__computed_num_process": 1, "sum___timestamp": 1679356895, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___runtime": 34, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_agg_146317", "created_at": "2023-03-21T00:20:19", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___step": 8, "sum___wandb#runtime": 62, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum___runtime": 33, "sum___timestamp": 1679357745, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793__146317", "created_at": "2023-03-21T00:19:45", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/f1": 0.5379, "sum__train/learning_rate": 1e-07, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__pred/test_editDistance_36": 0.2, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__pred/valid_acc_10": 0.9948, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__pred/valid_editDistance_12": 0.7335, "sum__pred/valid_steps_per_second": 1.707, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_34": 0.4, "sum__eval/recall": 1, "sum__pred/test_acc_26": 0.992, "sum__pred/test_acc_29": 0.986, "sum__pred/valid_acc_6": 0.9902, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "f970f54c729937dc5b3dec0d22c0cf4fb9332c7739edefa39bc58435d52a5808", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_f970f54c729937dc5b3d.table.json", "sum__evaluated_acc/test/table#size": 9682290, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/valid_editDistance_3": 0.5089, "sum__eval/loss": 0.0009837767574936152, "sum__pred/test_acc_30": 0.982, "sum__pred/valid_samples_per_second": 54.432, "sum__computed_per_device_eval_batch_size": 32, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_acc_15": 0.9974, "sum__pred/valid_acc_20": 0.995, "sum__pred/test_precision": 0.6291, "sum__train/gen_max_length": 256, "sum__pred/test_runtime": 362.27, "sum__pred/valid_editDistance_2": 0, "sum__train/epoch": 25.59, "sum__pred/test_f1": 0.7722, "sum__eval/precision": 0.5746, "sum__pred/test_acc_28": 0.988, "sum__pred/test_acc_38": 0.95, "sum__train/train_loss": 0.07472994230042677, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum___wandb#runtime": 18845, "sum___runtime": 18845, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/test_samples_per_second": 27.604, "sum__train/acc": 0.3679, "sum__num_total_params": 137927808, "sum__pred/test_editDistance_overall": 0.49, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__pred/valid_f1": 0.7299, "sum__pred/test_acc_39": 0.938, "sum__pred/valid_recall": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_23": 0.8, "sum__pred/valid_editDistance_19": 0.2639, "sum__pred/valid_acc": 0.9338, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_editDistance_6": 0.9756, "sum__pred/valid_editDistance_15": 0.2625, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "dd5d59f910f939f35a6b8b23715cf11d8af76aa1fe6cff55c2b5276796732d3c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_dd5d59f910f939f35a6b.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 351, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__eval/acc": 0.9338, "sum__pred/test_acc_37": 0.956, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__train/train_steps_per_second": 2.206, "sum__pred/test_acc_21": 0.994, "sum__pred/test_acc_24": 0.986, "sum__train/global_step": 0, "sum__pred/test_editDistance_29": 0.6, "sum__pred/test_editDistance_37": 0.6, "sum__pred/test_editDistance_21": 0.4, "sum__pred/test_editDistance_22": 0.8, "sum__pred/valid_loss": 0.0009286226704716682, "sum__pred/test_acc_35": 0.98, "sum__pred/valid_editDistance_17": 0.7576, "sum__pred/valid_editDistance_20": 0.5025, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 127286, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_8e16e2aabf807ac0efee.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8426, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "8e16e2aabf807ac0efeee376e5964fd352d431eccdf6ab8c0c231de455105c36", "sum___step": 4146, "sum__pred/test_acc_32": 0.974, "sum__pred/test_acc_36": 0.954, "sum__pred/test_recall": 0.9995, "sum__pred/valid_editDistance_14": 0.2488, "sum__pred/valid_editDistance_overall": 0.5338, "sum__eval/runtime": 136.3225, "sum__train/train_runtime": 18133.9697, "sum__pred/test_editDistance_30": 0.4, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_5": 0, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__eval/seq_acc": 0.9995, "sum__pred/test_acc_23": 0.99, "sum__pred/valid_acc_9": 0.9974, "sum__pred/valid_acc_12": 0.9927, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__eval/samples_per_second": 54.973, "sum__pred/valid_editDistance_11": 1.0152, "sum__auto_computed_batch_size_predict": 32, "sum__train/recall": 1, "sum__train/precision": 0.3679, "sum__pred/test_acc_27": 0.986, "sum__pred/test_acc_33": 0.968, "sum__pred/test_acc_overall": 0.9731, "sum__pred/valid_editDistance_8": 0.2695, "sum__eval/f1": 0.7299, "sum__train/train_samples_per_second": 141.172, "sum__pred/valid_acc_4": 0.9924, "sum__pred/valid_editDistance_4": 0.7614, "sum__pred/valid_acc_8": 0.9973, "sum__pred/test_seq_acc": 0.978, "sum__pred/valid_precision": 0.5747, "sum__pred/valid_editDistance_16": 1.087, "sum__pred/test_acc_34": 0.95, "sum__train/total_flos": 1.1637702927477965e+17, "sum__pred/test_editDistance_40": 0.8, "sum__pred/test_steps_per_second": 0.864, "sum__pred/test_acc_25": 0.986, "sum__pred/valid_acc_19": 0.9974, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_18": 0.9685, "sum__pred/test_editDistance_28": 0.6, "sum__pred/test_editDistance_31": 0.6, "sum__pred/test_editDistance_35": 0, "sum__pred/test_acc_40": 0.932, "sum__pred/valid_acc_7": 0.9951, "sum__pred/valid_editDistance_10": 0.5236, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_3": 0.9949, "sum__pred/valid_acc_16": 0.9891, "sum__pred/valid_acc_18": 0.9903, "sum__computed_num_process": 1, "sum__pred/test_editDistance_25": 1, "sum__train/seq_acc": 1, "sum__evaluated_acc/valid/table#size": 2741911, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "8358d38b41ac76a9a6b587c3553eb614dd0bcf4bc1789b032db1f1d06c08e684", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_8358d38b41ac76a9a6b5.table.json", "sum__pred/test_editDistance_27": 0.6, "sum__pred/test_editDistance_33": 0.4, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__pred/test_loss": 0.0039189825765788555, "sum__eval/steps_per_second": 1.724, "sum__pred/valid_acc_overall": 0.9947, "sum__pred/test_editDistance_26": 0.6, "sum__pred/valid_editDistance_13": 0.5013, "sum__pred/test_editDistance_38": 0.2, "sum__pred/test_editDistance_39": 0, "sum___timestamp": 1679357219, "sum__train/loss": 0.001, "sum__pred/test_acc": 0.8573, "sum__pred/test_acc_22": 0.99, "sum__pred/test_acc_31": 0.98, "sum__num_train_samples": 100000, "sum__pred/valid_editDistance_7": 0.4854, "sum__evaluated_acc/test/plot_table#sha256": "797966714af07d3a111cdcd7381a1b706fcd5cb6450f0b262d4bc7921d138433", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_797966714af07d3a111c.table.json", "sum__evaluated_acc/test/plot_table#size": 355, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__pred/valid_runtime": 137.6763, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_3eb2af69eaa94fd4f172.table.json", "sum__evaluated_acc/valid/plot_table#size": 349, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "3eb2af69eaa94fd4f172b2ba6f400d633f399ae20fb6f5cee51a08e5a35a706c", "sum__pred/valid_acc_11": 0.9898, "sum__pred/valid_acc_13": 0.995, "sum__pred/valid_acc_17": 0.9924, "sum__pred/test_editDistance_24": 0.8, "sum__pred/valid_editDistance_9": 0.2597, "sum__auto_computed_grad_acc_steps": 1}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793__256788", "created_at": "2023-03-21T00:19:12", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/loss": 0.0012899042339995503, "sum__pred/valid_f1": 0.73, "sum__pred/test_acc_31": 0.978, "sum__pred/valid_acc_20": 0.9892, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_3": 0.5063, "sum__eval/runtime": 132.4902, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_5": 0.2611, "sum__pred/test_steps_per_second": 0.892, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__pred/test_f1": 0.772, "sum__pred/test_loss": 0.004712854512035847, "sum__pred/test_acc_21": 0.99, "sum__pred/test_acc_36": 0.926, "sum__pred/valid_recall": 1, "sum__pred/valid_acc_overall": 0.9932, "sum__pred/valid_editDistance_8": 0.5376, "sum__eval/acc": 0.9337, "sum__train/total_flos": 1.1637128761063834e+17, "sum__pred/test_editDistance_23": 0.8, "sum__pred/test_editDistance_37": 0.6, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_steps_per_second": 1.771, "sum__eval/precision": 0.5747, "sum__pred/valid_seq_acc": 0.9999, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_25": 1, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "990be4e53c840b3e33bb9fcdb45473e01df5711384b70f790e8176553f82703b", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_990be4e53c840b3e33bb.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8514, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__pred/test_acc_33": 0.952, "sum__pred/test_editDistance_34": 0.4, "sum__pred/valid_editDistance_14": 0.5, "sum__pred/valid_editDistance_16": 1.2821, "sum__pred/valid_editDistance_overall": 0.6672, "sum__auto_computed_batch_size_predict": 32, "sum__train/recall": 1, "sum__pred/test_acc_40": 0.912, "sum__pred/test_editDistance_26": 0.6, "sum__pred/valid_editDistance_7": 0.5181, "sum__pred/valid_editDistance_12": 1.0256, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__train/precision": 0.3518, "sum__pred/test_acc_35": 0.96, "sum__pred/valid_precision": 0.5747, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__pred/valid_editDistance_17": 0.7576, "sum__train/epoch": 25.59, "sum__pred/test_acc": 0.8572, "sum__pred/test_acc_28": 0.962, "sum__computed_num_process": 1, "sum__num_trainable_params": 109607040, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_36": 0.2, "sum__pred/valid_samples_per_second": 56.477, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__pred/test_acc_25": 0.98, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_07fbfddab9175c5f4187.table.json", "sum__evaluated_acc/test/table#size": 9684124, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "07fbfddab9175c5f4187f22fe8bd1b2d057bda6e69d9ac1be64b22244d3785c5", "sum__pred/valid_editDistance_9": 0.7653, "sum__train/train_steps_per_second": 2.256, "sum__pred/valid_acc": 0.9337, "sum__pred/test_acc_37": 0.952, "sum__pred/valid_acc_3": 0.9949, "sum__pred/valid_acc_9": 0.9923, "sum__pred/test_editDistance_30": 0.4, "sum__pred/valid_editDistance_13": 0.7126, "sum___runtime": 18423, "sum__eval/seq_acc": 0.9997, "sum__num_total_params": 137927808, "sum__pred/test_editDistance_22": 0.8, "sum__pred/valid_editDistance_10": 0.5291, "sum__eval/f1": 0.7299, "sum__pred/test_acc_27": 0.984, "sum__train/train_loss": 0.07464139453074894, "sum__pred/valid_acc_16": 0.9872, "sum__pred/test_samples_per_second": 28.509, "sum__pred/valid_acc_5": 0.9974, "sum__pred/valid_acc_15": 0.995, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__pred/test_editDistance_27": 0.6, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__train/f1": 0.5205, "sum__pred/test_acc_26": 0.984, "sum__pred/valid_acc_18": 0.9928, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__auto_computed_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 123846, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__train/acc": 0.3518, "sum__train/seq_acc": 1, "sum__pred/test_acc_32": 0.962, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_dde88655265c0664fd26.table.json", "sum__evaluated_acc/test/plot_table#size": 355, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "dde88655265c0664fd266a3b08d4b3089843c9b4fd10584fa1fda27625ac56ac", "sum__pred/valid_acc_17": 0.9924, "sum__pred/test_editDistance_29": 0.6, "sum___timestamp": 1679319767, "sum__pred/test_acc_38": 0.938, "sum__pred/test_runtime": 350.7635, "sum__pred/valid_acc_19": 0.9947, "sum__pred/test_acc_overall": 0.9633, "sum__eval/samples_per_second": 56.563, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "4c9b612b7de759a46aa27bff5e6df52057dd040b618d4188b2429905488aced9", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_4c9b612b7de759a46aa2.table.json", "sum__evaluated_acc/valid/table#size": 2744907, "sum__pred/test_editDistance_overall": 0.49, "sum___step": 4146, "sum__num_train_samples": 100000, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_11": 0.4762, "sum__pred/valid_acc_6": 0.9876, "sum__pred/valid_acc_11": 0.9952, "sum__pred/valid_acc_13": 0.9929, "sum__pred/valid_acc_10": 0.9947, "sum__pred/test_precision": 0.6289, "sum__pred/valid_editDistance_2": 0.2331, "sum__pred/valid_editDistance_4": 0.7937, "sum__pred/valid_editDistance_18": 0.7194, "sum__pred/valid_editDistance_19": 0.5333, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_87e3b1389bd1c84b12df.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 354, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "87e3b1389bd1c84b12df46f6468799fd81222cf3a86b3f1e8f1ca7d0d980d259", "sum__pred/test_acc_22": 0.986, "sum__pred/test_acc_30": 0.978, "sum__pred/valid_acc_4": 0.9921, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_33": 0.4, "sum__pred/test_editDistance_40": 0.8, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__pred/valid_acc_12": 0.9897, "sum__train/global_step": 0, "sum__pred/valid_acc_8": 0.9946, "sum__pred/valid_runtime": 132.6908, "sum__pred/test_editDistance_24": 0.8, "sum__train/loss": 0.0012, "sum__pred/test_acc_29": 0.968, "sum__pred/valid_acc_14": 0.995, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_editDistance_20": 0.813, "sum__pred/valid_loss": 0.0012869953643530607, "sum__pred/test_recall": 0.9995, "sum__pred/test_seq_acc": 0.9682, "sum__eval/steps_per_second": 1.774, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_38": 0.2, "sum__train/train_samples_per_second": 144.395, "sum__pred/test_acc_23": 0.984, "sum__train/train_runtime": 17729.0944, "sum__eval/recall": 1, "sum__pred/test_acc_24": 0.98, "sum__pred/valid_acc_2": 0.9977, "sum__pred/valid_acc_7": 0.9948, "sum__pred/test_editDistance_32": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum___wandb#runtime": 18423, "sum__pred/test_acc_39": 0.93, "sum__evaluated_acc/valid/plot_table#size": 355, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "f6c426e5023ad8acab59c1a7ab468c7d48742374623c28488bc507f8f74251d2", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_f6c426e5023ad8acab59.table.json", "sum__pred/test_acc_34": 0.96, "sum__pred/test_editDistance_21": 0.4, "sum__pred/valid_editDistance_6": 1.2376, "sum__pred/valid_editDistance_15": 0.5013, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_agg_256788", "created_at": "2023-03-21T00:18:57", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679357603, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum___runtime": 31, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___step": 8, "sum___wandb#runtime": 60, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_2_234054", "created_at": "2023-03-21T00:18:44", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679357381, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___wandb#runtime": 107, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum___step": 8, "sum___runtime": 33, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793__234054", "created_at": "2023-03-21T00:18:09", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_editDistance_30": 0.4, "sum__computed_per_device_train_batch_size": 64, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "5620e03471c726c7eb6fcdc3acecfe48e2714793719eff44bb85b035bc2765f8", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_5620e03471c726c7eb6f.table.json", "sum__evaluated_acc/valid/table#size": 2746277, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__pred/test_editDistance_24": 0.8, "sum__pred/test_acc_25": 0.988, "sum__pred/valid_acc_7": 0.9926, "sum__pred/valid_acc_19": 0.9951, "sum__pred/test_editDistance_34": 0.4, "sum__pred/valid_editDistance_4": 0.4975, "sum__pred/valid_editDistance_11": 0.9756, "sum__eval/acc": 0.9335, "sum__num_total_params": 137927808, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 39.99592, "sum__pred/test_editDistance_37": 0.6, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "1a90faf1cee7422c6e52499cacc73b811e556f18b9e6868cda8fcd1861653ef0", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_1a90faf1cee7422c6e52.table.json", "sum__evaluated_acc/valid/plot_table#size": 347, "sum__pred/valid_editDistance_overall": 0.5204, "sum__pred/test_acc_22": 0.992, "sum__train/train_runtime": 17891.1286, "sum__pred/valid_precision": 0.5751, "sum__pred/test_acc_29": 0.994, "sum__pred/valid_acc_8": 0.9973, "sum__pred/valid_acc_9": 0.9926, "sum__pred/valid_acc_12": 0.9929, "sum__pred/valid_acc_20": 0.9926, "sum__train/train_steps_per_second": 2.236, "sum__train/precision": 0.3653, "sum__pred/test_acc_33": 0.986, "sum__pred/test_f1": 0.7724, "sum__pred/valid_acc_18": 0.9919, "sum__pred/valid_acc_10": 0.9948, "sum__pred/valid_acc_15": 0.9972, "sum__pred/valid_seq_acc": 1, "sum__eval/samples_per_second": 56.871, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_3": 0, "sum__train/total_flos": 1.1636978694841958e+17, "sum__num_train_samples": 100000, "sum__pred/test_acc_38": 0.972, "sum__pred/test_acc_28": 0.99, "sum__pred/test_acc_31": 0.994, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_7": 0.7426, "sum__eval/f1": 0.7302, "sum__pred/test_acc_34": 0.988, "sum__pred/test_runtime": 356.3281, "sum__pred/valid_acc_11": 0.9902, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_16": 0.7812, "sum__pred/valid_editDistance_17": 0.4706, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 39.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 67, "sum__pred/test_acc_23": 0.992, "sum__pred/test_acc_40": 0.946, "sum__pred/test_editDistance_33": 0.4, "sum__pred/valid_editDistance_12": 0.7075, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "53bc88450cd3bfc475ed9bdd5281195118c61f754ca12d7d15034eba9dc7b798", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_53bc88450cd3bfc475ed.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 349, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum___runtime": 18590, "sum__train/epoch": 25.59, "sum__pred/valid_runtime": 134.918, "sum__pred/test_editDistance_31": 0.6, "sum__eval/runtime": 131.7714, "sum__pred/test_seq_acc": 0.9891, "sum__computed_num_process": 1, "sum__pred/test_editDistance_22": 0.8, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_acc_2": 1, "sum__train/train_loss": 0.07482376911295578, "sum__pred/test_acc_21": 0.996, "sum__pred/valid_acc_4": 0.995, "sum__pred/valid_acc_14": 0.9975, "sum__eval/steps_per_second": 1.783, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "1d8be739f36d19e592a1fc9bfd0b41c6082e130e99dbbe7cd7b5ee4846c81c65", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_1d8be739f36d19e592a1.table.json", "sum__evaluated_acc/test/table#size": 9682338, "sum__pred/valid_editDistance_19": 0.4866, "sum__train/recall": 0.9994, "sum__pred/test_loss": 0.006050712428987026, "sum__pred/valid_acc_overall": 0.9948, "sum___timestamp": 1679338366, "sum__pred/valid_recall": 1, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9b4e28bf2c4828263e24.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9b4e28bf2c4828263e24d7f7b1a3f6a99ab6790b6d15815305d7f983ca01523d", "sum__pred/test_acc_37": 0.98, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_loss": 2.282099194417242e-05, "sum__pred/test_editDistance_23": 0.8, "sum__pred/test_editDistance_38": 0.2, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__eval/recall": 1, "sum__pred/valid_acc": 0.9335, "sum__pred/test_samples_per_second": 28.064, "sum__eval/seq_acc": 1, "sum__pred/valid_editDistance_14": 0.2525, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_13": 0.7752, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 18590, "sum__pred/test_acc_36": 0.952, "sum__pred/test_editDistance_26": 0.6, "sum__pred/test_editDistance_overall": 0.49, "sum__pred/test_acc_35": 0.978, "sum__train/gen_max_length": 256, "sum__pred/valid_acc_6": 0.9922, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_29": 0.6, "sum__eval/precision": 0.5751, "sum__pred/test_acc_27": 0.994, "sum__pred/test_editDistance_25": 1, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_15": 0.2755, "sum__ds_examples/ExperimentStage.TEST#sha256": "d8af620c693931c6520d456b3a366390048f05b25ebe2f0162d4998fc86ee7b3", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_d8af620c693931c6520d.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 288276, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___step": 4146, "sum__pred/valid_acc_17": 0.9953, "sum__pred/test_editDistance_27": 0.6, "sum__pred/valid_editDistance_18": 0.8086, "sum__pred/test_acc_30": 0.996, "sum__pred/valid_acc_3": 1, "sum__train/global_step": 0, "sum__auto_computed_batch_size": 64, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 117348, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__eval/loss": 2.282099194417242e-05, "sum__pred/valid_acc_5": 1, "sum__pred/test_recall": 0.9998, "sum__num_trainable_params": 109607040, "sum__pred/test_acc_26": 0.994, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_5": 0, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "cc35364e2aba2b202fc8575b4e253e96d7f6379dbd15e5b8693da1c221dfd101", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_cc35364e2aba2b202fc8.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8335, "sum__train/seq_acc": 0.9844, "sum__pred/valid_acc_13": 0.9922, "sum__pred/test_acc_overall": 0.9844, "sum__pred/valid_editDistance_8": 0.2703, "sum__pred/valid_editDistance_10": 0.5249, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_a1b7baaceb9d108be698.table.json", "sum__evaluated_acc/test/plot_table#size": 358, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "a1b7baaceb9d108be698cb662a7ff255e798c7b093cbcbd89271f17410a7f045", "sum__pred/valid_samples_per_second": 55.545, "sum__pred/valid_acc_16": 0.9922, "sum__pred/test_precision": 0.6292, "sum__pred/test_acc_32": 0.99, "sum__pred/valid_steps_per_second": 1.742, "sum__pred/test_acc_24": 0.992, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_21": 0.4, "sum__pred/valid_editDistance_20": 0.7389, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__train/f1": 0.535, "sum__pred/test_acc": 0.8574, "sum__pred/test_acc_39": 0.974, "sum__pred/test_editDistance_36": 0.2, "sum__pred/test_editDistance_40": 0.8, "sum__pred/valid_editDistance_6": 0.7772, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3dbc61becacb4633b272.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 175367, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3dbc61becacb4633b272c2900920b266917b4ff8a45d1888d0488c890858444d", "sum__train/acc": 0.3653, "sum__train/loss": 0.0016, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_steps_per_second": 0.878, "sum__train/train_samples_per_second": 143.088, "sum__pred/valid_f1": 0.7302, "sum__pred/valid_editDistance_9": 0.7444}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_agg_234054", "created_at": "2023-03-21T00:17:57", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___runtime": 32, "sum___timestamp": 1679357671, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___wandb#runtime": 66, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_2_146317", "created_at": "2023-03-21T00:17:43", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 101, "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum___step": 8, "sum___timestamp": 1679357495, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_2_256788", "created_at": "2023-03-21T00:17:23", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679357261, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum___wandb#runtime": 113, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum___runtime": 33, "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_146317", "created_at": "2023-03-20T21:29:19", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___runtime": 33, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum___wandb#runtime": 105, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___timestamp": 1679347503, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_256788", "created_at": "2023-03-20T21:29:07", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum___step": 8, "sum___wandb#runtime": 115, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum___runtime": 33, "sum___timestamp": 1679347269, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d__256788", "created_at": "2023-03-20T21:28:35", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_2": 1, "sum__pred/valid_editDistance_16": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 75276, "sum__eval/steps_per_second": 1.49, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_10": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_b5cbac99599906022b50.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7423, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "b5cbac99599906022b5012250e15af17ac1373d2652626ed1f1186c77ed42522", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__pred/test_f1": 0.3407, "sum__pred/valid_acc": 0.9219, "sum__pred/test_acc_21": 0.934, "sum__pred/test_acc_22": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_7": 1, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_39": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__pred/valid_editDistance_overall": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__eval/acc": 0.9219, "sum__pred/test_acc_33": 0, "sum__train/total_flos": 8.685915567302246e+16, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_7": 0, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___wandb#runtime": 17142, "sum___timestamp": 1679312368, "sum__pred/valid_acc_12": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_33": 0, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_editDistance_15": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__train/f1": 0.3739, "sum__train/seq_acc": 1, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_17": 0, "sum__train/precision": 0.2299, "sum__train/global_step": 0, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_40": 0, "sum__pred/test_editDistance_overall": 0, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_181f1f71d33a539578b5.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "181f1f71d33a539578b5669a7c0ba1340f8572e819eb716620dde91950e4eaae", "sum__pred/valid_acc_18": 1, "sum__pred/valid_acc_20": 1, "sum__pred/valid_precision": 0.375, "sum__pred/valid_editDistance_13": 0, "sum__train/train_steps_per_second": 2.417, "sum__pred/test_runtime": 230.4763, "sum__evaluated_acc/valid/table#sha256": "c28693bafcaa4b7a387afa140e7f5d62dae6af9a321c5154c6969c0435cb2b89", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_c28693bafcaa4b7a387a.table.json", "sum__evaluated_acc/valid/table#size": 951526, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_steps_per_second": 1.358, "sum__eval/loss": 2.320507093145352e-07, "sum__eval/runtime": 148.3056, "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_overall": 0.0467, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__pred/test_editDistance_27": 0, "sum__train/epoch": 25.59, "sum__pred/test_loss": 1.9356199502944944, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_editDistance_4": 0, "sum___step": 4146, "sum___runtime": 17142, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_editDistance_22": 0, "sum__eval/precision": 0.375, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_acc_34": 0, "sum__eval/samples_per_second": 47.584, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_editDistance_38": 0, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__eval/recall": 1, "sum__pred/valid_acc_3": 1, "sum__computed_num_process": 1, "sum__pred/valid_num_samples": 7057, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_acc_16": 1, "sum__train/train_runtime": 16551.9365, "sum__pred/valid_editDistance_2": 0, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "4610c57beb5ca1097a73037983c23428e8f6c4ee168936fbe0a8808afdf7cd70", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4610c57beb5ca1097a73.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__pred/valid_runtime": 148.1574, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_loss": 5.1896249715355225e-06, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_36": 0, "sum__train/train_loss": 0.03752706802339626, "sum__pred/test_seq_acc": 0.0467, "sum__pred/valid_editDistance_11": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_e96bfa1d283442a2d484.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "e96bfa1d283442a2d484906f554e4eaa38e6d6600791d9efa02f04af3190092d", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_31": 0, "sum__eval/f1": 0.5455, "sum__pred/test_acc": 0.7804, "sum__num_total_params": 137927808, "sum__pred/test_acc_25": 0, "sum__num_trainable_params": 109607040, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_editDistance_36": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__eval/seq_acc": 1, "sum__pred/valid_acc_13": 1, "sum__pred/test_editDistance_30": 0, "sum__pred/test_acc_30": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_14": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_editDistance_19": 0, "sum__computed_per_device_train_batch_size": 64, "sum__train/loss": 0, "sum__pred/test_acc_28": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_samples_per_second": 47.632, "sum__pred/valid_f1": 0.5455, "sum__num_train_samples": 100000, "sum__pred/valid_acc_11": 1, "sum__pred/valid_recall": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__train/acc": 0.2299, "sum__train/recall": 1, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_21": 0, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_17": 1, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_steps_per_second": 1.492, "sum__train/train_samples_per_second": 154.665, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_9": 1, "sum__pred/test_precision": 0.2675, "sum__train/gen_max_length": 256, "sum__pred/test_samples_per_second": 43.388, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_10": 1, "sum__evaluated_acc/test/table#size": 2492640, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "106db255dd502ef4fdb7a16315eeb9533db4a32a387f8854efbaba2c37b9fc94", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_106db255dd502ef4fdb7.table.json", "sum__pred/test_recall": 0.469, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_editDistance_8": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_256788", "created_at": "2023-03-20T21:28:22", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1679346850, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum___wandb#runtime": 139, "sum___runtime": 37, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d__146317", "created_at": "2023-03-20T21:27:52", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_5": 1, "sum__pred/valid_editDistance_15": 0, "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__pred/valid_f1": 0.5457, "sum__pred/test_acc_24": 0, "sum__pred/test_recall": 0.4659, "sum__pred/valid_acc_16": 1, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_32": 0, "sum__num_total_params": 137927808, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_27": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/test_samples_per_second": 44.476, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "dc7e091eb235df6e4a9f01a360e53e6389886970d23cc4313cc050935df9b394", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_dc7e091eb235df6e4a9f.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7426, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__train/gen_max_length": 256, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_12": 1, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_13": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4ba7bc816ef56ef0b6bb.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "4ba7bc816ef56ef0b6bb5cb0a790661c1a6b7d838a19eb3ff0aab9d228befc58", "sum__train/train_samples_per_second": 153.404, "sum__pred/valid_acc_19": 1, "sum__pred/valid_recall": 1, "sum__pred/valid_precision": 0.3752, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_28": 0, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 78659, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__pred/valid_acc": 0.9217, "sum__pred/valid_acc_13": 1, "sum__pred/test_precision": 0.266, "sum__num_trainable_params": 109607040, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__evaluated_acc/valid/table#sha256": "8d91c5e0321e4244f754762fa9d30e696bb7ef40e1e97faa660722863879ef95", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_8d91c5e0321e4244f754.table.json", "sum__evaluated_acc/valid/table#size": 943848, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__pred/test_acc": 0.78, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_40": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__eval/acc": 0.9217, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_steps_per_second": 1.392, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_37": 0, "sum__train/total_flos": 8.685289203941376e+16, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_12": 0, "sum__train/f1": 0.4081, "sum__pred/valid_acc_17": 1, "sum__train/global_step": 0, "sum__pred/test_editDistance_34": 0, "sum__auto_computed_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_23": 0, "sum__computed_num_process": 1, "sum__eval/steps_per_second": 1.471, "sum__pred/valid_editDistance_9": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__pred/test_f1": 0.3386, "sum__pred/valid_acc_4": 1, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_18": 0, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_19": 0, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_overall": 0.0001, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_editDistance_overall": 0, "sum__train/epoch": 25.59, "sum__pred/valid_acc_6": 1, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "c410d983fad5ab141ab978d269937a4c4aa831444c805569946546db45e239b5", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_c410d983fad5ab141ab9.table.json", "sum__evaluated_acc/test/table#size": 2490336, "sum__pred/valid_editDistance_17": 0, "sum__eval/f1": 0.5457, "sum__pred/test_acc_21": 0.002, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_steps_per_second": 1.466, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__eval/precision": 0.3752, "sum__pred/test_acc_39": 0, "sum__pred/test_runtime": 224.8399, "sum__pred/valid_acc_11": 1, "sum__pred/valid_editDistance_5": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "fcf73269f5a9534bec362ae6528e866219b44d0d6a8918ede318e334806fe8f3", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_fcf73269f5a9534bec36.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum___step": 4146, "sum___wandb#runtime": 17271, "sum__pred/test_seq_acc": 0.0001, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_10": 0, "sum__train/train_steps_per_second": 2.397, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum___runtime": 17271, "sum__eval/seq_acc": 1, "sum__train/precision": 0.2564, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_editDistance_14": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__train/loss": 0, "sum__eval/recall": 1, "sum__num_train_samples": 100000, "sum__pred/valid_runtime": 150.7597, "sum__train/recall": 1, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_18": 1, "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__pred/valid_loss": 3.195816680090502e-05, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_20": 1, "sum__pred/valid_editDistance_overall": 0, "sum___timestamp": 1679346805, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_3": 1, "sum__train/train_loss": 0.03646708602146336, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_samples_per_second": 46.81, "sum__pred/test_loss": 3.520113706588745, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_15": 1, "sum__train/train_runtime": 16687.9761, "sum__eval/samples_per_second": 46.963, "sum__pred/test_editDistance_22": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__auto_computed_batch_size_predict": 32, "sum__eval/loss": 2.6608995540300384e-07, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_num_samples": 7057, "sum__pred/test_editDistance_39": 0, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "7661cb630f5b4f1006fd58331d64997d761c7d2ff0fabcc084ed73ec43de9317", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_7661cb630f5b4f1006fd.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_8": 1, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_4": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__train/acc": 0.2564, "sum__eval/runtime": 150.267, "sum__train/seq_acc": 1, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_overall": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_acc_30": 0, "sum__pred/test_num_samples": 10000, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_37": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_234054", "created_at": "2023-03-20T21:27:38", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 135, "sum___timestamp": 1679346997, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___runtime": 36, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_146317", "created_at": "2023-03-20T21:27:25", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum___wandb#runtime": 125, "sum___runtime": 33, "sum___timestamp": 1679347137, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d__234054", "created_at": "2023-03-20T21:26:52", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_editDistance_40": 0, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_38": 0, "sum__pred/test_runtime": 223.8832, "sum__pred/valid_acc_13": 1, "sum__train/learning_rate": 1e-07, "sum__train/gen_max_length": 256, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__pred/valid_editDistance_13": 0, "sum__train/loss": 0, "sum__pred/valid_acc_2": 1, "sum__train/total_flos": 8.685563237911757e+16, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_acc_14": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__pred/valid_editDistance_overall": 0, "sum__train/f1": 0.4205, "sum__pred/test_acc_37": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_samples_per_second": 44.666, "sum__pred/valid_acc_6": 1, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 82124, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__eval/loss": 1.8613151553381613e-07, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_acc": 0.9218, "sum__train/global_step": 0, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_ef35effd3aca7f672f50.table.json", "sum__evaluated_acc/test/table#size": 2494658, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "ef35effd3aca7f672f50032321e4a7f652668d3491c954ef9748b73f823871a7", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__pred/test_acc": 0.7803, "sum__pred/test_acc_35": 0, "sum__train/train_runtime": 16567.8168, "sum__pred/valid_acc_20": 1, "sum__pred/valid_num_samples": 7057, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/test_acc_21": 0.004, "sum__pred/test_acc_28": 0, "sum__pred/test_recall": 0.4687, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__pred/valid_acc_11": 1, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_16": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_cd609c76d372133a4b7d.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7422, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "cd609c76d372133a4b7da4f84343934b1e1fc08e9992463ab3e416efc1860275", "sum__eval/f1": 0.5456, "sum__pred/test_acc_22": 0, "sum__pred/valid_acc_4": 1, "sum__pred/test_editDistance_34": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_1c2f5cfef1b831aa0620.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "1c2f5cfef1b831aa0620adbef48ed878d6a6d0bae87d55a997c4feeb8dd402a2", "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "deec1c9be8ed8a67e68875f162f99549f0abb8a4e101fd30c040ffecb0ebab1b", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_deec1c9be8ed8a67e688.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__pred/valid_runtime": 149.0745, "sum__pred/test_acc_overall": 0.0002, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_38": 0, "sum__eval/acc": 0.9218, "sum__pred/valid_acc_18": 1, "sum__pred/test_num_samples": 10000, "sum__pred/valid_acc_7": 1, "sum__pred/valid_samples_per_second": 47.339, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_9": 0, "sum__train/epoch": 25.59, "sum__pred/valid_loss": 8.857808097673114e-06, "sum__pred/test_acc_34": 0, "sum__auto_computed_eval_batch_size": 32, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_f1": 0.3403, "sum__pred/valid_acc_5": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__pred/test_editDistance_35": 0, "sum__train/train_steps_per_second": 2.414, "sum__pred/valid_f1": 0.5456, "sum__num_total_params": 137927808, "sum__pred/test_acc_40": 0, "sum__pred/test_steps_per_second": 1.398, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_acc_16": 1, "sum__eval/samples_per_second": 47.085, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_recall": 1, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum___timestamp": 1679329525, "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_18": 0, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__pred/valid_acc_15": 1, "sum__pred/valid_seq_acc": 1, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_acc_12": 1, "sum__computed_num_process": 1, "sum__pred/valid_acc_overall": 1, "sum__pred/test_acc_26": 0, "sum__pred/test_seq_acc": 0.0002, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_24934e9ea5c032f61b0a.table.json", "sum__evaluated_acc/valid/table#size": 951690, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__evaluated_acc/valid/table#sha256": "24934e9ea5c032f61b0a79856a4daeac90e5c11b9dae9596904a38009c9fcea0", "sum__pred/valid_editDistance_12": 0, "sum___wandb#runtime": 17148, "sum__eval/runtime": 149.8764, "sum__pred/test_loss": 3.4970991611480713, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_10": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_15": 0, "sum__eval/precision": 0.3752, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_33": 0, "sum__pred/valid_steps_per_second": 1.482, "sum__pred/test_acc_39": 0, "sum__pred/valid_editDistance_2": 0, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__pred/test_editDistance_24": 0, "sum__evaluated_acc/test/plot_table#sha256": "e614507cd8327ecb88d90810acd9a124b28c44c77186ef6f6226eaa8152d9cd3", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_e614507cd8327ecb88d9.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum___step": 4146, "sum__pred/test_acc_30": 0, "sum__pred/test_precision": 0.2672, "sum__train/acc": 0.2663, "sum__eval/seq_acc": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_editDistance_37": 0, "sum__train/recall": 1, "sum__train/precision": 0.2663, "sum__pred/test_editDistance_28": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_3": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_17": 1, "sum__num_trainable_params": 109607040, "sum__pred/valid_precision": 0.3752, "sum__pred/test_editDistance_22": 0, "sum__eval/recall": 1, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_25": 0, "sum__pred/valid_editDistance_8": 0, "sum__train/train_samples_per_second": 154.516, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__eval/steps_per_second": 1.475, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_17": 0, "sum___runtime": 17148, "sum__pred/test_acc_31": 0, "sum__train/train_loss": 0.036833301614648005, "sum__pred/test_editDistance_31": 0, "sum__train/seq_acc": 1, "sum__pred/valid_acc_8": 1, "sum__pred/test_editDistance_27": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_234054", "created_at": "2023-03-20T21:26:39", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___wandb#runtime": 103, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum___step": 8, "sum___runtime": 32, "sum___timestamp": 1679347392, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47__234054", "created_at": "2023-03-20T20:02:16", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum___wandb#runtime": 20910, "sum__pred/test_acc_21": 0.974, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_acc": 0.7666, "sum__pred/test_acc_27": 0.902, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_15": 1, "sum__computed_num_process": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_acc_11": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/test_acc_33": 0.19, "sum__train/train_samples_per_second": 126.973, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_26": 0.944, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_16": 0, "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "f1875fbf0f1f4460b484df462cf28e78b9f6feceb322ecd5ebf15e56b2c4f03f", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_f1875fbf0f1f4460b484.table.json", "sum__evaluated_acc/test/plot_table#size": 350, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__num_total_params": 137927808, "sum__pred/test_acc_22": 0.978, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_overall": 0.9987, "sum__pred/valid_num_samples": 7494, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_9": 0, "sum___runtime": 20910, "sum__pred/test_acc_32": 0.33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum___timestamp": 1679318201, "sum__train/loss": 0.0003, "sum__eval/recall": 0.9989, "sum__eval/seq_acc": 0.9987, "sum__pred/valid_acc_6": 1, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_15": 0, "sum__train/train_loss": 0.26394976189738373, "sum__pred/valid_seq_acc": 0.9987, "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_17": 0.9976, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_20": 0, "sum__train/train_steps_per_second": 1.984, "sum__eval/acc": 0.9334, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_samples_per_second": 47.709, "sum__auto_computed_batch_size_predict": 32, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_2": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 103020, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__pred/test_recall": 0.6542, "sum__pred/valid_acc_16": 0.9974, "sum__train/global_step": 0, "sum__pred/valid_runtime": 157.0764, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_f1": 0.7664, "sum__pred/test_acc_29": 0.804, "sum__pred/test_editDistance_38": 0, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__eval/runtime": 159.9054, "sum__pred/test_acc_overall": 0.5128, "sum__pred/valid_editDistance_17": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum___step": 4146, "sum__pred/test_acc_28": 0.878, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_12": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__eval/loss": 0.0005128054181113839, "sum__pred/test_acc_34": 0.092, "sum__pred/test_acc_37": 0, "sum__train/train_runtime": 20161.7191, "sum__pred/valid_precision": 0.6217, "sum__evaluated_acc/test/table#sha256": "749b2cc7dc6ae104a00a96f209ee6440a0cc80338dda8ccafdbaca37896a0dd5", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_749b2cc7dc6ae104a00a.table.json", "sum__evaluated_acc/test/table#size": 7275531, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_acc_10": 0.9948, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_19": 0.9976, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_3": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__eval/precision": 0.6217, "sum__pred/valid_loss": 0.0005128054181113839, "sum__pred/test_acc_30": 0.706, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/test_acc_24": 0.964, "sum__pred/test_acc_31": 0.544, "sum__pred/valid_acc_3": 1, "sum__train/acc": 0.4102, "sum__pred/valid_acc_4": 1, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__pred/test_loss": 0.2929179072380066, "sum__pred/test_runtime": 372.0876, "sum__pred/test_editDistance_27": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__train/epoch": 25.59, "sum__pred/valid_acc_14": 0.9975, "sum__train/gen_max_length": 256, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_8": 1, "sum__pred/test_seq_acc": 0.5128, "sum__eval/steps_per_second": 1.47, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_35": 0, "sum__num_trainable_params": 109607040, "sum__eval/samples_per_second": 46.865, "sum__pred/test_editDistance_32": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_steps_per_second": 0.841, "sum__pred/valid_steps_per_second": 1.496, "sum__pred/test_samples_per_second": 26.875, "sum__pred/valid_acc": 0.9334, "sum__pred/valid_recall": 0.9989, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_editDistance_overall": 0, "sum__train/recall": 1, "sum__train/precision": 0.4102, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__pred/test_acc_23": 0.972, "sum__pred/test_acc_35": 0.03, "sum__pred/test_acc_36": 0.012, "sum__pred/test_precision": 0.4401, "sum__pred/test_editDistance_34": 0, "sum__auto_computed_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_f1": 0.5262, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_35c558f98ecdaad90e70.table.json", "sum__evaluated_acc/valid/table#size": 2225968, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "35c558f98ecdaad90e703dd3fa104f435f001ddd89a96973b53437631ae1090f", "sum__pred/valid_editDistance_8": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "4a9c70d689732c2252a65b542b65e801c9154c6eccb36c23cb2cc9b9128af8d4", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_4a9c70d689732c2252a6.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8141, "sum__train/f1": 0.5818, "sum__train/seq_acc": 1, "sum__pred/test_acc_25": 0.936, "sum__pred/valid_acc_20": 0.9901, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "fd2806ae4906d9a19987367860eee990f51e3066bce25837174d28d2e584b6b9", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_fd2806ae4906d9a19987.table.json", "sum__evaluated_acc/valid/plot_table#size": 318, "sum__eval/f1": 0.7664, "sum__pred/test_acc_38": 0, "sum__train/total_flos": 1.2506655948064358e+17, "sum__num_train_samples": 100000}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_2_256788", "created_at": "2023-03-20T20:01:54", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679339608, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum___step": 8, "sum___wandb#runtime": 152, "sum___runtime": 33, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_2_146317", "created_at": "2023-03-20T20:01:30", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum___wandb#runtime": 157, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum___runtime": 35, "sum___timestamp": 1679339930, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_agg_146317", "created_at": "2023-03-20T20:01:15", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum___runtime": 31, "sum___timestamp": 1679341608, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___step": 8, "sum___wandb#runtime": 751, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47__146317", "created_at": "2023-03-20T20:00:42", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_21": 0.974, "sum__train/train_samples_per_second": 128.005, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107034, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum___runtime": 21357, "sum__pred/test_editDistance_26": 0, "sum__pred/test_samples_per_second": 11.923, "sum__pred/valid_acc_17": 0.9848, "sum__num_non_trainable_params": 28320768, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "19227024f6b3d21a8e8ed1895b78e68fe2360630e26ec31071b94af9245c9790", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_19227024f6b3d21a8e8e.table.json", "sum__evaluated_acc/valid/table#size": 2213375, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/test_editDistance_39": 0, "sum__train/recall": 1, "sum__train/precision": 0.4124, "sum__pred/valid_acc_11": 1, "sum__pred/test_precision": 0.4226, "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_19": 0, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "05d13dc6237fc6ac0cf9640f87dbfd3dc8567139b55ac214d6ee752a48d74573", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_05d13dc6237fc6ac0cf9.table.json", "sum__evaluated_acc/valid/plot_table#size": 325, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__train/acc": 0.4124, "sum__eval/seq_acc": 0.9972, "sum__train/seq_acc": 1, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_acc_34": 0.06, "sum__pred/test_acc_overall": 0.5085, "sum__pred/valid_num_samples": 7494, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__pred/test_editDistance_35": 0, "sum__eval/f1": 0.7656, "sum__pred/test_acc_36": 0.012, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_acc_20": 0.9925, "sum___timestamp": 1679339566, "sum__pred/test_recall": 0.6756, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_samples_per_second": 46.247, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__eval/recall": 0.9981, "sum__train/global_step": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_16": 0, "sum__num_trainable_params": 109607040, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_seq_acc": 0.9972, "sum__eval/samples_per_second": 45.03, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_4": 1, "sum__pred/test_seq_acc": 0.5085, "sum__pred/valid_acc_12": 1, "sum__eval/loss": 0.0014943063724786043, "sum__pred/test_acc": 0.7482, "sum__pred/test_acc_33": 0.196, "sum__pred/test_acc_37": 0.002, "sum__eval/steps_per_second": 1.412, "sum__pred/test_editDistance_30": 0, "sum__train/f1": 0.584, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_3": 0, "sum__train/train_steps_per_second": 2, "sum__pred/valid_acc_16": 0.9946, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_21": 0, "sum__pred/test_steps_per_second": 0.373, "sum__eval/runtime": 166.4221, "sum__pred/test_loss": 0.31443822383880615, "sum__pred/valid_loss": 0.0015636978205293417, "sum__pred/valid_acc_2": 1, "sum__pred/valid_editDistance_10": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__eval/precision": 0.621, "sum__pred/valid_recall": 0.9978, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_18": 0, "sum__eval/acc": 0.9336, "sum__num_total_params": 137927808, "sum__pred/valid_acc_5": 1, "sum__pred/valid_editDistance_14": 0, "sum__pred/test_acc_31": 0.522, "sum__pred/valid_acc_15": 0.9974, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_40": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_32": 0.366, "sum__pred/test_acc_38": 0, "sum__train/train_loss": 0.26999086231386754, "sum__pred/valid_precision": 0.6208, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc_28": 0.878, "sum__pred/valid_acc_6": 1, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_a87269f02e90fac097be.table.json", "sum__evaluated_acc/test/table#size": 7711485, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "a87269f02e90fac097beaffd965880c2f6a0df0b9c48ad939f0eda56da41a963", "sum__pred/test_editDistance_25": 0, "sum__pred/test_runtime": 838.7349, "sum__pred/valid_acc_14": 0.995, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_acc": 0.9335, "sum__pred/test_acc_27": 0.894, "sum__pred/test_acc_30": 0.69, "sum__pred/test_acc_35": 0.034, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/valid_editDistance_overall": 0, "sum__computed_per_device_train_batch_size": 64, "sum__train/epoch": 25.59, "sum__pred/test_acc_25": 0.934, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_38": 0, "sum__train/learning_rate": 1e-07, "sum__pred/valid_acc_overall": 0.9972, "sum__pred/test_editDistance_31": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum___step": 4146, "sum__pred/test_acc_23": 0.97, "sum__pred/valid_acc_13": 0.995, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_6e60f197c0edb1c85b54.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8173, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "6e60f197c0edb1c85b5489e97e5676553e48465847ac65b646da58271df210d5", "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_7": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__pred/valid_acc_18": 0.9927, "sum__pred/test_num_samples": 10000, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_22": 0.97, "sum__pred/valid_acc_7": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/test_acc_29": 0.784, "sum__pred/valid_acc_3": 1, "sum__pred/test_editDistance_34": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__pred/valid_acc_19": 0.9974, "sum__pred/valid_runtime": 162.0425, "sum__pred/test_editDistance_37": 0, "sum__evaluated_acc/test/plot_table#size": 350, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "52c035dd08a0c9259eab7af8bf97b5ef9cc8cc0a4e61819696752a239578e31b", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_52c035dd08a0c9259eab.table.json", "sum__pred/valid_steps_per_second": 1.45, "sum__num_train_samples": 100000, "sum__train/train_runtime": 19999.2411, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_17": 0, "sum__train/loss": 0.0001, "sum__pred/test_acc_24": 0.954, "sum__train/total_flos": 1.2507380180700365e+17, "sum__pred/test_editDistance_28": 0, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 21357, "sum__pred/test_f1": 0.52, "sum__pred/valid_f1": 0.7654, "sum__pred/test_acc_26": 0.93}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47__256788", "created_at": "2023-03-20T20:00:11", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_editDistance_4": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_15": 0, "sum__train/train_samples_per_second": 125.745, "sum__train/f1": 0.5688, "sum__pred/test_acc_30": 0.78, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/test_loss": 0.23373760282993317, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_acc_31": 0.63, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/valid_acc_12": 1, "sum__train/total_flos": 1.2506806014286234e+17, "sum__pred/test_editDistance_34": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__eval/f1": 0.7656, "sum__pred/valid_acc_16": 0.9974, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_16": 0, "sum__eval/runtime": 165.7234, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_35": 0, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__pred/valid_acc_19": 0.9947, "sum__pred/test_acc_34": 0.192, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_33": 0, "sum__train/train_steps_per_second": 1.965, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__pred/test_acc_27": 0.89, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_acc_8": 0.9973, "sum__pred/valid_seq_acc": 0.9983, "sum__train/train_runtime": 20358.6619, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_f1": 0.766, "sum__pred/test_acc_26": 0.944, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_11": 0.9976, "sum__eval/steps_per_second": 1.418, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_5": 0, "sum___wandb#runtime": 21591, "sum__computed_num_process": 1, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_20": 0, "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "740a5839bfce8d247228f46ee70546295a5a0c3760532dc648e12af70b962700", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_740a5839bfce8d247228.table.json", "sum__evaluated_acc/test/plot_table#size": 350, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__pred/valid_acc_10": 0.9974, "sum__pred/test_runtime": 772.0475, "sum__pred/valid_acc_17": 1, "sum__pred/valid_acc_overall": 0.9983, "sum__evaluated_acc/test/table#size": 7610091, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "49397de039f4646d4fb4b8a0ae9e86237c07b388b3ce1fe6efd77ed511ba9b74", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_49397de039f4646d4fb4.table.json", "sum__pred/valid_editDistance_11": 0, "sum___runtime": 21591, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_acc_2": 1, "sum__pred/test_acc_28": 0.872, "sum__pred/test_editDistance_21": 0, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "0e8ceebe6aab6fa885f05b606bbcd16be04983680f68fccb9de6b78412a75f4c", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_0e8ceebe6aab6fa885f0.table.json", "sum__evaluated_acc/valid/plot_table#size": 327, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__pred/test_acc": 0.7632, "sum__pred/test_acc_overall": 0.5505, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_12": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/valid_acc_18": 0.9928, "sum__train/epoch": 25.59, "sum__pred/test_f1": 0.541, "sum__train/seq_acc": 1, "sum__pred/test_acc_21": 0.982, "sum__pred/valid_acc_15": 1, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "ec509850be14d4e13ac7b0244c6116807d3a8c9d12747a16a04939626d29314c", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_ec509850be14d4e13ac7.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8186, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__eval/loss": 0.0010937423212453723, "sum__pred/test_recall": 0.6963, "sum__pred/valid_acc": 0.9336, "sum__pred/test_acc_29": 0.85, "sum__eval/samples_per_second": 45.22, "sum__pred/test_acc_25": 0.936, "sum__eval/precision": 0.621, "sum__pred/test_editDistance_36": 0, "sum__pred/test_steps_per_second": 0.405, "sum__pred/valid_editDistance_10": 0, "sum__train/recall": 1, "sum__pred/test_seq_acc": 0.5505, "sum__pred/valid_precision": 0.6213, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_acc_22": 0.976, "sum__pred/test_acc_23": 0.97, "sum__pred/test_acc_36": 0.038, "sum__pred/test_acc_39": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "2e9c70f9af67abb9c6867f9333353b3cfb07b269f667665bbf8095aac0d8cc88", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_2e9c70f9af67abb9c686.table.json", "sum__evaluated_acc/valid/table#size": 2216179, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__eval/seq_acc": 0.9976, "sum__pred/test_acc_37": 0.008, "sum__pred/test_precision": 0.4423, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__eval/acc": 0.9335, "sum__pred/valid_acc_20": 0.9946, "sum__pred/test_editDistance_39": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_overall": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_acc_7": 0.9974, "sum__train/loss": 0.0001, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_editDistance_19": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum___timestamp": 1679297282, "sum__pred/test_acc_32": 0.536, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_37": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__train/acc": 0.3974, "sum__train/precision": 0.3974, "sum__pred/test_acc_24": 0.956, "sum__pred/test_acc_33": 0.348, "sum__pred/test_samples_per_second": 12.953, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__eval/recall": 0.9981, "sum__num_total_params": 137927808, "sum__pred/valid_editDistance_14": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_loss": 0.001021606265567243, "sum__pred/valid_acc_4": 1, "sum__pred/valid_recall": 0.9986, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_samples_per_second": 44.704, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_35": 0.102, "sum__pred/valid_acc_13": 1, "sum__pred/valid_runtime": 167.6349, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_steps_per_second": 1.402, "sum__pred/valid_acc_3": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__train/train_loss": 0.26437745536816654, "sum__train/global_step": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/test_acc_38": 0, "sum__train/gen_max_length": 256, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_23": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 106359, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum___step": 4146}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_agg_256788", "created_at": "2023-03-20T19:59:58", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 760, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum___runtime": 37, "sum___timestamp": 1679340096, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_agg_234054", "created_at": "2023-03-20T19:59:44", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 742, "sum___runtime": 31, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum___timestamp": 1679340858, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_2_234054", "created_at": "2023-03-20T19:59:28", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___wandb#runtime": 151, "sum___runtime": 33, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum___timestamp": 1679339768, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b__234054", "created_at": "2023-03-20T19:58:06", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_27": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_10": 0.9974, "sum__num_trainable_params": 109607040, "sum__pred/test_samples_per_second": 12.192, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_18": 0.9946, "sum__auto_computed_eval_batch_size": 32, "sum__train/f1": 0.5818, "sum__train/acc": 0.4102, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_4": 1, "sum__train/train_loss": 0.2331171108198294, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_4baf418359248bc5af9c.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "4baf418359248bc5af9c6849dd8cc05cb9b3cbefedd12e32e61a30bfa3bed8fe", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__pred/valid_acc_17": 0.9906, "sum__train/global_step": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_20": 0, "sum__eval/loss": 0.0003894006076734513, "sum__eval/precision": 0.6217, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_12": 1, "sum__train/gen_max_length": 256, "sum__pred/valid_num_samples": 7494, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__eval/recall": 0.999, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_steps_per_second": 1.659, "sum___wandb#runtime": 22568, "sum__eval/f1": 0.7664, "sum__eval/seq_acc": 0.9979, "sum__pred/valid_acc_16": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_acc_23": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_8": 0, "sum__train/train_steps_per_second": 2.082, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_3": 0, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 22568, "sum__eval/acc": 0.9334, "sum__pred/test_f1": 0.1082, "sum__pred/test_loss": 5.646087646484375, "sum__pred/valid_acc_6": 1, "sum__pred/test_seq_acc": 0.0368, "sum__pred/valid_acc_11": 1, "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_14": 0.9949, "sum__evaluated_acc/valid/table#sha256": "215c3f6e9a8029494064ba5d1a4f29196957a732f2b29348420c770889aa23dd", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_215c3f6e9a8029494064.table.json", "sum__evaluated_acc/valid/table#size": 2225984, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_acc_19": 0.9976, "sum__pred/test_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__pred/valid_f1": 0.7666, "sum__pred/test_acc_31": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_4": 0, "sum__train/train_samples_per_second": 133.264, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 103020, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__pred/test_runtime": 820.2251, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/precision": 0.4102, "sum__pred/valid_acc_13": 1, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_19": 0, "sum___step": 4146, "sum__pred/valid_acc": 0.9334, "sum__pred/test_acc_33": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_samples_per_second": 52.914, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_2fc7ce5f95ff88ae8123.table.json", "sum__evaluated_acc/valid/plot_table#size": 321, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "2fc7ce5f95ff88ae8123a24a4aa1d065b38decb07ad99d9d5c4ebd0fd265ee6f", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "ff13852195577ca1facf1f5d4607bb4ea4a076cc24461a761b554fd37f3c542d", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_ff13852195577ca1facf.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8168, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__train/seq_acc": 1, "sum__pred/test_acc_28": 0, "sum__train/total_flos": 1.2506655948064358e+17, "sum__pred/valid_runtime": 141.6259, "sum__pred/test_acc_overall": 0.0368, "sum__pred/valid_editDistance_9": 0, "sum__eval/runtime": 140.461, "sum__pred/test_acc_32": 0, "sum__train/learning_rate": 1e-07, "sum__train/train_runtime": 19209.9595, "sum__pred/test_editDistance_23": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_7": 1, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_5": 0, "sum__train/recall": 1, "sum__pred/valid_acc_20": 0.9951, "sum__pred/valid_editDistance_11": 0, "sum__auto_computed_batch_size_predict": 32, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__pred/valid_precision": 0.6219, "sum__eval/samples_per_second": 53.353, "sum__pred/valid_loss": 0.0003811234491877258, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_15": 0.9945, "sum__num_non_trainable_params": 40903680, "sum__pred/valid_editDistance_17": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__train/loss": 0.0001, "sum__train/epoch": 25.59, "sum__num_total_params": 150510720, "sum__pred/test_acc_35": 0, "sum__pred/valid_recall": 0.9993, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_21": 0.736, "sum__pred/test_acc_34": 0, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/test_acc_25": 0, "sum__eval/steps_per_second": 1.673, "sum__pred/valid_acc_overall": 0.9981, "sum__pred/test_editDistance_25": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__pred/valid_acc_2": 1, "sum__evaluated_acc/test/table#sha256": "8bc34cef4eb2aea3a64b7be90ac5d84a828c38ff9a84d08cd9fdaaedf7221c54", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_8bc34cef4eb2aea3a64b.table.json", "sum__evaluated_acc/test/table#size": 14066823, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/test_editDistance_39": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__pred/test_precision": 0.0711, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_27": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc": 0.2193, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_26": 0, "sum__pred/valid_seq_acc": 0.9981, "sum___timestamp": 1679319271, "sum__pred/test_recall": 0.2262, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/test_steps_per_second": 0.382, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b__256788", "created_at": "2023-03-20T19:57:32", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/global_step": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/train_samples_per_second": 131.156, "sum__eval/loss": 0.0006185994134284556, "sum__pred/test_acc_26": 0, "sum__train/precision": 0.3974, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_36": 0, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_71398d59a40bb026f681.table.json", "sum__evaluated_acc/valid/table#size": 2216186, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "71398d59a40bb026f681dffacbd757ef1b8c0ad1a1631d51f98639fa862e6fc7", "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_9": 0, "sum__train/acc": 0.3974, "sum__eval/recall": 0.999, "sum__num_non_trainable_params": 40903680, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_samples_per_second": 12.148, "sum__train/epoch": 25.59, "sum__pred/test_acc_23": 0, "sum__pred/valid_f1": 0.7665, "sum__pred/test_acc_38": 0, "sum__pred/test_acc_overall": 0.0418, "sum__pred/valid_editDistance_2": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__evaluated_acc/valid/during_training_table#size": 8198, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "9f370db7d1f0d67816f703372ae55d7abf4bd022753c136e612c991b6d1176a0", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_9f370db7d1f0d67816f7.table.json", "sum___runtime": 22179, "sum__pred/test_acc": 0.3614, "sum__pred/valid_seq_acc": 0.9983, "sum__pred/valid_steps_per_second": 1.665, "sum__pred/valid_acc_2": 1, "sum__pred/test_runtime": 823.2101, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__pred/test_acc_33": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__train/loss": 0.0001, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_editDistance_31": 0, "sum__train/learning_rate": 1e-07, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__pred/test_editDistance_24": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__num_total_params": 150510720, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/test_recall": 0.1854, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_16": 0, "sum__train/train_steps_per_second": 2.049, "sum__train/recall": 1, "sum__eval/samples_per_second": 53.178, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 106359, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__pred/valid_acc_11": 1, "sum__pred/valid_runtime": 141.1738, "sum__pred/test_editDistance_40": 0, "sum__pred/test_steps_per_second": 0.38, "sum__eval/acc": 0.9336, "sum__pred/valid_acc_7": 0.9974, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_21": 0.836, "sum__pred/valid_acc_15": 0.995, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "8421be61cbf13e25426de36ae134a25fcc367e783d3a92513a29c86f67fa89d4", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_8421be61cbf13e25426d.table.json", "sum__evaluated_acc/test/table#size": 11278336, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_6": 1, "sum__pred/test_editDistance_30": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__auto_computed_batch_size": 64, "sum__pred/valid_precision": 0.6217, "sum__pred/valid_acc_overall": 0.9983, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_17": 0.9924, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_22": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_8": 0.9973, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_6": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_3ffe115a74eada2a6148.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "3ffe115a74eada2a614836aff1ce7d0df74f75df9efccbbc1efdbfed4c2de183", "sum__pred/test_acc_34": 0, "sum__pred/test_acc_37": 0, "sum__train/seq_acc": 1, "sum__train/train_runtime": 19518.7715, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc_14": 1, "sum__pred/valid_recall": 0.9993, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_samples_per_second": 53.084, "sum___timestamp": 1679296695, "sum__pred/test_loss": 5.671311855316162, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_13": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__pred/valid_loss": 0.00044168028398416936, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_16": 0.9974, "sum__pred/valid_editDistance_7": 0, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "92a59b9b3bfcf6be72a3b0615a97453a5f567a5c31995fe4054ab3f980511909", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_92a59b9b3bfcf6be72a3.table.json", "sum__evaluated_acc/valid/plot_table#size": 329, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_13": 0.9976, "sum__pred/valid_acc_9": 1, "sum__pred/test_precision": 0.0749, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_8": 0, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__pred/test_acc_24": 0, "sum__pred/test_acc_28": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_3": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_39": 0, "sum__auto_computed_eval_batch_size": 32, "sum__eval/f1": 0.7663, "sum__eval/precision": 0.6215, "sum__computed_num_process": 1, "sum__eval/steps_per_second": 1.668, "sum___wandb#runtime": 22179, "sum__pred/valid_acc_18": 0.9976, "sum__pred/valid_editDistance_5": 0, "sum__eval/runtime": 140.9228, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_acc": 0.9336, "sum__pred/test_acc_40": 0, "sum__train/train_loss": 0.24060192279824696, "sum__num_train_samples": 100000, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_acc_12": 1, "sum___step": 4146, "sum__pred/test_f1": 0.1067, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_seq_acc": 0.0418, "sum__pred/valid_acc_19": 0.9973, "sum__eval/seq_acc": 0.9973, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_5": 1, "sum__train/total_flos": 1.2506806014286234e+17, "sum__pred/valid_acc_20": 0.9973, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_36": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__train/f1": 0.5688, "sum__pred/test_acc_32": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b__146317", "created_at": "2023-03-20T19:56:59", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc": 0.2361, "sum__pred/valid_editDistance_8": 0, "sum__computed_per_device_train_batch_size": 64, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "1f910bf4f2f47724d177ee48c3ca760d36d5ec616f5ad7672b612b60ff819ef2", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_1f910bf4f2f47724d177.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8150, "sum__eval/recall": 0.9983, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_acc_18": 0.9879, "sum__pred/test_precision": 0.0806, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_20": 0, "sum__pred/test_seq_acc": 0.0399, "sum__pred/valid_precision": 0.6212, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_5": 1, "sum__pred/test_runtime": 896.1368, "sum__pred/valid_runtime": 154.7476, "sum__evaluated_acc/valid/plot_table#sha256": "83cf8735e96f291cb35c74c5bf151980ff8e6e5de13686830e67cbb0e8ba37ac", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_83cf8735e96f291cb35c.table.json", "sum__evaluated_acc/valid/plot_table#size": 323, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__train/seq_acc": 1, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_11": 1, "sum__pred/test_editDistance_33": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__pred/test_acc_28": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_38": 0, "sum__train/acc": 0.4124, "sum__pred/test_acc_37": 0, "sum__eval/steps_per_second": 1.529, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_overall": 0, "sum__train/f1": 0.584, "sum__pred/test_acc_32": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_24": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_20": 0.995, "sum__train/learning_rate": 1e-07, "sum__pred/test_num_samples": 10000, "sum__num_non_trainable_params": 40903680, "sum__pred/test_steps_per_second": 0.349, "sum__eval/f1": 0.7658, "sum__eval/acc": 0.9336, "sum__num_total_params": 150510720, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_10": 0, "sum___timestamp": 1679341531, "sum__train/precision": 0.4124, "sum__pred/test_acc_overall": 0.0399, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_14": 0, "sum__train/train_samples_per_second": 135.083, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_12": 1, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_acc_17": 0.9899, "sum__pred/test_editDistance_36": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_cd0faaae71b72ec7466b.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "cd0faaae71b72ec7466b1ce2f343f94d87a95ce7f813fcc01222f777d59cbafe", "sum___runtime": 22252, "sum__train/total_flos": 1.2507380180700365e+17, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_7": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107034, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__eval/runtime": 153.7092, "sum__pred/test_loss": 5.929595947265625, "sum__evaluated_acc/test/table#size": 13746097, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "414bcc737cbc388c6e7f1391ff9ccc049e529d74d883e0a6e9e24be0e069a73b", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_414bcc737cbc388c6e7f.table.json", "sum__pred/valid_editDistance_15": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc_8": 1, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_75e14e0cec5d049c8b2f.table.json", "sum__evaluated_acc/valid/table#size": 2213439, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "75e14e0cec5d049c8b2fdec9e5f76b699791238fe7b69ba552174ff20458aba9", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__eval/precision": 0.6211, "sum__pred/valid_loss": 0.0007199177052825689, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_6": 1, "sum__train/train_loss": 0.24612995471029137, "sum__pred/valid_editDistance_13": 0, "sum__train/global_step": 0, "sum__train/gen_max_length": 256, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__train/epoch": 25.59, "sum__pred/test_f1": 0.1222, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_36": 0, "sum__pred/test_recall": 0.2527, "sum__pred/valid_recall": 0.9985, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_11": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum___wandb#runtime": 22252, "sum__pred/test_acc_33": 0, "sum__train/train_runtime": 18951.3109, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_steps_per_second": 1.519, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/valid_acc": 0.9336, "sum__pred/valid_seq_acc": 0.9972, "sum__num_train_samples": 100000, "sum__pred/test_samples_per_second": 11.159, "sum__auto_computed_eval_batch_size": 32, "sum__num_trainable_params": 109607040, "sum__pred/valid_acc_overall": 0.9972, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_samples_per_second": 48.427, "sum__eval/loss": 0.0007691647624596953, "sum__eval/seq_acc": 0.9968, "sum__pred/valid_f1": 0.7659, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_16": 0.9918, "sum__pred/valid_acc_19": 0.9921, "sum__pred/valid_editDistance_16": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__pred/test_acc_21": 0.798, "sum__pred/test_acc_38": 0, "sum__pred/test_editDistance_34": 0, "sum__train/train_steps_per_second": 2.111, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_5": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__auto_computed_grad_acc_steps": 1, "sum__train/loss": 0.0001, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_15": 0.9948, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_18": 0, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_13": 1, "sum__pred/test_editDistance_23": 0, "sum__auto_computed_batch_size_predict": 32, "sum__train/recall": 1, "sum__pred/test_acc_22": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_12": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum___step": 4146, "sum__eval/samples_per_second": 48.754, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_30": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_agg_234054", "created_at": "2023-03-20T19:56:41", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___timestamp": 1679341995, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___runtime": 31, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum___wandb#runtime": 64, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_2_256788", "created_at": "2023-03-20T19:56:27", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum___runtime": 31, "sum___timestamp": 1679341570, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum___wandb#runtime": 109, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_2_146317", "created_at": "2023-03-20T19:56:12", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___runtime": 31, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum___wandb#runtime": 109, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679341806, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_agg_146317", "created_at": "2023-03-20T19:55:57", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 31, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___wandb#runtime": 67, "sum___timestamp": 1679342067, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_agg_256788", "created_at": "2023-03-20T19:55:44", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___wandb#runtime": 64, "sum___timestamp": 1679341922, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___runtime": 30, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_2_234054", "created_at": "2023-03-20T19:55:29", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 111, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum___step": 8, "sum___runtime": 33, "sum___timestamp": 1679341690}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e__234054", "created_at": "2023-03-20T19:28:33", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__evaluated_acc/test/plot_table#sha256": "985fda666655a94000830d229d29d59f75aa7d781519594f0cec3c3a142e847a", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_985fda666655a9400083.table.json", "sum__evaluated_acc/test/plot_table#size": 355, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__auto_computed_batch_size_predict": 32, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__pred/test_acc_22": 0.988, "sum__pred/valid_precision": 0.6221, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_acc": 0.9335, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_11": 1, "sum__pred/valid_runtime": 162.7094, "sum__eval/recall": 0.9995, "sum__pred/valid_recall": 0.9997, "sum__eval/steps_per_second": 1.442, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_6": 0, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__pred/test_acc_23": 0.984, "sum___wandb#runtime": 21158, "sum__pred/test_loss": 0.2013988047838211, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_33": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_f867d5f839da1330b9bf.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8030, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "f867d5f839da1330b9bfc8f0e9dab5ba61b8b0a7cdfe7d859e1a1aace4617daa", "sum___step": 4146, "sum__pred/test_seq_acc": 0.5857, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_acc_39": 0.004, "sum__train/train_samples_per_second": 130.86, "sum__pred/test_editDistance_overall": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_seq_acc": 0.9997, "sum__evaluated_acc/valid/table#size": 2226059, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "f5733b3bac49ef3dd47f7b5d231ad309cde692ad95f56c5d42bb4ae5d5c7cdbe", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_f5733b3bac49ef3dd47f.table.json", "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_acc_31": 0.696, "sum__num_non_trainable_params": 28320768, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum___timestamp": 1679316103, "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_15": 1, "sum__pred/valid_editDistance_13": 0, "sum__train/acc": 0.4102, "sum__eval/samples_per_second": 46, "sum__train/gen_max_length": 256, "sum__pred/valid_acc_2": 1, "sum__pred/valid_editDistance_16": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__pred/test_acc_28": 0.906, "sum__pred/test_acc_35": 0.18, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_17": 1, "sum__pred/test_steps_per_second": 0.33, "sum__pred/valid_steps_per_second": 1.444, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__pred/test_acc_21": 0.99, "sum__pred/valid_acc_3": 1, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/valid/plot_table#sha256": "a8f8b51230f6fbb5534550362e2afd44b47005b5a27649090b68fd5288c01426", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_a8f8b51230f6fbb55345.table.json", "sum__evaluated_acc/valid/plot_table#size": 303, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__pred/test_acc_26": 0.968, "sum__pred/valid_acc_12": 1, "sum__pred/valid_acc_18": 0.9946, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__pred/test_editDistance_40": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__pred/test_acc_29": 0.868, "sum__pred/test_acc_33": 0.446, "sum__pred/test_recall": 0.7308, "sum__num_train_samples": 100000, "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_19": 0, "sum__num_total_params": 137927808, "sum__pred/test_acc_37": 0.062, "sum__pred/valid_acc_9": 1, "sum__pred/test_runtime": 947.6208, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_20": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__eval/runtime": 162.913, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__auto_computed_eval_batch_size": 32, "sum__train/global_step": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_acc_34": 0.302, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_38": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 103020, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__pred/valid_acc_6": 1, "sum__train/precision": 0.4102, "sum__pred/test_acc_overall": 0.5857, "sum__pred/test_editDistance_37": 0, "sum__eval/f1": 0.7668, "sum__pred/test_acc_36": 0.09, "sum__computed_num_process": 1, "sum__pred/valid_acc_overall": 0.9997, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_f1": 0.5224, "sum__pred/test_precision": 0.4065, "sum__pred/test_editDistance_26": 0, "sum__train/train_steps_per_second": 2.045, "sum__pred/valid_loss": 7.445548544637859e-05, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_36": 0, "sum__train/learning_rate": 1e-07, "sum__pred/valid_acc_10": 1, "sum__train/train_runtime": 19562.919, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_7": 0, "sum__train/epoch": 25.59, "sum__pred/test_acc_32": 0.576, "sum__pred/test_acc_38": 0.016, "sum__pred/valid_acc_7": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_39": 0, "sum__eval/seq_acc": 0.9995, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_15": 0, "sum__computed_per_device_train_batch_size": 64, "sum__train/recall": 1, "sum__pred/valid_acc_16": 1, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__pred/valid_acc_5": 1, "sum__train/f1": 0.5818, "sum__pred/valid_f1": 0.767, "sum__pred/test_editDistance_22": 0, "sum__eval/acc": 0.9335, "sum__pred/test_acc_30": 0.776, "sum__pred/test_editDistance_27": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__pred/test_acc_24": 0.98, "sum__pred/test_samples_per_second": 10.553, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__pred/test_acc_25": 0.964, "sum__eval/precision": 0.622, "sum__train/train_loss": 0.2070575926284393, "sum__pred/valid_editDistance_17": 0, "sum__train/seq_acc": 1, "sum__train/loss": 0.0001, "sum__train/total_flos": 1.2506655948064358e+17, "sum__evaluated_acc/test/table#size": 8526673, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "2d9fff93e42e92f068aeb54e13d268da2cd460a5065339c236afafde95c9f039", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_2d9fff93e42e92f068ae.table.json", "sum__pred/valid_samples_per_second": 46.058, "sum__eval/loss": 0.00017356725584249943, "sum__pred/test_acc": 0.711, "sum__pred/test_acc_27": 0.918, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_10": 0, "sum___runtime": 21158}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_146317", "created_at": "2023-03-20T19:28:20", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 757, "sum___timestamp": 1679339614, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___runtime": 39, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e__256788", "created_at": "2023-03-20T19:27:48", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_21": 0.99, "sum__pred/valid_acc_20": 1, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_3e2438921fc99cef6ce8.table.json", "sum__evaluated_acc/test/table#size": 8786504, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "3e2438921fc99cef6ce8dabde81c476073c25f2c0fc46cfc8475848cbc69e94e", "sum__pred/test_editDistance_35": 0, "sum__train/train_samples_per_second": 131.149, "sum__pred/test_loss": 0.24601294100284576, "sum__pred/test_acc_22": 0.992, "sum__pred/test_acc_30": 0.8, "sum__pred/valid_acc_2": 1, "sum__eval/samples_per_second": 46.144, "sum__pred/valid_editDistance_19": 0, "sum__eval/f1": 0.7668, "sum__train/train_loss": 0.20430910971690028, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "58f714b9cf004adbdff7b55a648f91890d5720cfdbf2aba9666cfb5ff92e05e3", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_58f714b9cf004adbdff7.table.json", "sum__evaluated_acc/valid/table#size": 2216228, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_3": 0, "sum__eval/precision": 0.6219, "sum__pred/valid_editDistance_8": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_acc_8": 0.9973, "sum__pred/test_acc_31": 0.658, "sum__pred/valid_acc_19": 1, "sum__pred/valid_precision": 0.6219, "sum__pred/test_editDistance_33": 0, "sum__pred/test_acc_28": 0.904, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_15": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_recall": 0.7281, "sum__pred/test_acc_overall": 0.5767, "sum__num_non_trainable_params": 28320768, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 106359, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__pred/test_f1": 0.5066, "sum__num_total_params": 137927808, "sum__pred/test_acc_25": 0.964, "sum__pred/test_acc_34": 0.286, "sum__train/total_flos": 1.2506806014286234e+17, "sum__num_trainable_params": 109607040, "sum__pred/valid_acc_overall": 0.9996, "sum__pred/test_editDistance_38": 0, "sum___wandb#runtime": 21231, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_16": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/test_seq_acc": 0.5767, "sum__train/precision": 0.3974, "sum__pred/test_acc_23": 0.986, "sum__pred/valid_samples_per_second": 46.113, "sum__pred/valid_editDistance_overall": 0, "sum__eval/seq_acc": 0.9996, "sum__pred/valid_acc_5": 1, "sum__evaluated_acc/valid/during_training_table#size": 8037, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "5d2be1b82861938763e5fed0aaa9d9734da0a39f6c24ed1809e0c1aeefe967b1", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_5d2be1b82861938763e5.table.json", "sum__train/seq_acc": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_37": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_10": 0, "sum__pred/test_acc_35": 0.16, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_3": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__evaluated_acc/valid/plot_table#sha256": "57199bdecd83754734bc5814d68414098ec216389463e1dab9188e19068649ab", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_57199bdecd83754734bc.table.json", "sum__evaluated_acc/valid/plot_table#size": 309, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__pred/test_acc_24": 0.97, "sum__pred/valid_acc": 0.9337, "sum__pred/valid_editDistance_14": 0, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum___step": 4146, "sum__pred/test_acc_38": 0.02, "sum__pred/valid_editDistance_2": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc_32": 0.56, "sum__pred/test_editDistance_24": 0, "sum__pred/test_samples_per_second": 10.557, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__pred/test_acc_27": 0.928, "sum__pred/valid_f1": 0.7668, "sum__pred/test_acc_36": 0.078, "sum__pred/test_acc_39": 0.006, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_11": 1, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_steps_per_second": 1.446, "sum___runtime": 21231, "sum__pred/test_acc_26": 0.962, "sum__pred/valid_acc_7": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_5": 0, "sum__train/acc": 0.3974, "sum__pred/test_acc_37": 0.018, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_seq_acc": 0.9996, "sum__pred/test_editDistance_32": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__train/recall": 1, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_13": 0, "sum__eval/loss": 0.00010458184260642156, "sum__pred/valid_acc_15": 1, "sum__pred/valid_recall": 0.9997, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_18": 0.9976, "sum__train/learning_rate": 1e-07, "sum__train/gen_max_length": 256, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_34": 0, "sum__pred/test_acc_29": 0.862, "sum__pred/test_acc": 0.6913, "sum__pred/test_acc_33": 0.39, "sum__num_train_samples": 100000, "sum__pred/valid_acc_12": 1, "sum__pred/test_steps_per_second": 0.33, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__train/f1": 0.5688, "sum__eval/runtime": 162.406, "sum__pred/valid_acc_9": 1, "sum__pred/valid_runtime": 162.5131, "sum__pred/test_editDistance_26": 0, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__eval/acc": 0.9337, "sum__pred/valid_acc_13": 1, "sum__pred/test_precision": 0.3885, "sum__pred/valid_editDistance_20": 0, "sum__train/train_steps_per_second": 2.049, "sum__auto_computed_batch_size_predict": 32, "sum__train/loss": 0.0001, "sum__pred/valid_editDistance_12": 0, "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__pred/test_editDistance_29": 0, "sum__train/epoch": 25.59, "sum__train/global_step": 0, "sum__train/train_runtime": 19519.802, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_18": 0, "sum__evaluated_acc/test/plot_table#size": 351, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "7e096f9f034a88cdb1132212b5f527105bc82f5d87af10faa63f1e312da5f3f8", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_7e096f9f034a88cdb113.table.json", "sum__eval/recall": 0.9997, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_27": 0, "sum___timestamp": 1679294936, "sum__eval/steps_per_second": 1.447, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_loss": 0.00010458184260642156, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_21": 0, "sum__pred/test_runtime": 947.2818, "sum__pred/test_editDistance_overall": 0, "sum__pred/valid_acc_16": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_256788", "created_at": "2023-03-20T19:27:35", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 38, "sum___timestamp": 1679338086, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___step": 8, "sum___wandb#runtime": 757}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_234054", "created_at": "2023-03-20T19:27:20", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 147, "sum___timestamp": 1679337772, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum___runtime": 35, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_146317", "created_at": "2023-03-20T19:27:05", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___runtime": 36, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum___wandb#runtime": 148, "sum___timestamp": 1679337928, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e__146317", "created_at": "2023-03-20T19:26:32", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__evaluated_acc/test/plot_table#sha256": "77130032d3b83ac06dd7176ad20a2e6291ec27eb5649e64c020f1c1b4c1b7a62", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_77130032d3b83ac06dd7.table.json", "sum__evaluated_acc/test/plot_table#size": 354, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_10": 1, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__pred/test_acc_36": 0.03, "sum__pred/test_precision": 0.3418, "sum__pred/test_seq_acc": 0.5453, "sum__pred/valid_editDistance_6": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__pred/test_acc_25": 0.962, "sum__pred/valid_acc_3": 1, "sum__pred/test_editDistance_27": 0, "sum__pred/test_f1": 0.4595, "sum__pred/test_acc_overall": 0.5453, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_editDistance_overall": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.99592, "sum__train/loss": 0.0004, "sum__pred/valid_acc_17": 1, "sum__pred/valid_acc_overall": 0.9999, "sum__computed_per_device_eval_batch_size": 32, "sum__eval/loss": 3.416613981244154e-05, "sum__pred/valid_acc": 0.9338, "sum__pred/valid_acc_12": 1, "sum__pred/valid_acc_16": 1, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_26": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_15": 0, "sum__num_total_params": 137927808, "sum__pred/test_runtime": 955.3469, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__num_train_samples": 100000, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_loss": 2.7066489565186203e-05, "sum__pred/test_acc_33": 0.288, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107034, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_34": 0, "sum__eval/precision": 0.6218, "sum__pred/valid_acc_2": 1, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/train_steps_per_second": 2.039, "sum__pred/test_recall": 0.7008, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_acc_13": 1, "sum__computed_num_process": 1, "sum__num_non_trainable_params": 28320768, "sum__eval/recall": 0.9996, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_8": 1, "sum__eval/samples_per_second": 46.246, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__pred/valid_samples_per_second": 46.119, "sum__pred/test_acc": 0.6402, "sum__pred/test_acc_22": 0.99, "sum__auto_computed_batch_size_predict": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 72, "sum__pred/test_acc_26": 0.968, "sum__pred/test_editDistance_30": 0, "sum__pred/test_acc_24": 0.972, "sum__pred/test_acc_27": 0.938, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_steps_per_second": 0.328, "sum__train/epoch": 25.59, "sum__pred/valid_f1": 0.7669, "sum__pred/valid_steps_per_second": 1.446, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_runtime": 162.4935, "sum__pred/test_editDistance_38": 0, "sum__train/precision": 0.4124, "sum__pred/valid_editDistance_14": 0, "sum__pred/test_acc_35": 0.068, "sum__pred/valid_acc_4": 1, "sum__pred/valid_editDistance_11": 0, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum___runtime": 21452, "sum__pred/test_acc_30": 0.748, "sum__pred/valid_acc_14": 1, "sum__train/train_loss": 0.213573757541104, "sum__pred/valid_acc_11": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_36": 0, "sum__eval/runtime": 162.0456, "sum__pred/test_acc_29": 0.826, "sum__pred/valid_editDistance_16": 0, "sum__ds_examples/ExperimentStage.TEST#size": 250071, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "047f99701f94e6f77f113f8cac4881aba8ce2ac1dfc6b74069ab54d30ef0f750", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_047f99701f94e6f77f11.table.json", "sum__eval/seq_acc": 0.9996, "sum__train/train_runtime": 19616.1578, "sum__pred/test_acc_28": 0.906, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_overall": 0, "sum__train/f1": 0.584, "sum__pred/test_loss": 0.31791380047798157, "sum__num_trainable_params": 109607040, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_22": 0, "sum__pred/test_acc_40": 0, "sum__train/total_flos": 1.2507380180700365e+17, "sum__pred/valid_editDistance_10": 0, "sum__train/train_samples_per_second": 130.505, "sum__pred/test_acc_21": 0.994, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_32": 0, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "009413c6073ff2644bd35a1cf3a8774de30b5895b01726305a1a6fca95d007c3", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_009413c6073ff2644bd3.table.json", "sum__evaluated_acc/valid/plot_table#size": 303, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__pred/test_acc_37": 0.008, "sum__pred/valid_acc_19": 1, "sum__pred/test_acc_23": 0.982, "sum__pred/test_acc_31": 0.582, "sum__pred/test_acc_38": 0.002, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_20": 0.9975, "sum__pred/valid_num_samples": 7494, "sum__eval/acc": 0.9337, "sum__train/seq_acc": 1, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_acc_6": 1, "sum__pred/valid_recall": 0.9999, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__evaluated_acc/valid/table#size": 2213570, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "b8885485ea0962e87aa353d738fc28e6786b3c3d5ac5eca156b4912f2311d322", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_b8885485ea0962e87aa3.table.json", "sum__auto_computed_grad_acc_steps": 1, "sum__eval/f1": 0.7667, "sum__train/acc": 0.4124, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_samples_per_second": 10.467, "sum__eval/steps_per_second": 1.45, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_acc_18": 1, "sum__train/global_step": 0, "sum__pred/valid_seq_acc": 0.9999, "sum__pred/valid_precision": 0.622, "sum__train/gen_max_length": 256, "sum__computed_per_device_train_batch_size": 64, "sum___step": 4146, "sum__pred/test_acc_32": 0.48, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_fc947efc679d194463a8.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8031, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "fc947efc679d194463a8a20c96bd7a94f902138e576aa113bd4cbe67f66f4d07", "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "c1453fb3a679633d954e7ab2a0912b2ec5cd6b209f01732255fdab4067f0e1d0", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_c1453fb3a679633d954e.table.json", "sum__evaluated_acc/test/table#size": 9235129, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/recall": 1, "sum__pred/valid_acc_15": 1, "sum__pred/valid_editDistance_3": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_3d2460df957ad28db7a1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 157740, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "3d2460df957ad28db7a195a89ac42315a1287ffab5e334deab0d25b28e410e2e", "sum___timestamp": 1679337564, "sum__pred/test_acc_34": 0.162}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_256788", "created_at": "2023-03-20T19:26:18", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___step": 8, "sum___wandb#runtime": 156, "sum___runtime": 41, "sum___timestamp": 1679337614, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_234054", "created_at": "2023-03-20T19:26:03", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 43, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum___wandb#runtime": 755, "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___timestamp": 1679338855, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_agg_256788", "created_at": "2023-03-20T18:33:42", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___runtime": 29, "sum___wandb#runtime": 91, "sum___timestamp": 1679336729, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_2_234054", "created_at": "2023-03-20T18:33:28", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-6000", "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 110, "sum___runtime": 29, "sum___timestamp": 1679336497, "sum__computed_num_process": 1, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_2_256788", "created_at": "2023-03-20T18:33:12", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___step": 8, "sum___wandb#runtime": 110, "sum___runtime": 29, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum___timestamp": 1679336379, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_2_146317", "created_at": "2023-03-20T18:32:57", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum___wandb#runtime": 108, "sum___runtime": 28, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum___timestamp": 1679336613, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_agg_146317", "created_at": "2023-03-20T18:32:37", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum___runtime": 28, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum___wandb#runtime": 94, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum___timestamp": 1679336931, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_agg_234054", "created_at": "2023-03-20T18:32:24", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 28, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum___wandb#runtime": 96, "sum___timestamp": 1679336828, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-6000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898__234054", "created_at": "2023-03-20T18:31:48", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "8a49175a7541d82f0aea477aca3b4737de827651b4ee606aef1f13b68f848b16", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_8a49175a7541d82f0aea.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8460, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__pred/test_acc_27": 0, "sum__train/total_flos": 8.163835181398426e+16, "sum__pred/valid_acc_18": 0.8571, "sum__pred/test_acc_overall": 0.0133, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "3068cc2a3730550071e77b962614587fa35c69083c40de3bbdd9755d97c98366", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_3068cc2a3730550071e7.table.json", "sum__evaluated_acc/valid/table#size": 1018203, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__pred/valid_editDistance_9": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_f1": 0.153, "sum__pred/test_acc_34": 0, "sum__pred/test_acc_35": 0.072, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_33": 0, "sum__computed_num_process": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_34": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_acc_17": 0.84, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_6": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum___wandb#runtime": 16885, "sum__pred/valid_acc_2": 0.9831, "sum__pred/valid_recall": 1, "sum__pred/test_acc": 0.7584, "sum__pred/valid_acc_7": 0.9381, "sum__pred/test_editDistance_33": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-6000", "sum__pred/valid_samples_per_second": 49.38, "sum__eval/f1": 0.5855, "sum__pred/valid_acc_16": 0.8568, "sum__pred/valid_acc_20": 0.8079, "sum__train/train_runtime": 16066.3185, "sum__pred/valid_editDistance_20": 0, "sum__eval/recall": 1, "sum__train/epoch": 25.59, "sum__pred/test_acc_32": 0, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_1cf4fb8e7190576273b9.table.json", "sum__evaluated_acc/test/plot_table#size": 326, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "1cf4fb8e7190576273b942f1d664ce24e4e9b121d32e70a0ddd747857d274fb6", "sum__pred/valid_acc_9": 0.8908, "sum__num_train_samples": 100000, "sum__eval/samples_per_second": 49.38, "sum__auto_computed_grad_acc_steps": 1, "sum__eval/precision": 0.4139, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_5": 0.9619, "sum__pred/valid_precision": 0.4139, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_4": 0.9602, "sum__pred/valid_acc_19": 0.82, "sum__train/recall": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__pred/valid_acc_8": 0.9378, "sum__pred/test_seq_acc": 0.0165, "sum__pred/valid_editDistance_11": 0, "sum__train/global_step": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_15": 0, "sum___runtime": 16885, "sum__pred/valid_acc": 0.9335, "sum__train/precision": 0.2731, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__pred/valid_acc_15": 0.8375, "sum__pred/test_editDistance_37": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 66555, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum___step": 4146, "sum__eval/acc": 0.9335, "sum__pred/valid_acc_13": 0.8811, "sum__train/acc": 0.2731, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_runtime": 151.7625, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/test_steps_per_second": 0.678, "sum__eval/runtime": 151.7633, "sum__pred/test_acc_28": 0, "sum__pred/test_recall": 0.2149, "sum__evaluated_acc/test/table#sha256": "78c5bb20c72a81530599a3652e9176aa893838e42ba2f5910e507b7c2434194d", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_78c5bb20c72a81530599.table.json", "sum__evaluated_acc/test/table#size": 2738500, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_f1": 0.5855, "sum__pred/test_loss": 8.833373069763184, "sum__pred/valid_acc_11": 0.9122, "sum__pred/valid_acc_overall": 0.8973, "sum__pred/test_editDistance_36": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__pred/valid_acc_3": 0.9769, "sum__pred/valid_acc_12": 0.8939, "sum__eval/steps_per_second": 1.548, "sum__pred/valid_editDistance_19": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__train/loss": 0, "sum__pred/valid_acc_6": 0.9404, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-6000", "sum__num_total_params": 137927808, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_14": 0, "sum___timestamp": 1679319582, "sum__pred/test_editDistance_23": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-6000", "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_13": 0, "sum__train/f1": 0.429, "sum__eval/loss": 2.5791285906962e-07, "sum__pred/valid_loss": 2.1815425498061813e-05, "sum__pred/valid_editDistance_18": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__pred/test_acc_24": 0, "sum__pred/test_acc_30": 0, "sum__train/train_steps_per_second": 2.49, "sum__pred/valid_editDistance_7": 0, "sum__train/train_samples_per_second": 159.34, "sum__eval/seq_acc": 1, "sum__train/seq_acc": 1, "sum__train/learning_rate": 1e-07, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_4": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_3041cc6619af46223701.table.json", "sum__evaluated_acc/valid/plot_table#size": 352, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "3041cc6619af462237011e26c65545499a64db6e651f2e3b2ee7b7927c946142", "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_steps_per_second": 1.548, "sum__pred/test_samples_per_second": 21.662, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc_14": 0.8611, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_precision": 0.1188, "sum__pred/test_acc_21": 0.11, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_38": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_10": 0.895, "sum__pred/test_editDistance_39": 0, "sum__pred/test_acc_36": 0.084, "sum__pred/test_acc_39": 0, "sum__pred/test_acc_40": 0, "sum__train/train_loss": 0.232812439446176, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-6000", "sum__pred/test_acc_22": 0, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_31": 0, "sum__computed_per_device_train_batch_size": 64, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_runtime": 461.646, "sum__pred/valid_seq_acc": 1}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898__256788", "created_at": "2023-03-20T18:31:13", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_13": 0.8836, "sum__pred/valid_acc_17": 0.8485, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_8": 0, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "a0969ee59b0b901cc91f2ad47a18f8a5387b83ceff0ff9ca9b1ca1a01b47650c", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_a0969ee59b0b901cc91f.table.json", "sum__evaluated_acc/test/table#size": 2785982, "sum__pred/valid_editDistance_5": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__eval/seq_acc": 1, "sum__pred/test_loss": 9.428138732910156, "sum__pred/valid_runtime": 155.0069, "sum__pred/valid_editDistance_6": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__eval/f1": 0.5852, "sum__eval/runtime": 154.1237, "sum__num_train_samples": 100000, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_acc_35": 0.204, "sum__train/total_flos": 8.163935225546342e+16, "sum__eval/steps_per_second": 1.525, "sum__pred/valid_editDistance_17": 0, "sum__train/train_steps_per_second": 2.43, "sum__auto_computed_eval_batch_size": 32, "sum__eval/precision": 0.4136, "sum__pred/test_acc_21": 0, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_f1": 0.5852, "sum__pred/valid_acc_11": 0.9024, "sum__pred/test_editDistance_31": 0, "sum__pred/test_samples_per_second": 24.15, "sum__eval/acc": 0.9337, "sum__pred/test_acc_24": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_loss": 1.4862364878354128e-05, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_15": 0.8697, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_4": 0.9577, "sum__train/learning_rate": 1e-07, "sum__pred/valid_precision": 0.4136, "sum__pred/test_acc_overall": 0.0177, "sum__auto_computed_batch_size_predict": 32, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 17251, "sum__train/seq_acc": 1, "sum__pred/valid_acc_2": 0.9814, "sum__pred/valid_seq_acc": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__pred/test_recall": 0.2212, "sum__pred/valid_editDistance_19": 0, "sum__computed_per_device_train_batch_size": 64, "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_25": 0, "sum__train/f1": 0.4168, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_7": 0.9508, "sum__pred/valid_acc_9": 0.8724, "sum__computed_num_process": 1, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_18": 0.8249, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_16": 0, "sum__ds_examples/ExperimentStage.PREDICTION#size": 69495, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_704a86e308f5212aee36.table.json", "sum__train/loss": 0, "sum__train/epoch": 25.59, "sum__pred/test_acc_31": 0, "sum__pred/test_runtime": 414.0752, "sum__pred/valid_acc_20": 0.8157, "sum__num_total_params": 137927808, "sum__pred/test_acc_22": 0, "sum__pred/valid_acc_16": 0.8564, "sum__train/train_runtime": 16462.4482, "sum__train/train_samples_per_second": 155.505, "sum__pred/test_acc_34": 0.15, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_acc_27": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_steps_per_second": 0.756, "sum__pred/valid_steps_per_second": 1.516, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__eval/recall": 1, "sum__pred/test_f1": 0.156, "sum__pred/valid_acc_5": 0.9582, "sum__pred/valid_acc_8": 0.9301, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_precision": 0.1205, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__train/recall": 1, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_12": 0.8974, "sum__pred/valid_acc_19": 0.8267, "sum__train/train_loss": 0.23451895861827488, "sum__pred/valid_acc_overall": 0.899, "sum__pred/valid_acc_14": 0.87, "sum__pred/valid_recall": 1, "sum__num_non_trainable_params": 28320768, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__train/acc": 0.2632, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_samples_per_second": 48.346, "sum___timestamp": 1679302688, "sum__pred/valid_acc_10": 0.8968, "sum__eval/loss": 3.1827906354919833e-07, "sum__pred/test_acc_28": 0, "sum__pred/test_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_18": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_3": 0.9797, "sum__pred/valid_acc_6": 0.953, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_2": 0, "sum___step": 4146, "sum__pred/test_editDistance_27": 0, "sum__evaluated_acc/test/plot_table#sha256": "d7e197e16e010812a5e7efe792ac91892386829688888200f9b01ca2f656a168", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_d7e197e16e010812a5e7.table.json", "sum__evaluated_acc/test/plot_table#size": 324, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__pred/test_editDistance_38": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_7": 0, "sum__train/precision": 0.2632, "sum__pred/test_acc_40": 0, "sum__train/global_step": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_97d47ee95394bbad2720.table.json", "sum__evaluated_acc/valid/table#size": 1012160, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "97d47ee95394bbad27205b34ab7005b9073e644f782bd17886919a4219776d5e", "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "556e54f6ba75ccf2d4dd5bffe5d63102edc35c07f847ecfd474d4eee032608da", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_556e54f6ba75ccf2d4dd.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8490, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__pred/test_acc": 0.7603, "sum__pred/valid_acc": 0.9337, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_37": 0, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "61d1fe04c5f6cc4e036f1895a45c2d5934eac4246f54db4de9b21de1b02227f3", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_61d1fe04c5f6cc4e036f.table.json", "sum__evaluated_acc/valid/plot_table#size": 353, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum___wandb#runtime": 17251, "sum__num_trainable_params": 109607040, "sum__eval/samples_per_second": 48.623, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_acc_32": 0, "sum__pred/test_seq_acc": 0.0253, "sum__pred/test_editDistance_26": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__pred/valid_editDistance_13": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898__146317", "created_at": "2023-03-20T18:30:36", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/f1": 0.5851, "sum___timestamp": 1679336341, "sum__eval/precision": 0.4135, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_seq_acc": 0.0044, "sum__pred/valid_acc_13": 0.8897, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/test_acc": 0.7569, "sum__pred/test_recall": 0.2177, "sum__pred/valid_acc_3": 0.9847, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__pred/test_f1": 0.1518, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_30": 0, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_3": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__train/recall": 1, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_35": 0.014, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_7": 0.9563, "sum__eval/samples_per_second": 49.23, "sum__pred/valid_acc_9": 0.8987, "sum__pred/test_editDistance_36": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__pred/valid_f1": 0.5851, "sum__pred/valid_acc_8": 0.9353, "sum__pred/valid_acc_12": 0.8998, "sum__pred/valid_precision": 0.4135, "sum__pred/valid_editDistance_20": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__train/train_loss": 0.23935963320782577, "sum__pred/valid_acc_11": 0.9289, "sum__pred/valid_acc_overall": 0.8999, "sum__pred/test_editDistance_29": 0, "sum__pred/test_acc_33": 0, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_14": 0, "sum__evaluated_acc/test/plot_table#sha256": "0ce469d550c2245bc61af1daeb395fc56cc9c8ffcacebb687dcea5108bc5b21a", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_0ce469d550c2245bc61a.table.json", "sum__evaluated_acc/test/plot_table#size": 324, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__eval/acc": 0.9338, "sum__train/epoch": 25.59, "sum__eval/runtime": 152.2227, "sum__pred/valid_acc_4": 0.9645, "sum__pred/test_editDistance_27": 0, "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_steps_per_second": 1.547, "sum__train/precision": 0.2748, "sum__pred/valid_acc_18": 0.8378, "sum__pred/valid_recall": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_5": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_21": 0, "sum__pred/test_samples_per_second": 19.766, "sum__pred/test_acc_26": 0, "sum__pred/valid_samples_per_second": 49.318, "sum__pred/valid_acc_5": 0.9632, "sum__pred/valid_acc_10": 0.8953, "sum__pred/valid_editDistance_overall": 0, "sum__num_train_samples": 100000, "sum__train/learning_rate": 1e-07, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_2": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_b6ef2d771410654341f1.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8536, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "b6ef2d771410654341f139ac0f523f44d4d4d6f06b05559bcfb40f4a96806ea5", "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_loss": 1.3523376765078863e-05, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_15": 0.8346, "sum__pred/valid_seq_acc": 1, "sum___wandb#runtime": 16751, "sum__eval/seq_acc": 1, "sum__pred/test_acc_22": 0, "sum__pred/valid_acc_17": 0.8283, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/test_acc_29": 0, "sum__train/gen_max_length": 256, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__eval/loss": 3.510032797748863e-07, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_19": 0, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 68308, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_8": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_13": 0, "sum___step": 4146, "sum__pred/valid_acc_16": 0.837, "sum__pred/valid_runtime": 151.9513, "sum__eval/steps_per_second": 1.544, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_37": 0, "sum__train/acc": 0.2748, "sum__pred/test_runtime": 505.9251, "sum__pred/test_precision": 0.1166, "sum__pred/valid_editDistance_18": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__pred/test_loss": 9.292719841003418, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_28": 0, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/valid/plot_table#size": 356, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "23df53e28a76563c7342089dac7bb6da5ee4c4509c6974d7a690210ffd74abff", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_23df53e28a76563c7342.table.json", "sum__pred/valid_acc_6": 0.9463, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/test_steps_per_second": 0.619, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__pred/test_editDistance_31": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum___runtime": 16751, "sum__train/f1": 0.4311, "sum__train/loss": 0, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_39": 0, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_bcc186726e21a0ac6d37.table.json", "sum__evaluated_acc/test/table#size": 2840478, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "bcc186726e21a0ac6d37447afba90d6c9812897db49dde91317db6ad145ab152", "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_acc": 0.9338, "sum__num_total_params": 137927808, "sum__pred/valid_editDistance_4": 0, "sum__train/train_steps_per_second": 2.518, "sum__pred/valid_editDistance_17": 0, "sum__eval/recall": 1, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_19": 0.8127, "sum__pred/valid_acc_20": 0.8392, "sum__train/global_step": 0, "sum__pred/valid_editDistance_7": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_2": 0.9836, "sum__pred/valid_acc_14": 0.8507, "sum__train/train_runtime": 15886.7738, "sum__computed_num_process": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_30": 0, "sum__train/train_samples_per_second": 161.14, "sum__train/seq_acc": 1, "sum__pred/test_acc_34": 0.05, "sum__pred/test_acc_38": 0, "sum__train/total_flos": 8.164318003155763e+16, "sum__pred/test_acc_overall": 0.0032, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_e69da4c6ed23f5cfcfc0.table.json", "sum__evaluated_acc/valid/table#size": 1011959, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "e69da4c6ed23f5cfcfc06b7a3fbff60a1f093c0d87f62b75913a5d9b8cadcb4a"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c__256788", "created_at": "2023-03-20T17:10:59", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_30": 0, "sum__pred/test_acc_36": 0, "sum__train/train_loss": 0.04721467032787768, "sum__pred/test_editDistance_36": 0, "sum__train/recall": 1, "sum__train/seq_acc": 1, "sum__eval/precision": 0.375, "sum__pred/test_loss": 1.6014468669891355, "sum__pred/test_acc_25": 0.1, "sum__train/learning_rate": 1e-07, "sum__computed_num_process": 1, "sum__pred/valid_precision": 0.375, "sum__train/f1": 0.3739, "sum___timestamp": 1679304703, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_acc_9": 1, "sum__train/total_flos": 8.685915567302246e+16, "sum__pred/test_seq_acc": 0.1844, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_steps_per_second": 2.186, "sum__num_total_params": 137927808, "sum__pred/valid_acc_6": 1, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_21": 1, "sum__pred/test_acc_22": 1, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_6": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__pred/test_acc_32": 0, "sum__pred/valid_recall": 1, "sum__pred/valid_acc_11": 1, "sum__pred/test_editDistance_37": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_seq_acc": 1, "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum___wandb#runtime": 12573, "sum__train/global_step": 0, "sum__pred/valid_editDistance_20": 0, "sum__train/train_steps_per_second": 3.289, "sum__auto_computed_batch_size_predict": 32, "sum___runtime": 12573, "sum__pred/valid_loss": 1.4236228707886768e-05, "sum__pred/valid_editDistance_17": 0, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_acc_16": 1, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "350b803bdb4c75160fe71458d0a1a8e7229108022494360a85a90309621f682e", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_350b803bdb4c75160fe7.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7588, "sum___step": 4146, "sum__train/acc": 0.2299, "sum__pred/test_runtime": 143.1725, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 75276, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__train/loss": 0, "sum__pred/test_f1": 0.5339, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_acc": 0.9219, "sum__train/train_runtime": 12162.1611, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__pred/test_acc_27": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc_31": 0, "sum__eval/steps_per_second": 3.238, "sum__train/train_samples_per_second": 210.489, "sum__pred/valid_acc_2": 1, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_acc_10": 1, "sum__pred/test_precision": 0.3934, "sum__num_trainable_params": 109607040, "sum__pred/valid_f1": 0.5455, "sum__pred/test_acc_37": 0, "sum__eval/samples_per_second": 103.39, "sum__pred/test_editDistance_overall": 0, "sum__eval/acc": 0.9219, "sum__pred/valid_acc_17": 1, "sum__num_train_samples": 100000, "sum__pred/valid_editDistance_8": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_34": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__train/epoch": 25.59, "sum__pred/test_acc_29": 0, "sum__train/precision": 0.2299, "sum__auto_computed_grad_acc_steps": 1, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4610c57beb5ca1097a73.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "4610c57beb5ca1097a73037983c23428e8f6c4ee168936fbe0a8808afdf7cd70", "sum__eval/loss": 3.666460202111921e-07, "sum__eval/runtime": 68.2561, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_acc_19": 1, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_acc_23": 0.98, "sum__pred/test_acc_overall": 0.1844, "sum__pred/valid_acc_14": 1, "sum__evaluated_acc/valid/table#sha256": "c28693bafcaa4b7a387afa140e7f5d62dae6af9a321c5154c6969c0435cb2b89", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_c28693bafcaa4b7a387a.table.json", "sum__evaluated_acc/valid/table#size": 951526, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_38": 0, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__pred/test_acc_24": 0.604, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_18": 1, "sum__num_non_trainable_params": 28320768, "sum__pred/test_acc_26": 0.004, "sum__pred/valid_acc_4": 1, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_overall": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_15": 1, "sum__pred/valid_samples_per_second": 102.451, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_steps_per_second": 3.208, "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "181f1f71d33a539578b5669a7c0ba1340f8572e819eb716620dde91950e4eaae", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_181f1f71d33a539578b5.table.json", "sum__pred/valid_acc_12": 1, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "655d5c8b07bb39308f9326b909dfc147e6473407eba67f9893e0816dea3ddcf1", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_655d5c8b07bb39308f93.table.json", "sum__evaluated_acc/test/table#size": 3039136, "sum__evaluated_acc/test/table#_type": "table-file", "sum__pred/valid_acc_3": 1, "sum__pred/valid_runtime": 68.8816, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_14": 0, "sum__eval/f1": 0.5455, "sum__pred/test_acc_34": 0, "sum__pred/test_recall": 0.8302, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_35": 0, "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "0294c38ce9914f5f4679bb5a5669fc807ea9c2cb0deffd769be9825f260fdc8d", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_0294c38ce9914f5f4679.table.json", "sum__evaluated_acc/test/plot_table#size": 326, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__pred/test_acc": 0.8248, "sum__pred/test_acc_28": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/test_samples_per_second": 69.846, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__eval/recall": 1, "sum__pred/valid_num_samples": 7057, "sum__pred/test_editDistance_29": 0, "sum__eval/seq_acc": 1, "sum__pred/valid_acc_7": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c__146317", "created_at": "2023-03-20T17:10:24", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_loss": 1.1392021406209096e-05, "sum__pred/valid_recall": 1, "sum__pred/test_precision": 0.39, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_16": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__pred/test_acc_29": 0, "sum__num_train_samples": 100000, "sum__train/gen_max_length": 256, "sum__pred/test_acc_overall": 0.1922, "sum__pred/test_editDistance_35": 0, "sum__auto_computed_eval_batch_size": 32, "sum__train/f1": 0.4081, "sum__pred/valid_acc_7": 1, "sum__pred/test_editDistance_37": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_5": 0, "sum__train/seq_acc": 1, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_23": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4ba7bc816ef56ef0b6bb.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "4ba7bc816ef56ef0b6bb5cb0a790661c1a6b7d838a19eb3ff0aab9d228befc58", "sum__pred/valid_acc": 0.9217, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_15": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_26": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum___wandb#runtime": 12758, "sum__pred/test_acc_24": 0.784, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_16": 1, "sum__pred/test_acc_21": 1, "sum__pred/test_recall": 0.8182, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_overall": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__eval/samples_per_second": 97.215, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_12": 1, "sum__pred/valid_acc_8": 1, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_39": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_13": 0, "sum__train/epoch": 25.59, "sum__train/total_flos": 8.685289203941376e+16, "sum__train/global_step": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_21": 0, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__train/acc": 0.2564, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_7": 0, "sum__auto_computed_batch_size_predict": 32, "sum__eval/runtime": 72.5919, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_36": 0, "sum__train/precision": 0.2564, "sum__pred/test_acc_38": 0, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_f1": 0.5282, "sum__pred/valid_f1": 0.5457, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_36": 0, "sum__train/train_loss": 0.04815630769886775, "sum__pred/test_seq_acc": 0.1922, "sum__pred/valid_acc_20": 1, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_steps_per_second": 3.035, "sum__train/loss": 0.0001, "sum__pred/test_acc_35": 0, "sum__pred/test_runtime": 148.9841, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_samples_per_second": 67.121, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_e564d32b07c09f946855.table.json", "sum__evaluated_acc/test/plot_table#size": 327, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "e564d32b07c09f946855b07e0dade737e7d625a84c93c290781fa29acc37022e", "sum__pred/test_editDistance_overall": 0, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "c3a594cb6e6189e3e63d44b39d156dd8e1b42fb3f198926d8161fde4871dfc3c", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_c3a594cb6e6189e3e63d.table.json", "sum__evaluated_acc/test/table#size": 3019604, "sum__evaluated_acc/test/table#_type": "table-file", "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_19": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__computed_per_device_eval_batch_size": 32, "sum__eval/f1": 0.5457, "sum__eval/loss": 3.582126453238743e-07, "sum__pred/test_acc_28": 0, "sum__pred/valid_runtime": 72.8106, "sum__pred/valid_num_samples": 7057, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum___step": 4146, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_31": 0, "sum__train/train_steps_per_second": 3.242, "sum__pred/valid_samples_per_second": 96.923, "sum__eval/acc": 0.9217, "sum__eval/recall": 1, "sum__pred/test_acc_25": 0.062, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_11": 1, "sum__pred/valid_precision": 0.3752, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.PREDICTION#size": 78659, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_411c558d4760f85952cc.table.json", "sum___runtime": 12758, "sum___timestamp": 1679330148, "sum__eval/precision": 0.3752, "sum__pred/test_loss": 1.863147854804993, "sum__pred/test_acc_40": 0, "sum__computed_num_process": 1, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_8d91c5e0321e4244f754.table.json", "sum__evaluated_acc/valid/table#size": 943848, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__evaluated_acc/valid/table#sha256": "8d91c5e0321e4244f754762fa9d30e696bb7ef40e1e97faa660722863879ef95", "sum__pred/test_editDistance_30": 0, "sum__train/train_samples_per_second": 207.506, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__pred/valid_acc_13": 1, "sum__train/train_runtime": 12337.0149, "sum__pred/valid_editDistance_9": 0, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_fcf73269f5a9534bec36.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "fcf73269f5a9534bec362ae6528e866219b44d0d6a8918ede318e334806fe8f3", "sum__eval/seq_acc": 1, "sum__num_total_params": 137927808, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_4": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_steps_per_second": 2.101, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_39": 0, "sum__eval/steps_per_second": 3.044, "sum__pred/valid_editDistance_17": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__pred/test_acc_22": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_29": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__pred/test_acc": 0.8233, "sum__pred/test_acc_23": 0.998, "sum__pred/valid_editDistance_8": 0, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "b39b9a45b87fd234257010dd6f5681726766ff70c016f258d76dff9577e41b04", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_b39b9a45b87fd2342570.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7609, "sum__pred/valid_editDistance_6": 0, "sum__train/recall": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c__234054", "created_at": "2023-03-20T17:09:48", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__auto_computed_grad_acc_steps": 1, "sum___timestamp": 1679317382, "sum__pred/test_precision": 0.3866, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_editDistance_25": 0, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_9": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__pred/test_acc_29": 0, "sum__train/global_step": 0, "sum__pred/valid_steps_per_second": 3.032, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_loss": 2.7481797587824985e-05, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__pred/test_editDistance_37": 0, "sum__pred/valid_acc_15": 1, "sum__train/gen_max_length": 256, "sum__evaluated_acc/valid/table#size": 951690, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__evaluated_acc/valid/table#sha256": "24934e9ea5c032f61b0a79856a4daeac90e5c11b9dae9596904a38009c9fcea0", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_24934e9ea5c032f61b0a.table.json", "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_39": 0, "sum__eval/loss": 2.855911134247435e-07, "sum__pred/test_acc_21": 0.996, "sum__pred/test_acc_38": 0, "sum__train/train_samples_per_second": 208.859, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__pred/valid_editDistance_16": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_33": 0, "sum__train/train_loss": 0.0469186450052759, "sum__num_total_params": 137927808, "sum__pred/test_acc_30": 0, "sum__pred/test_runtime": 146.2288, "sum__pred/valid_acc_11": 1, "sum__computed_per_device_train_batch_size": 64, "sum__eval/recall": 1, "sum__eval/runtime": 71.9157, "sum__eval/precision": 0.3752, "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "deec1c9be8ed8a67e68875f162f99549f0abb8a4e101fd30c040ffecb0ebab1b", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_deec1c9be8ed8a67e688.table.json", "sum__pred/valid_acc_7": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__pred/test_acc_22": 0.956, "sum__pred/test_acc_36": 0, "sum__pred/test_recall": 0.8077, "sum__pred/valid_editDistance_6": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__pred/test_f1": 0.5229, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_precision": 0.3752, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_17": 1, "sum__pred/valid_acc_18": 1, "sum__pred/test_acc_28": 0, "sum___runtime": 12671, "sum__pred/test_acc": 0.822, "sum__train/seq_acc": 1, "sum__pred/valid_acc_8": 1, "sum__pred/test_editDistance_21": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_c46f668a64e7f69817fe.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7615, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "c46f668a64e7f69817fedf0cbf8b1456a2899d8a0a52ae302bed2c6adc0654f5", "sum__train/acc": 0.2663, "sum__pred/valid_f1": 0.5456, "sum__pred/test_acc_32": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/f1": 0.4205, "sum__computed_num_process": 1, "sum__pred/test_editDistance_36": 0, "sum___step": 4146, "sum___wandb#runtime": 12671, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_11": 0, "sum__eval/seq_acc": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_acc_2": 1, "sum__pred/test_seq_acc": 0.1326, "sum__pred/valid_acc_10": 1, "sum__pred/valid_editDistance_20": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_fbb817bf68eea88fd5ad.table.json", "sum__evaluated_acc/test/plot_table#size": 329, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "fbb817bf68eea88fd5ad922b88f90e9f7a7a96c690b18c0a027d8f31b504ccaa", "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_20": 1, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_acc_26": 0, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_7": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__eval/acc": 0.9218, "sum__pred/test_loss": 2.034710645675659, "sum__pred/test_acc_24": 0.074, "sum__evaluated_acc/test/table#size": 3005676, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "944d0e8a5a1ce69f938f89563b5f181fb135a75a58fb87d7ca59c8016e8948d5", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_944d0e8a5a1ce69f938f.table.json", "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/loss": 0, "sum__pred/test_acc_40": 0, "sum__train/train_runtime": 12257.0704, "sum__train/epoch": 25.59, "sum__train/precision": 0.2663, "sum__pred/valid_acc_16": 1, "sum__pred/valid_editDistance_9": 0, "sum__evaluated_acc/valid/plot_table#sha256": "1c2f5cfef1b831aa0620adbef48ed878d6a6d0bae87d55a997c4feeb8dd402a2", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_1c2f5cfef1b831aa0620.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__train/recall": 1, "sum__pred/test_acc_23": 0.626, "sum__eval/steps_per_second": 3.073, "sum__pred/valid_acc_19": 1, "sum__eval/f1": 0.5456, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_acc_4": 1, "sum__eval/samples_per_second": 98.129, "sum__auto_computed_batch_size": 64, "sum__train/train_steps_per_second": 3.263, "sum__ds_examples/ExperimentStage.PREDICTION#size": 82124, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_dea6a83f4c47774d81c9.table.json", "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_steps_per_second": 2.14, "sum__pred/valid_samples_per_second": 96.808, "sum__train/total_flos": 8.685563237911757e+16, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_40": 0, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_14": 1, "sum__pred/valid_num_samples": 7057, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_acc_12": 1, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_samples_per_second": 68.386, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_13": 1, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_acc": 0.9218, "sum__pred/test_acc_37": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_acc_overall": 1, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_acc_5": 1, "sum__pred/test_acc_overall": 0.1326, "sum__pred/test_num_samples": 10000, "sum__pred/valid_recall": 1, "sum__pred/valid_runtime": 72.8969, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_2_234054", "created_at": "2023-03-20T17:09:33", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 97, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 30, "sum___timestamp": 1679330292, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_256788", "created_at": "2023-03-20T17:09:18", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679330501, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum___step": 8, "sum___wandb#runtime": 520, "sum___runtime": 29, "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_234054", "created_at": "2023-03-20T17:09:03", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___runtime": 34, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___timestamp": 1679331033, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum___wandb#runtime": 526, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_2_146317", "created_at": "2023-03-20T17:08:49", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum___step": 8, "sum___timestamp": 1679330397, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 30, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum___wandb#runtime": 97, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_2_256788", "created_at": "2023-03-20T17:08:34", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___timestamp": 1679330186, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum___wandb#runtime": 98}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_146317", "created_at": "2023-03-20T17:08:20", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum___step": 8, "sum___wandb#runtime": 518, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___timestamp": 1679331563, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum___runtime": 30, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_2_234054", "created_at": "2023-03-20T16:59:18", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 102, "sum___timestamp": 1679330967, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum___step": 8, "sum___runtime": 32, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8__256788", "created_at": "2023-03-20T16:58:45", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum___step": 4146, "sum__pred/valid_acc_14": 1, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_0687c0bf1ead243092b2.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "0687c0bf1ead243092b2ee38010afd1d095bc79b63f347e2eb56c37af1bdd8c2", "sum__train/global_step": 0, "sum__pred/valid_seq_acc": 1, "sum__train/train_runtime": 12703.9978, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_19": 0, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "bbf76c0cd371eacd8282bb096d6a9a67a6aa8eeb4b7b26b662502ac774709d67", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_bbf76c0cd371eacd8282.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7516, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__train/precision": 0.2299, "sum__pred/valid_editDistance_5": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__eval/seq_acc": 1, "sum__eval/samples_per_second": 98.812, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_15": 0, "sum__auto_computed_batch_size_predict": 32, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "181f1f71d33a539578b5669a7c0ba1340f8572e819eb716620dde91950e4eaae", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_181f1f71d33a539578b5.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_acc_38": 0, "sum__train/train_loss": 0.036910243183792046, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_17": 1, "sum__pred/test_acc_overall": 0, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_27": 0, "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__eval/precision": 0.375, "sum__pred/test_acc_33": 0, "sum__auto_computed_eval_batch_size": 32, "sum___runtime": 13883, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_acc_27": 0, "sum__train/gen_max_length": 256, "sum__pred/test_f1": 0.2669, "sum__pred/test_acc_21": 0, "sum__pred/test_recall": 0.6843, "sum__num_non_trainable_params": 40903680, "sum__pred/valid_editDistance_10": 0, "sum__train/epoch": 25.59, "sum__pred/test_acc": 0.5412, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_5": 1, "sum__computed_num_process": 1, "sum__evaluated_acc/test/table#size": 6036265, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "03f4575bd992b8096e9ee67925ad7b7e4ae4f9e3f1261199f8b5bb3517360150", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_03f4575bd992b8096e9e.table.json", "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_13": 0, "sum__train/acc": 0.2299, "sum__pred/test_loss": 0.5710682272911072, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_31": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_acc_9": 1, "sum__num_train_samples": 100000, "sum__pred/test_runtime": 896.5254, "sum__pred/valid_acc_13": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__pred/valid_editDistance_16": 0, "sum__train/train_steps_per_second": 3.149, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_16": 1, "sum__pred/valid_acc_20": 1, "sum__pred/valid_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 75276, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__pred/test_steps_per_second": 0.349, "sum__num_total_params": 150510720, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_12": 1, "sum__pred/valid_runtime": 71.7447, "sum__pred/test_editDistance_40": 0, "sum___wandb#runtime": 13884, "sum__pred/valid_loss": 2.0923815100104548e-05, "sum__train/total_flos": 8.685915567302246e+16, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_editDistance_18": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc": 0.9219, "sum__train/learning_rate": 1e-07, "sum__pred/valid_precision": 0.375, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_samples_per_second": 98.363, "sum__train/seq_acc": 1, "sum__pred/test_acc_23": 0, "sum__pred/test_seq_acc": 0, "sum__pred/valid_acc_18": 1, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "4610c57beb5ca1097a73037983c23428e8f6c4ee168936fbe0a8808afdf7cd70", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4610c57beb5ca1097a73.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__eval/runtime": 71.4183, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_34": 0, "sum__num_trainable_params": 109607040, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_36": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_30": 0, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_c28693bafcaa4b7a387a.table.json", "sum__evaluated_acc/valid/table#size": 951526, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__evaluated_acc/valid/table#sha256": "c28693bafcaa4b7a387afa140e7f5d62dae6af9a321c5154c6969c0435cb2b89", "sum__pred/valid_editDistance_11": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_6": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_3": 0, "sum__eval/recall": 1, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_19": 1, "sum__pred/valid_acc_overall": 1, "sum__eval/f1": 0.5455, "sum__pred/valid_acc_10": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_steps_per_second": 3.08, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__train/f1": 0.3739, "sum__pred/test_acc_28": 0, "sum__pred/test_editDistance_35": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__pred/valid_editDistance_7": 0, "sum__pred/test_acc_26": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__eval/acc": 0.9219, "sum__eval/loss": 1.817810243665008e-06, "sum__train/recall": 1, "sum__pred/valid_f1": 0.5455, "sum__pred/valid_acc_3": 1, "sum__pred/valid_num_samples": 7057, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum___timestamp": 1679302981, "sum__train/loss": 0, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/test_samples_per_second": 11.154, "sum__pred/test_precision": 0.1658, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_12": 0, "sum__train/train_samples_per_second": 201.511, "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__pred/valid_acc_8": 1, "sum__eval/steps_per_second": 3.094}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_2_146317", "created_at": "2023-03-20T16:58:30", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 96, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum___timestamp": 1679331076, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum___step": 8, "sum___runtime": 32}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8__234054", "created_at": "2023-03-20T16:57:58", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__num_train_samples": 100000, "sum__pred/valid_acc_17": 1, "sum__pred/valid_acc_20": 1, "sum__pred/test_acc_overall": 0, "sum__pred/valid_precision": 0.3752, "sum__evaluated_acc/valid/table#sha256": "24934e9ea5c032f61b0a79856a4daeac90e5c11b9dae9596904a38009c9fcea0", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_24934e9ea5c032f61b0a.table.json", "sum__evaluated_acc/valid/table#size": 951690, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum___timestamp": 1679316910, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_runtime": 908.3898, "sum__num_non_trainable_params": 40903680, "sum__pred/valid_editDistance_2": 0, "sum__eval/precision": 0.3752, "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_16": 1, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/test_samples_per_second": 11.008, "sum__train/train_samples_per_second": 201.132, "sum__train/epoch": 25.59, "sum__pred/test_acc_31": 0, "sum__pred/test_seq_acc": 0, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_f74bf649687330ceecfe.table.json", "sum__evaluated_acc/test/table#size": 7677160, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "f74bf649687330ceecfe93ac11b20620f755f8dc2d31732e1715d2f9d476d8c6", "sum__pred/valid_editDistance_19": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__train/train_steps_per_second": 3.143, "sum__train/precision": 0.2663, "sum__pred/test_acc_39": 0, "sum__pred/valid_runtime": 72.7349, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_f1": 0.5456, "sum__pred/valid_acc_19": 1, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__pred/test_editDistance_38": 0, "sum__eval/f1": 0.5456, "sum__train/total_flos": 8.685563237911757e+16, "sum__pred/valid_acc_12": 1, "sum__pred/valid_num_samples": 7057, "sum__pred/valid_editDistance_20": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__train/recall": 1, "sum__pred/test_acc_27": 0, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_31": 0, "sum__pred/test_acc": 0.4411, "sum__num_total_params": 150510720, "sum__pred/valid_recall": 1, "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "1c2f5cfef1b831aa0620adbef48ed878d6a6d0bae87d55a997c4feeb8dd402a2", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_1c2f5cfef1b831aa0620.table.json", "sum__pred/valid_samples_per_second": 97.024, "sum__pred/valid_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_13": 0, "sum__train/gen_max_length": 256, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__pred/test_steps_per_second": 0.345, "sum___wandb#runtime": 13920, "sum__eval/acc": 0.9218, "sum__pred/test_precision": 0.1515, "sum__computed_num_process": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_editDistance_17": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__eval/samples_per_second": 98.392, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_steps_per_second": 3.038, "sum__auto_computed_batch_size_predict": 32, "sum__train/f1": 0.4205, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_6": 1, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_9": 0, "sum__computed_per_device_train_batch_size": 64, "sum__train/seq_acc": 1, "sum__pred/test_acc_21": 0, "sum__train/train_loss": 0.03663747949990793, "sum__pred/valid_acc_18": 1, "sum__pred/valid_acc_15": 1, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_11": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_5382a2f492c17496d74e.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7504, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "5382a2f492c17496d74e7769e9e4e4c13b756f9b97f561851e32245e9c37b878", "sum__eval/seq_acc": 1, "sum__pred/test_acc_22": 0, "sum__pred/test_editDistance_23": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 82124, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_12": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__pred/valid_acc": 0.9218, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_14": 1, "sum__pred/test_loss": 0.5604923963546753, "sum__pred/valid_acc_11": 1, "sum__num_trainable_params": 109607040, "sum___step": 4146, "sum__pred/valid_acc_8": 1, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "deec1c9be8ed8a67e68875f162f99549f0abb8a4e101fd30c040ffecb0ebab1b", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_deec1c9be8ed8a67e688.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__train/global_step": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_36": 0, "sum__eval/loss": 1.920098384289304e-06, "sum__eval/recall": 1, "sum__pred/test_f1": 0.2534, "sum__pred/test_acc_36": 0, "sum__pred/test_editDistance_35": 0, "sum__auto_computed_eval_batch_size": 32, "sum__eval/runtime": 71.7234, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_32": 0, "sum__pred/test_num_samples": 10000, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_30": 0, "sum__pred/test_recall": 0.7762, "sum__pred/test_editDistance_39": 0, "sum__train/loss": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_33": 0, "sum__eval/steps_per_second": 3.081, "sum__pred/test_editDistance_40": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum___runtime": 13919, "sum__pred/test_acc_40": 0, "sum__pred/valid_seq_acc": 1, "sum__train/train_runtime": 12727.9491, "sum__pred/valid_editDistance_16": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__pred/valid_loss": 1.8381613699602894e-05, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_7": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_14": 0, "sum__train/acc": 0.2663, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_7": 1, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_editDistance_overall": 0, "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_editDistance_15": 0, "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "0687c0bf1ead243092b2ee38010afd1d095bc79b63f347e2eb56c37af1bdd8c2", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_0687c0bf1ead243092b2.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_agg_146317", "created_at": "2023-03-20T16:57:43", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___wandb#runtime": 59, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum___step": 8, "sum___timestamp": 1679331320, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_agg_256788", "created_at": "2023-03-20T16:57:30", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum___runtime": 36, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum___step": 8, "sum___timestamp": 1679331186, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum___wandb#runtime": 63, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_agg_234054", "created_at": "2023-03-20T16:57:15", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum___step": 8, "sum___wandb#runtime": 59, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum___timestamp": 1679331253, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8__146317", "created_at": "2023-03-20T16:56:41", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/seq_acc": 1, "sum__pred/test_acc": 0.5446, "sum__pred/test_acc_40": 0, "sum__train/train_loss": 0.03717816605232183, "sum__pred/valid_acc_13": 1, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_acc_19": 1, "sum__pred/test_editDistance_26": 0, "sum__train/train_steps_per_second": 3.147, "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__train/f1": 0.4081, "sum__pred/test_runtime": 903.0213, "sum__pred/valid_acc_10": 1, "sum__pred/valid_editDistance_6": 0, "sum__evaluated_acc/valid/plot_table#sha256": "4ba7bc816ef56ef0b6bb5cb0a790661c1a6b7d838a19eb3ff0aab9d228befc58", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4ba7bc816ef56ef0b6bb.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__pred/valid_acc": 0.9217, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_16": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_35": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__pred/valid_editDistance_10": 0, "sum__eval/samples_per_second": 98.975, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_acc_25": 0, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_15": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_21": 0, "sum__pred/test_acc_30": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 78659, "sum__eval/precision": 0.3752, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_12": 1, "sum__train/train_runtime": 12710.3436, "sum__pred/test_editDistance_27": 0, "sum__pred/test_steps_per_second": 0.347, "sum__train/recall": 1, "sum__pred/test_loss": 0.5797824263572693, "sum__computed_num_process": 1, "sum__pred/test_samples_per_second": 11.074, "sum__pred/test_editDistance_overall": 0, "sum__eval/f1": 0.5457, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_editDistance_34": 0, "sum__train/seq_acc": 1, "sum__pred/test_recall": 0.7022, "sum__pred/valid_acc_4": 1, "sum__pred/test_precision": 0.1698, "sum__pred/valid_num_samples": 7057, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_2": 0, "sum__auto_computed_eval_batch_size": 32, "sum___timestamp": 1679330817, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_16": 0, "sum__train/train_samples_per_second": 201.411, "sum___step": 4146, "sum___wandb#runtime": 13899, "sum__train/global_step": 0, "sum__pred/test_editDistance_28": 0, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "dc84d3b4f60abb57e709770d44d8d3abd46ca4785a402a95c9341568f298ade2", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_dc84d3b4f60abb57e709.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7498, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__eval/recall": 1, "sum__pred/valid_f1": 0.5457, "sum__pred/test_acc_32": 0, "sum__num_train_samples": 100000, "sum__pred/valid_acc_18": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__pred/valid_editDistance_14": 0, "sum__train/loss": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_precision": 0.3752, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_overall": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_seq_acc": 0, "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_15": 1, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "4335c77fcc69034c0cb31d2ca81b6f321edcfdf311c57370920cb0e736dfca7f", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_4335c77fcc69034c0cb3.table.json", "sum__evaluated_acc/test/table#size": 6188278, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_20": 0, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "0687c0bf1ead243092b2ee38010afd1d095bc79b63f347e2eb56c37af1bdd8c2", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_0687c0bf1ead243092b2.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_7": 1, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_8d91c5e0321e4244f754.table.json", "sum__evaluated_acc/valid/table#size": 943848, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__evaluated_acc/valid/table#sha256": "8d91c5e0321e4244f754762fa9d30e696bb7ef40e1e97faa660722863879ef95", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_11": 1, "sum__pred/valid_editDistance_13": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_3": 1, "sum__num_trainable_params": 109607040, "sum__eval/steps_per_second": 3.1, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_samples_per_second": 97.328, "sum__pred/valid_editDistance_19": 0, "sum___runtime": 13899, "sum__eval/acc": 0.9217, "sum__eval/runtime": 71.301, "sum__pred/valid_loss": 3.778163591050543e-05, "sum__num_total_params": 150510720, "sum__pred/test_acc_33": 0, "sum__pred/valid_editDistance_18": 0, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__pred/test_acc_26": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__pred/test_f1": 0.2735, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_31": 0, "sum__train/gen_max_length": 256, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_recall": 1, "sum__pred/valid_editDistance_12": 0, "sum__train/epoch": 25.59, "sum__pred/test_editDistance_30": 0, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_34": 0, "sum__train/total_flos": 8.685289203941376e+16, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__pred/test_editDistance_24": 0, "sum__pred/valid_steps_per_second": 3.048, "sum__computed_per_device_train_batch_size": 64, "sum__eval/loss": 1.819071712816367e-06, "sum__train/acc": 0.2564, "sum__train/precision": 0.2564, "sum__pred/test_acc_24": 0, "sum__pred/valid_runtime": 72.5071, "sum__pred/test_acc_overall": 0, "sum__num_non_trainable_params": 40903680, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "fcf73269f5a9534bec362ae6528e866219b44d0d6a8918ede318e334806fe8f3", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_fcf73269f5a9534bec36.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_2_256788", "created_at": "2023-03-20T16:56:26", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___timestamp": 1679330863, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum___step": 8, "sum___wandb#runtime": 101, "sum___runtime": 37, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b__146317", "created_at": "2023-03-20T15:34:16", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_editDistance_11": 0, "sum__pred/test_f1": 0.6138, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_40": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-18000", "sum__pred/valid_acc_7": 1, "sum__pred/valid_runtime": 70.8004, "sum__pred/test_acc_overall": 0.9692, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc_34": 0.994, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_acc_5": 1, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 78659, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__pred/valid_acc_19": 1, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_18": 0, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "cd9e227992806113e65e6b740213335eff0086246958a3d1cee6405f2a898957", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_cd9e227992806113e65e.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7668, "sum__pred/test_samples_per_second": 50.178, "sum__computed_per_device_eval_batch_size": 32, "sum__eval/precision": 0.3752, "sum__pred/test_acc_25": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_35": 0, "sum___step": 4146, "sum__pred/test_runtime": 199.2886, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_samples_per_second": 99.675, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__train/recall": 1, "sum__pred/test_acc_38": 0.914, "sum__num_train_samples": 100000, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-18000", "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/train_samples_per_second": 209.289, "sum__eval/seq_acc": 1, "sum__pred/valid_precision": 0.3752, "sum__eval/samples_per_second": 98.928, "sum__pred/test_editDistance_30": 0, "sum__train/train_steps_per_second": 3.27, "sum__pred/test_recall": 0.999, "sum__train/total_flos": 8.685289203941376e+16, "sum__train/train_loss": 0.05218088735826022, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_24": 0.996, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_steps_per_second": 3.121, "sum__pred/test_acc_29": 1, "sum__pred/valid_acc_15": 1, "sum__pred/valid_editDistance_7": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_669cbbaf8571a6fa6e0e.table.json", "sum__evaluated_acc/test/plot_table#size": 344, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "669cbbaf8571a6fa6e0e2b39bb959e72d18512841804928b3a0979de9ab50e39", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__train/global_step": 0, "sum__pred/test_precision": 0.443, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_8d91c5e0321e4244f754.table.json", "sum__evaluated_acc/valid/table#size": 943848, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__evaluated_acc/valid/table#sha256": "8d91c5e0321e4244f754762fa9d30e696bb7ef40e1e97faa660722863879ef95", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__pred/test_acc_28": 1, "sum__auto_computed_batch_size_predict": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__pred/valid_acc_17": 1, "sum__train/train_runtime": 12231.8721, "sum__pred/valid_acc_overall": 1, "sum__pred/test_editDistance_38": 0, "sum__eval/loss": 4.047614368118957e-07, "sum__pred/test_acc_23": 0.996, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_6": 1, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_acc_11": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-18000", "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum___runtime": 12698, "sum__train/loss": 0, "sum__pred/valid_f1": 0.5457, "sum__pred/test_seq_acc": 0.9692, "sum__pred/test_acc_27": 0.998, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-18000", "sum__pred/valid_acc_13": 1, "sum__computed_per_device_train_batch_size": 64, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "fcf73269f5a9534bec362ae6528e866219b44d0d6a8918ede318e334806fe8f3", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_fcf73269f5a9534bec36.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__train/precision": 0.2564, "sum__pred/valid_num_samples": 7057, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_loss": 0.0024262715596705675, "sum__pred/test_acc_26": 0.996, "sum__pred/valid_acc_3": 1, "sum__pred/test_editDistance_24": 0, "sum__train/epoch": 25.59, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_36": 0.952, "sum__pred/test_acc_37": 0.922, "sum__pred/valid_seq_acc": 1, "sum__computed_num_process": 1, "sum__train/f1": 0.4081, "sum__train/acc": 0.2564, "sum__pred/test_acc": 0.8455, "sum__pred/valid_acc": 0.9217, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_15": 0, "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__pred/test_acc_31": 1, "sum__pred/valid_acc_18": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_33": 0, "sum__pred/test_acc_33": 0.994, "sum__pred/valid_acc_16": 1, "sum__pred/valid_recall": 1, "sum__pred/test_steps_per_second": 1.571, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_14": 1, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_22": 0, "sum__eval/acc": 0.9217, "sum__pred/test_acc_30": 1, "sum__pred/test_acc_32": 1, "sum__pred/test_acc_40": 0.804, "sum__train/gen_max_length": 256, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__pred/test_acc_21": 1, "sum__pred/test_acc_22": 1, "sum__pred/valid_acc_8": 1, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_editDistance_21": 0, "sum___timestamp": 1679324406, "sum__eval/recall": 1, "sum__pred/valid_acc_12": 1, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "4f468969a2a1febbfee45a62f356b50788ce2324cb2778610189595f8835b1d7", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_4f468969a2a1febbfee4.table.json", "sum__evaluated_acc/test/table#size": 3257845, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_14": 0, "sum___wandb#runtime": 12698, "sum__pred/valid_loss": 3.296465365565382e-06, "sum__pred/test_acc_35": 0.97, "sum__eval/steps_per_second": 3.098, "sum__pred/test_editDistance_36": 0, "sum__eval/f1": 0.5457, "sum__train/seq_acc": 1, "sum__num_total_params": 137927808, "sum__pred/test_acc_39": 0.848, "sum__eval/runtime": 71.335, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4ba7bc816ef56ef0b6bb.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "4ba7bc816ef56ef0b6bb5cb0a790661c1a6b7d838a19eb3ff0aab9d228befc58"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_234054", "created_at": "2023-03-20T15:34:01", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum___wandb#runtime": 513, "sum___timestamp": 1679325271, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum___runtime": 29, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_2_234054", "created_at": "2023-03-20T15:33:47", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum___wandb#runtime": 91, "sum___runtime": 29, "sum___timestamp": 1679324543, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b__234054", "created_at": "2023-03-20T15:33:16", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_35": 0.944, "sum__pred/valid_acc_2": 1, "sum__train/train_loss": 0.05131616073381374, "sum__pred/test_precision": 0.4421, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_f1": 0.6122, "sum__train/train_runtime": 12536.7633, "sum__pred/test_editDistance_28": 0, "sum__pred/test_steps_per_second": 1.539, "sum__auto_computed_batch_size_predict": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__pred/test_acc_39": 0.97, "sum__pred/valid_acc_3": 1, "sum__pred/valid_num_samples": 7057, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_14": 0, "sum__train/acc": 0.2663, "sum__pred/test_loss": 0.005589389242231846, "sum__pred/valid_acc_14": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_c30f0c0601fbf948b3c1.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7632, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "c30f0c0601fbf948b3c10a6e9d0306b22a1de156e11a464863dee116a297b2f7", "sum__pred/valid_acc_11": 1, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_8": 0, "sum__evaluated_acc/test/plot_table#size": 353, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "a6c0023b8cc087b892c2b346ec3399a13be0f53e9f1f8943bf754e90d3a1ddf1", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_a6c0023b8cc087b892c2.table.json", "sum__pred/valid_editDistance_18": 0, "sum___wandb#runtime": 13006, "sum___timestamp": 1679311699, "sum__pred/valid_acc_6": 1, "sum__train/global_step": 0, "sum__pred/valid_editDistance_15": 0, "sum__eval/f1": 0.5456, "sum__pred/valid_acc_5": 1, "sum__pred/valid_runtime": 72.433, "sum__pred/test_editDistance_39": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__pred/test_editDistance_overall": 0, "sum__train/f1": 0.4205, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_40": 0, "sum__train/seq_acc": 1, "sum__pred/test_acc_36": 0.964, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_acc_28": 0.832, "sum__pred/valid_acc_8": 1, "sum__eval/samples_per_second": 98.189, "sum__num_non_trainable_params": 28320768, "sum__pred/test_seq_acc": 0.9268, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "1c2f5cfef1b831aa0620adbef48ed878d6a6d0bae87d55a997c4feeb8dd402a2", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_1c2f5cfef1b831aa0620.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "deec1c9be8ed8a67e68875f162f99549f0abb8a4e101fd30c040ffecb0ebab1b", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_deec1c9be8ed8a67e688.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__eval/recall": 1, "sum__pred/test_acc_30": 0.87, "sum__pred/test_editDistance_34": 0, "sum__train/train_samples_per_second": 204.199, "sum__pred/test_acc_34": 0.918, "sum__pred/valid_acc_19": 1, "sum__pred/test_editDistance_21": 0, "sum___step": 4146, "sum__eval/runtime": 71.8719, "sum__pred/valid_acc": 0.9218, "sum__pred/test_acc_23": 0.98, "sum__pred/test_acc_31": 0.892, "sum__pred/valid_editDistance_3": 0, "sum__train/epoch": 25.59, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_20": 0, "sum__eval/loss": 3.426406181006314e-07, "sum__pred/test_acc_29": 0.872, "sum__pred/test_acc_overall": 0.9268, "sum__pred/test_editDistance_25": 0, "sum__eval/seq_acc": 1, "sum__pred/test_acc_37": 0.944, "sum__pred/test_acc_40": 0.99, "sum__pred/test_runtime": 203.3145, "sum__pred/valid_editDistance_16": 0, "sum__train/recall": 1, "sum__pred/valid_f1": 0.5456, "sum__pred/valid_editDistance_9": 0, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__pred/valid_acc_20": 1, "sum__pred/valid_precision": 0.3752, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_samples_per_second": 49.185, "sum__pred/valid_acc_16": 1, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_31": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__train/precision": 0.2663, "sum__pred/test_acc_21": 1, "sum__pred/test_acc_25": 0.902, "sum__pred/test_acc_38": 0.962, "sum__pred/valid_acc_9": 1, "sum__eval/precision": 0.3752, "sum__pred/valid_acc_4": 1, "sum__pred/valid_recall": 1, "sum__auto_computed_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__pred/test_recall": 0.9954, "sum__pred/valid_acc_7": 1, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 82124, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum___runtime": 13006, "sum__pred/test_acc_32": 0.926, "sum__computed_num_process": 1, "sum__train/gen_max_length": 256, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "2b4e75118bb7538b2747a638a873c15d3e31ef88339013351f430361eea5a75b", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_2b4e75118bb7538b2747.table.json", "sum__evaluated_acc/test/table#size": 3252551, "sum__evaluated_acc/test/table#_type": "table-file", "sum__num_total_params": 137927808, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__evaluated_acc/valid/table#sha256": "24934e9ea5c032f61b0a79856a4daeac90e5c11b9dae9596904a38009c9fcea0", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_24934e9ea5c032f61b0a.table.json", "sum__evaluated_acc/valid/table#size": 951690, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_27": 0.86, "sum__pred/test_acc_33": 0.922, "sum__pred/valid_seq_acc": 1, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_acc_15": 1, "sum__pred/valid_acc_17": 1, "sum__pred/valid_editDistance_5": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/train_steps_per_second": 3.191, "sum__num_train_samples": 100000, "sum__num_trainable_params": 109607040, "sum__eval/steps_per_second": 3.075, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_36": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_acc_24": 0.93, "sum__pred/test_acc_26": 0.864, "sum__train/total_flos": 8.685563237911757e+16, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_samples_per_second": 97.428, "sum__eval/acc": 0.9218, "sum__train/loss": 0, "sum__pred/test_editDistance_30": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__pred/test_acc": 0.8451, "sum__pred/valid_loss": 1.3388058505370282e-05, "sum__pred/test_acc_22": 0.994, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__pred/valid_steps_per_second": 3.051}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b__256788", "created_at": "2023-03-20T15:32:44", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/seq_acc": 1, "sum__pred/test_acc_34": 0.936, "sum__pred/valid_num_samples": 7057, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_37": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc": 0.8451, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_11": 1, "sum__pred/test_acc_overall": 0.9211, "sum__pred/test_editDistance_22": 0, "sum__train/train_samples_per_second": 200.684, "sum___wandb#runtime": 13247, "sum__eval/seq_acc": 1, "sum__pred/test_acc_28": 0.882, "sum__pred/test_recall": 0.995, "sum__pred/valid_editDistance_overall": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__eval/runtime": 74.7596, "sum__pred/test_loss": 0.007416483480483293, "sum__pred/test_acc_29": 0.898, "sum__eval/samples_per_second": 94.396, "sum__pred/valid_editDistance_6": 0, "sum__train/train_loss": 0.05175204003392864, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_10": 0, "sum___timestamp": 1679298685, "sum__pred/test_acc_24": 0.942, "sum__pred/valid_acc_overall": 1, "sum__pred/test_editDistance_40": 0, "sum__computed_per_device_train_batch_size": 64, "sum__eval/f1": 0.5455, "sum__pred/test_acc_26": 0.88, "sum__pred/test_acc_36": 0.91, "sum__pred/test_acc_37": 0.91, "sum__pred/test_editDistance_39": 0, "sum__eval/acc": 0.9219, "sum__pred/test_acc_21": 0.994, "sum__pred/test_seq_acc": 0.9211, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_16": 1, "sum__pred/valid_acc_20": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-16000", "sum__num_non_trainable_params": 28320768, "sum__pred/test_steps_per_second": 1.503, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_16": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__pred/test_acc_31": 0.884, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_7": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__train/epoch": 25.59, "sum__train/precision": 0.2299, "sum__pred/test_acc_38": 0.928, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_acc": 0.9219, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_13": 0, "sum__evaluated_acc/test/plot_table#sha256": "82db72b5c2a17d2e388e65cdfee7d33d54ddbe2a226679d1cf49b6cb0b06e04a", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_82db72b5c2a17d2e388e.table.json", "sum__evaluated_acc/test/plot_table#size": 356, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__train/loss": 0, "sum__pred/valid_acc_5": 1, "sum__pred/test_precision": 0.4419, "sum__pred/valid_editDistance_12": 0, "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__pred/test_acc_40": 0.942, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_c28693bafcaa4b7a387a.table.json", "sum__evaluated_acc/valid/table#size": 951526, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__evaluated_acc/valid/table#sha256": "c28693bafcaa4b7a387afa140e7f5d62dae6af9a321c5154c6969c0435cb2b89", "sum__pred/valid_acc_14": 1, "sum__pred/valid_seq_acc": 1, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_4": 0, "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_181f1f71d33a539578b5.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "181f1f71d33a539578b5669a7c0ba1340f8572e819eb716620dde91950e4eaae", "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_steps_per_second": 2.937, "sum__pred/test_acc_22": 0.976, "sum__train/global_step": 0, "sum__pred/valid_precision": 0.375, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_10": 1, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_21": 0, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "4610c57beb5ca1097a73037983c23428e8f6c4ee168936fbe0a8808afdf7cd70", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4610c57beb5ca1097a73.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__pred/test_acc_33": 0.918, "sum__pred/test_acc_35": 0.922, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_editDistance_20": 0, "sum__eval/loss": 4.005036089438363e-07, "sum__eval/recall": 1, "sum__pred/valid_loss": 1.3539803148887586e-05, "sum__pred/valid_acc_18": 1, "sum__pred/test_acc_27": 0.91, "sum__pred/valid_acc_8": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-16000", "sum__pred/test_editDistance_31": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-16000", "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_samples_per_second": 93.785, "sum__pred/test_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 75276, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum___runtime": 13247, "sum__pred/test_runtime": 208.2768, "sum__train/train_runtime": 12756.3634, "sum__train/recall": 1, "sum__num_total_params": 137927808, "sum__pred/valid_acc_15": 1, "sum__pred/valid_acc_19": 1, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_2": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__pred/valid_f1": 0.5455, "sum__pred/test_acc_30": 0.882, "sum__pred/valid_acc_6": 1, "sum__pred/valid_runtime": 75.2464, "sum__pred/valid_editDistance_11": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-16000", "sum__pred/test_samples_per_second": 48.013, "sum__auto_computed_batch_size_predict": 32, "sum__train/acc": 0.2299, "sum__eval/precision": 0.375, "sum__pred/valid_acc_2": 1, "sum__train/total_flos": 8.685915567302246e+16, "sum__pred/valid_acc_12": 1, "sum__train/learning_rate": 1e-07, "sum__eval/steps_per_second": 2.956, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_14": 0, "sum___step": 4146, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_35": 0, "sum__train/f1": 0.3739, "sum__pred/test_acc_32": 0.92, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_f1": 0.612, "sum__pred/test_acc_23": 0.958, "sum__pred/test_acc_39": 0.914, "sum__auto_computed_grad_acc_steps": 1, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_c70271832edb05d5c171.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7661, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "c70271832edb05d5c1714718af16dcb71f22a6f8203d044101f81a1f26901568", "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/train_steps_per_second": 3.136, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__pred/test_acc_25": 0.916, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "756958e45e0548aabff12a0f0108b94b7d5bcfbebd1d43381f733b8547348300", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_756958e45e0548aabff1.table.json", "sum__evaluated_acc/test/table#size": 3252994, "sum__evaluated_acc/test/table#_type": "table-file", "sum__pred/test_editDistance_28": 0, "sum__auto_computed_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_2_256788", "created_at": "2023-03-20T15:32:30", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 30, "sum___timestamp": 1679324444, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___wandb#runtime": 92, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-16000"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_146317", "created_at": "2023-03-20T15:32:16", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum___step": 8, "sum___wandb#runtime": 522, "sum___runtime": 31, "sum___timestamp": 1679325792, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-18000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_2_146317", "created_at": "2023-03-20T15:32:02", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-18000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum___runtime": 30, "sum___timestamp": 1679324641, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum___wandb#runtime": 92, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum___step": 8, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_256788", "created_at": "2023-03-20T15:31:49", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679324741, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-16000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___runtime": 29, "sum___wandb#runtime": 523, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_agg_146317", "created_at": "2023-03-20T15:27:44", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum___wandb#runtime": 503, "sum___timestamp": 1679325369, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___runtime": 31, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55__234054", "created_at": "2023-03-20T15:27:13", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_editDistance_40": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__pred/test_acc_25": 0.736, "sum__pred/test_acc_32": 0.07, "sum__pred/valid_acc_19": 0.82, "sum__pred/test_editDistance_34": 0, "sum__pred/test_acc_28": 0.594, "sum__train/global_step": 0, "sum__pred/valid_editDistance_5": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_8": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_11": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_loss": 3.0255401725298725e-05, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_30": 0, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "3d97f4678f44b679231dfedc55cf8270b7dd4037c18897c376fca4d4f143f760", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_3d97f4678f44b679231d.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8517, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__pred/test_acc_overall": 0.344, "sum__pred/test_editDistance_31": 0, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "39427f6c458d0559d37195ad479b6021e019e1754a35f32abc8395fd477edb89", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_39427f6c458d0559d371.table.json", "sum__evaluated_acc/test/plot_table#size": 345, "sum__pred/test_loss": 0.7538529634475708, "sum__pred/valid_acc_3": 0.9769, "sum__train/total_flos": 8.163835181398426e+16, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_acc_29": 0.492, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/test_runtime": 978.6634, "sum__pred/valid_precision": 0.4138, "sum__pred/test_recall": 0.8185, "sum__pred/valid_acc_2": 0.9831, "sum__pred/valid_acc_13": 0.8811, "sum__train/epoch": 25.59, "sum__pred/test_acc_21": 0.822, "sum__pred/valid_acc_17": 0.84, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__eval/loss": 3.0255401725298725e-05, "sum__pred/valid_seq_acc": 0.9997, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_acc_16": 0.8542, "sum__pred/test_precision": 0.2673, "sum__pred/valid_acc_overall": 0.897, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__train/loss": 0.0001, "sum__train/seq_acc": 1, "sum__pred/valid_acc_4": 0.9602, "sum__pred/valid_acc_12": 0.8939, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__num_total_params": 137927808, "sum__pred/valid_acc_8": 0.9378, "sum__pred/valid_acc_10": 0.895, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_f1": 0.5854, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_steps_per_second": 2.916, "sum___step": 4146, "sum__pred/test_acc_22": 0.764, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_9": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__eval/acc": 0.9335, "sum__eval/seq_acc": 0.9997, "sum__pred/valid_acc_11": 0.9122, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc": 0.7137, "sum__pred/test_acc_31": 0.152, "sum__eval/steps_per_second": 2.939, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_samples_per_second": 92.978, "sum__eval/precision": 0.4138, "sum__pred/valid_acc_6": 0.9404, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_29": 0, "sum__train/acc": 0.2731, "sum__num_train_samples": 100000, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_samples_per_second": 10.218, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_23": 0.814, "sum__pred/test_acc_27": 0.648, "sum__pred/test_acc_33": 0.01, "sum__pred/test_editDistance_38": 0, "sum__eval/recall": 0.9998, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_14": 0.8611, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_35": 0, "sum__eval/f1": 0.5854, "sum___timestamp": 1679309944, "sum__train/precision": 0.2731, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_7": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_7ab1f956a8e6d366fc30.table.json", "sum__evaluated_acc/valid/plot_table#size": 351, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "7ab1f956a8e6d366fc30482cfeaa776ac0da00486fe72a6a46f2e5dc9bc543ef", "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__pred/test_acc_30": 0.302, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_20": 0.8054, "sum__evaluated_acc/test/table#sha256": "6167f61322e51bf42c5e61c525208806c7c89229fd38397b560be83828e05d22", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_6167f61322e51bf42c5e.table.json", "sum__evaluated_acc/test/table#size": 4523656, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_acc_24": 0.748, "sum__pred/test_acc_38": 0, "sum__train/train_runtime": 12619.1516, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_seq_acc": 0.4444, "sum__pred/valid_acc_18": 0.8571, "sum__eval/samples_per_second": 93.729, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_runtime": 80.5996, "sum__computed_num_process": 1, "sum__auto_computed_batch_size_predict": 32, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum___runtime": 13976, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_15": 0, "sum__train/train_steps_per_second": 3.17, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "4dfed3e23163fbb8b5ec9b1f9a9d46f03b958d032afe4f9c325f91224a0e2a42", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_4dfed3e23163fbb8b5ec.table.json", "sum__evaluated_acc/valid/table#size": 1018198, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_acc": 0.9335, "sum__pred/test_acc_26": 0.72, "sum__pred/test_acc_39": 0, "sum__train/train_loss": 0.24868820457676483, "sum__pred/test_steps_per_second": 0.32, "sum__pred/valid_editDistance_10": 0, "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum___wandb#runtime": 13976, "sum__pred/test_acc_34": 0.008, "sum__pred/valid_acc_15": 0.8375, "sum__train/learning_rate": 1e-07, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 66555, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__train/train_samples_per_second": 202.866, "sum__eval/runtime": 79.954, "sum__train/gen_max_length": 256, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_14": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_overall": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__pred/test_f1": 0.403, "sum__train/recall": 1, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_7": 0.9381, "sum__pred/valid_recall": 0.9998, "sum__pred/valid_editDistance_4": 0, "sum__train/f1": 0.429, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_5": 0.9619, "sum__pred/valid_acc_9": 0.8908}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55__146317", "created_at": "2023-03-20T15:26:40", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum___runtime": 14030, "sum__pred/valid_acc_13": 0.8897, "sum__pred/valid_acc_14": 0.8507, "sum__pred/valid_acc_18": 0.8354, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_f1": 0.585, "sum__pred/test_acc_24": 0.752, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc_9": 0.8987, "sum__pred/test_editDistance_39": 0, "sum__pred/test_steps_per_second": 0.318, "sum__pred/valid_editDistance_20": 0, "sum__train/epoch": 25.59, "sum__pred/test_acc_26": 0.72, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_acc_23": 0.816, "sum__pred/test_acc_28": 0.532, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_acc_20": 0.8392, "sum__train/gen_max_length": 256, "sum__eval/samples_per_second": 92.888, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_samples_per_second": 92.944, "sum__pred/test_editDistance_overall": 0, "sum___timestamp": 1679323982, "sum__pred/test_acc_31": 0.052, "sum__train/global_step": 0, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_18": 0, "sum___wandb#runtime": 14030, "sum__pred/test_acc_overall": 0.3192, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_acc_29": 0.398, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_8": 0.9353, "sum__pred/test_editDistance_23": 0, "sum__evaluated_acc/test/plot_table#size": 342, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "9bb3df43e36fae5fbebdfb90b6c8677acd22bbc6d138bd656aa25040fa14e37a", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_9bb3df43e36fae5fbebd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__pred/test_f1": 0.3671, "sum__num_total_params": 137927808, "sum__num_train_samples": 100000, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_overall": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__eval/f1": 0.585, "sum__pred/test_loss": 0.9457554817199708, "sum__pred/valid_acc_2": 0.9836, "sum__pred/valid_acc_5": 0.9632, "sum__pred/test_editDistance_35": 0, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "2f431f31bcd1a149d07b99c876737254f1697a1917f72e437b1d8106153d2cae", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_2f431f31bcd1a149d07b.table.json", "sum__evaluated_acc/test/table#size": 5052805, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_86e1af962a21ae56dc45.table.json", "sum__evaluated_acc/valid/plot_table#size": 356, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "86e1af962a21ae56dc456f8b72b6490274f8f3df5ef4c719bb764ca0ed58b93d", "sum__pred/valid_acc_11": 0.9289, "sum__pred/test_precision": 0.2374, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__pred/test_editDistance_32": 0, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 68308, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__train/f1": 0.4311, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_3": 0.9847, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__eval/recall": 1, "sum__pred/test_acc_37": 0, "sum__auto_computed_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_editDistance_4": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__eval/precision": 0.4135, "sum__train/precision": 0.2748, "sum__pred/valid_runtime": 80.6296, "sum__computed_num_process": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/test_acc_25": 0.728, "sum__pred/test_acc_32": 0.006, "sum__pred/test_recall": 0.8096, "sum__train/total_flos": 8.164318003155763e+16, "sum__train/train_steps_per_second": 3.167, "sum__eval/loss": 3.8130729080876336e-05, "sum__pred/valid_acc_19": 0.8127, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_12": 0, "sum__train/seq_acc": 1, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_acc_38": 0, "sum__pred/test_runtime": 984.1651, "sum__evaluated_acc/valid/table#sha256": "cb93ab4acc54381d6fd439a553ed53c946e5c990962ce0b260080b514936e349", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_cb93ab4acc54381d6fd4.table.json", "sum__evaluated_acc/valid/table#size": 1011956, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__pred/valid_editDistance_6": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__eval/seq_acc": 0.9999, "sum__train/recall": 1, "sum__pred/test_acc": 0.6702, "sum__pred/test_acc_27": 0.622, "sum__pred/valid_acc_overall": 0.8998, "sum__pred/valid_editDistance_15": 0, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__eval/runtime": 80.6776, "sum__pred/test_acc_22": 0.77, "sum__pred/valid_num_samples": 7494, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_seq_acc": 0.9999, "sum__pred/valid_editDistance_9": 0, "sum___step": 4146, "sum__eval/acc": 0.9338, "sum__pred/valid_acc_7": 0.9563, "sum__pred/valid_acc_17": 0.8283, "sum__pred/valid_recall": 1, "sum__pred/valid_acc_10": 0.8953, "sum__pred/test_editDistance_21": 0, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_16": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_4": 0.9645, "sum__eval/steps_per_second": 2.913, "sum__train/train_samples_per_second": 202.684, "sum__pred/valid_acc": 0.9338, "sum__pred/test_acc_35": 0, "sum__pred/valid_precision": 0.4135, "sum__evaluated_acc/valid/during_training_table#size": 8526, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "742a1732963eead323a4bae9e6ab31dfb07004bd00cbdc05c268c360aa21083c", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_742a1732963eead323a4.table.json", "sum__pred/valid_loss": 3.028513310709968e-05, "sum__train/train_loss": 0.25334938436058874, "sum__pred/test_seq_acc": 0.412, "sum__pred/test_editDistance_26": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_steps_per_second": 2.915, "sum__pred/test_samples_per_second": 10.161, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__train/loss": 0.0007, "sum__pred/test_acc_30": 0.168, "sum__pred/valid_acc_6": 0.9463, "sum__pred/valid_acc_16": 0.837, "sum__train/train_runtime": 12630.5124, "sum__pred/test_editDistance_36": 0, "sum__train/acc": 0.2748, "sum__pred/test_acc_21": 0.82, "sum__pred/valid_acc_12": 0.8998, "sum__pred/valid_acc_15": 0.8346, "sum__num_non_trainable_params": 28320768}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_2_256788", "created_at": "2023-03-20T15:26:24", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___wandb#runtime": 101, "sum___timestamp": 1679324021, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___runtime": 31, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_agg_234054", "created_at": "2023-03-20T15:26:10", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum___wandb#runtime": 501, "sum___runtime": 31, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___timestamp": 1679324859, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_2_146317", "created_at": "2023-03-20T15:25:52", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum___timestamp": 1679324239, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 101, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_agg_256788", "created_at": "2023-03-20T15:25:38", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___timestamp": 1679324347, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___runtime": 31, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___step": 8, "sum___wandb#runtime": 504, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_2_234054", "created_at": "2023-03-20T15:25:24", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum___wandb#runtime": 100, "sum___runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum___timestamp": 1679324130, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55__256788", "created_at": "2023-03-20T15:24:49", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum___runtime": 13595, "sum__num_train_samples": 100000, "sum__pred/valid_num_samples": 7494, "sum__evaluated_acc/valid/table#size": 1012158, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "651d9891174dccef65eb28c91be12dab37e3141ba8de0ce17d3acb0c0ebb4e0b", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_651d9891174dccef65eb.table.json", "sum__train/train_samples_per_second": 210.929, "sum__eval/loss": 0.00011032795009668916, "sum__pred/test_acc_25": 0.738, "sum__pred/test_acc_30": 0.218, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__pred/test_acc_27": 0.64, "sum__pred/test_acc_28": 0.578, "sum__pred/test_acc_29": 0.442, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_2": 0.9814, "sum__pred/valid_precision": 0.4136, "sum__pred/valid_editDistance_2": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__pred/test_runtime": 969.0317, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_acc_3": 0.9797, "sum__train/train_loss": 0.24716832466904015, "sum__pred/valid_acc_19": 0.8267, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_4": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__eval/precision": 0.4136, "sum__pred/test_acc_35": 0, "sum__pred/valid_editDistance_11": 0, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum___wandb#runtime": 13595, "sum__train/recall": 1, "sum__train/seq_acc": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_acc": 0.9337, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_7e4486dfb8f25e83dda2.table.json", "sum__evaluated_acc/valid/plot_table#size": 354, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "7e4486dfb8f25e83dda295023e441b09a97369a1ed41edb1e3963128cd0fa6d1", "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_22": 0.774, "sum__pred/valid_acc_15": 0.8697, "sum__pred/valid_acc_17": 0.8485, "sum__auto_computed_batch_size_predict": 32, "sum__num_total_params": 137927808, "sum__pred/valid_acc_6": 0.953, "sum__pred/valid_acc_overall": 0.8987, "sum__pred/valid_loss": 7.258083496708423e-05, "sum__pred/valid_acc_9": 0.8724, "sum__train/total_flos": 8.163935225546342e+16, "sum__pred/valid_acc_14": 0.87, "sum__pred/valid_acc_16": 0.8564, "sum__pred/valid_samples_per_second": 93.595, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__train/train_steps_per_second": 3.296, "sum__pred/valid_acc_10": 0.8968, "sum__train/global_step": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_acc_13": 0.8836, "sum__pred/valid_acc_18": 0.8225, "sum__pred/test_precision": 0.2098, "sum__eval/steps_per_second": 2.976, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_editDistance_28": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__train/learning_rate": 1e-07, "sum__train/precision": 0.2632, "sum__pred/test_acc_32": 0.03, "sum__train/train_runtime": 12136.782, "sum__eval/samples_per_second": 94.903, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_6": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_9436270dc3a2f4935b78.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8469, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "9436270dc3a2f4935b785d973a104115f1d7315ba985b2593a0621ca78f5b55e", "sum__train/epoch": 25.59, "sum__pred/test_acc_33": 0.006, "sum__auto_computed_batch_size": 64, "sum__pred/test_f1": 0.3337, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_11": 0.9024, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__pred/valid_runtime": 80.0683, "sum__computed_num_process": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_f1": 0.5851, "sum__pred/valid_acc_4": 0.9577, "sum__pred/valid_acc_5": 0.9582, "sum__pred/test_seq_acc": 0.4248, "sum__pred/valid_acc_12": 0.8974, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_samples_per_second": 10.32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_36": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ba237ad7caa824d989da.table.json", "sum__evaluated_acc/test/plot_table#size": 344, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ba237ad7caa824d989da003231e9af814fa5ce447e526fe38be6dfa2574e25f2", "sum___step": 4146, "sum__pred/test_acc": 0.616, "sum__pred/test_acc_36": 0, "sum__pred/test_recall": 0.8153, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_16": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__eval/f1": 0.5851, "sum__train/f1": 0.4168, "sum__train/loss": 0.0002, "sum__pred/valid_acc_8": 0.9274, "sum__pred/test_acc_overall": 0.3299, "sum__pred/test_acc_26": 0.698, "sum__pred/test_acc_37": 0, "sum__pred/valid_recall": 0.9999, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__eval/acc": 0.9337, "sum__pred/test_loss": 0.854116678237915, "sum__pred/valid_acc_20": 0.8157, "sum__pred/test_steps_per_second": 0.323, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_23": 0.816, "sum__pred/test_acc_24": 0.752, "sum__pred/test_acc_31": 0.08, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_13": 0, "sum__auto_computed_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__eval/recall": 0.9999, "sum__eval/seq_acc": 0.9997, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__train/acc": 0.2632, "sum___timestamp": 1679295959, "sum__pred/test_acc_40": 0, "sum__pred/valid_seq_acc": 0.9997, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "41290f3bc23cd64f9262409bb0e18b7e97a490ae8d87c79e4dd5a6e32ed546a3", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_41290f3bc23cd64f9262.table.json", "sum__evaluated_acc/test/table#size": 6010195, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/valid_editDistance_18": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 69495, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__pred/test_acc_21": 0.826, "sum__pred/valid_acc_7": 0.9508, "sum__train/gen_max_length": 256, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_steps_per_second": 2.935, "sum__eval/runtime": 78.9651, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_40": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_234054", "created_at": "2023-03-20T15:04:09", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 92, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-18000", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum___timestamp": 1679324005, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___runtime": 31, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_256788", "created_at": "2023-03-20T15:03:46", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___step": 8, "sum___runtime": 31, "sum___timestamp": 1679323905, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum___wandb#runtime": 93, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf__234054", "created_at": "2023-03-20T15:03:04", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_40": 0.884, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_8": 1, "sum__eval/steps_per_second": 3.353, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-18000", "sum__eval/loss": 3.251661837566644e-07, "sum__pred/valid_acc_11": 1, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_16": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc_38": 0.916, "sum__eval/acc": 0.9218, "sum__train/epoch": 25.59, "sum__pred/valid_acc_5": 1, "sum__num_total_params": 137927808, "sum__pred/test_acc_27": 0.954, "sum__pred/valid_acc_6": 1, "sum__pred/test_precision": 0.4425, "sum__pred/test_runtime": 182.2831, "sum__pred/valid_acc_16": 1, "sum__train/train_steps_per_second": 3.3, "sum__train/train_samples_per_second": 211.228, "sum__auto_computed_batch_size_predict": 32, "sum__train/acc": 0.2663, "sum__train/seq_acc": 1, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_3": 0, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__evaluated_acc/valid/during_training_table#sha256": "88a639513878d89ff5451df33dde6304015609d7523142e1f1329c2bba57c94f", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_88a639513878d89ff545.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7671, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__pred/test_editDistance_21": 0, "sum__pred/test_f1": 0.6129, "sum__pred/valid_f1": 0.5456, "sum__pred/test_acc_21": 1, "sum__pred/test_acc_31": 0.93, "sum__train/global_step": 0, "sum__pred/test_acc_overall": 0.9474, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-18000", "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/f1": 0.4205, "sum__train/recall": 1, "sum__pred/test_acc_28": 0.978, "sum__train/train_loss": 0.05127069885678211, "sum__pred/valid_recall": 1, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_samples_per_second": 105.782, "sum__eval/precision": 0.3752, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_13": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_deec1c9be8ed8a67e688.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "deec1c9be8ed8a67e68875f162f99549f0abb8a4e101fd30c040ffecb0ebab1b", "sum__eval/recall": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/test_steps_per_second": 1.717, "sum__pred/valid_editDistance_14": 0, "sum___runtime": 12563, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_7": 0, "sum__computed_per_device_train_batch_size": 64, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum___timestamp": 1679311195, "sum__pred/test_acc_39": 0.898, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_28": 0, "sum__pred/test_acc": 0.8453, "sum__pred/test_loss": 0.004607473965734243, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/test_acc_24": 0.986, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "e73b7443853f4226369e904d790a0c8cb02021068ebb82cd86fbb327ceef11e7", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_e73b7443853f4226369e.table.json", "sum__evaluated_acc/test/table#size": 3254998, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_20": 0, "sum__train/loss": 0, "sum__pred/valid_acc_12": 1, "sum__pred/valid_acc_17": 1, "sum__pred/valid_num_samples": 7057, "sum__pred/test_editDistance_29": 0, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 82124, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__pred/valid_precision": 0.3752, "sum__eval/samples_per_second": 107.066, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_acc_23": 0.994, "sum__pred/test_acc_32": 0.93, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_36": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_acc_13": 1, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_31": 0, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__eval/runtime": 65.9124, "sum__pred/valid_acc": 0.9218, "sum__pred/valid_runtime": 66.7124, "sum__evaluated_acc/valid/table#size": 951690, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__evaluated_acc/valid/table#sha256": "24934e9ea5c032f61b0a79856a4daeac90e5c11b9dae9596904a38009c9fcea0", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_24934e9ea5c032f61b0a.table.json", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_0a8aa9ad9202f5e56436.table.json", "sum__evaluated_acc/test/plot_table#size": 355, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "0a8aa9ad9202f5e5643628a5230caa1f370474293b5a7890aed9e85e1bac18a3", "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_acc_34": 0.938, "sum__pred/test_seq_acc": 0.9474, "sum__pred/test_recall": 0.9967, "sum__pred/valid_acc_18": 1, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "1c2f5cfef1b831aa0620adbef48ed878d6a6d0bae87d55a997c4feeb8dd402a2", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_1c2f5cfef1b831aa0620.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum___step": 4146, "sum__pred/valid_loss": 5.126141786604421e-06, "sum__train/precision": 0.2663, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_24": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-18000", "sum__eval/f1": 0.5456, "sum__train/total_flos": 8.685563237911757e+16, "sum__train/train_runtime": 12119.5818, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__pred/test_acc_29": 0.96, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_4": 0, "sum__eval/seq_acc": 1, "sum__pred/test_acc_26": 0.988, "sum__train/gen_max_length": 256, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_25": 0.982, "sum__pred/test_acc_30": 0.952, "sum__pred/test_acc_35": 0.928, "sum__pred/test_acc_36": 0.91, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_samples_per_second": 54.86, "sum__pred/valid_steps_per_second": 3.313, "sum__pred/test_acc_22": 0.994, "sum__pred/test_acc_33": 0.942, "sum__pred/valid_acc_15": 1, "sum__computed_num_process": 1, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_9": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum___wandb#runtime": 12563, "sum__pred/test_acc_37": 0.884, "sum__train/learning_rate": 1e-07, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-18000", "sum__pred/test_editDistance_overall": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf__146317", "created_at": "2023-03-20T15:02:21", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_overall": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum___runtime": 12661, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_27": 0, "sum__pred/test_samples_per_second": 50.784, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "4ba7bc816ef56ef0b6bb5cb0a790661c1a6b7d838a19eb3ff0aab9d228befc58", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4ba7bc816ef56ef0b6bb.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_34": 0, "sum___step": 4146, "sum__train/f1": 0.4081, "sum__train/loss": 0, "sum__pred/test_acc_22": 1, "sum__pred/valid_runtime": 70.4848, "sum__eval/steps_per_second": 3.121, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_7": 1, "sum__pred/valid_seq_acc": 1, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_steps_per_second": 1.59, "sum__pred/valid_editDistance_13": 0, "sum__eval/loss": 3.920187623407401e-07, "sum__pred/test_acc_29": 1, "sum__pred/test_seq_acc": 0.9895, "sum__pred/valid_acc_14": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_32": 0, "sum__train/train_steps_per_second": 3.281, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__eval/recall": 1, "sum__pred/test_acc_26": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__pred/test_acc_25": 1, "sum__pred/valid_acc_3": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-16000", "sum__pred/test_acc_21": 1, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_19": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_36": 0, "sum__pred/test_acc_31": 0.996, "sum__pred/valid_acc_17": 1, "sum__pred/valid_precision": 0.3752, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 78659, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_19": 0, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "58b2f2b7ce9e9e8ea86a38fb5927802b7815e706e76eac98f3980dc7b194ac60", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_58b2f2b7ce9e9e8ea86a.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7650, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__pred/test_recall": 0.9994, "sum__train/train_runtime": 12192.2665, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__pred/test_runtime": 196.9124, "sum__pred/valid_acc_18": 1, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/test/table#sha256": "e473723e63c60b07e7aa38f9168a50225ee6fde08f75d2c5e6c2f5a9624cb496", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_e473723e63c60b07e7aa.table.json", "sum__evaluated_acc/test/table#size": 3255761, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_40": 0, "sum__num_total_params": 137927808, "sum__train/train_loss": 0.05204389231036111, "sum__pred/valid_num_samples": 7057, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_248099210620a5fe0891.table.json", "sum__evaluated_acc/test/plot_table#size": 343, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "248099210620a5fe0891859fc1def311b68dca047105e0f40857ad287eca8d08", "sum__train/seq_acc": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-16000", "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/test_acc_28": 0.998, "sum__pred/test_acc_32": 0.99, "sum__pred/valid_acc_13": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_24": 1, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_6": 1, "sum__pred/test_acc_overall": 0.9895, "sum__pred/valid_editDistance_11": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_35": 0.982, "sum__pred/test_acc_39": 0.96, "sum__pred/valid_f1": 0.5457, "sum__pred/test_acc_40": 0.942, "sum__pred/test_editDistance_33": 0, "sum__train/precision": 0.2564, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-16000", "sum__pred/test_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__pred/test_acc_38": 0.972, "sum__pred/valid_acc_20": 1, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_35": 0, "sum__eval/acc": 0.9217, "sum__pred/valid_acc": 0.9217, "sum__pred/valid_loss": 6.4274845499312505e-06, "sum__pred/valid_acc_12": 1, "sum___wandb#runtime": 12661, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_7": 0, "sum__auto_computed_eval_batch_size": 32, "sum__train/train_samples_per_second": 209.969, "sum__pred/test_f1": 0.6143, "sum__pred/test_acc_30": 0.998, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_8": 1, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__eval/f1": 0.5457, "sum__pred/test_acc_33": 0.992, "sum__pred/test_acc_36": 0.988, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_16": 0, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "fcf73269f5a9534bec362ae6528e866219b44d0d6a8918ede318e334806fe8f3", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_fcf73269f5a9534bec36.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum___timestamp": 1679323865, "sum__pred/test_acc_34": 0.986, "sum__train/learning_rate": 1e-07, "sum__pred/valid_acc_overall": 1, "sum__pred/test_editDistance_38": 0, "sum__train/acc": 0.2564, "sum__pred/test_loss": 0.0010487422114238143, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_8d91c5e0321e4244f754.table.json", "sum__evaluated_acc/valid/table#size": 943848, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__evaluated_acc/valid/table#sha256": "8d91c5e0321e4244f754762fa9d30e696bb7ef40e1e97faa660722863879ef95", "sum__pred/test_editDistance_26": 0, "sum__pred/valid_steps_per_second": 3.135, "sum__computed_per_device_eval_batch_size": 32, "sum__train/total_flos": 8.685289203941376e+16, "sum__num_train_samples": 100000, "sum__train/global_step": 0, "sum__pred/test_editDistance_21": 0, "sum__auto_computed_batch_size_predict": 32, "sum__train/recall": 1, "sum__pred/test_acc_27": 1, "sum__computed_num_process": 1, "sum__eval/samples_per_second": 99.669, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_6": 0, "sum__eval/runtime": 70.8045, "sum__eval/seq_acc": 1, "sum__pred/test_acc": 0.8456, "sum__eval/precision": 0.3752, "sum__pred/valid_acc_16": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_samples_per_second": 100.121, "sum__pred/valid_acc_10": 1, "sum__pred/test_precision": 0.4434, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-16000", "sum__pred/test_editDistance_23": 0, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__train/epoch": 25.59, "sum__pred/test_acc_37": 0.986, "sum__pred/valid_acc_11": 1, "sum__pred/test_editDistance_39": 0, "sum__pred/test_acc_23": 1}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_256788", "created_at": "2023-03-20T15:02:03", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum___wandb#runtime": 57, "sum___runtime": 32, "sum___timestamp": 1679324209, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_146317", "created_at": "2023-03-20T15:01:47", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-16000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum___timestamp": 1679324345, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum___step": 8, "sum___wandb#runtime": 61, "sum___runtime": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf__256788", "created_at": "2023-03-20T15:00:57", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_29": 0.988, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_19": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__train/seq_acc": 1, "sum__pred/test_acc_24": 0.996, "sum__pred/test_acc_39": 0.934, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_11": 0, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "4610c57beb5ca1097a73037983c23428e8f6c4ee168936fbe0a8808afdf7cd70", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4610c57beb5ca1097a73.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 31.99466, "sum__pred/test_acc_26": 0.99, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_overall": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__eval/f1": 0.5455, "sum__pred/test_editDistance_21": 0, "sum__pred/test_loss": 0.003049631603062153, "sum__train/total_flos": 8.685915567302246e+16, "sum__pred/valid_recall": 1, "sum__train/global_step": 0, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_20": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__train/loss": 0, "sum__pred/valid_acc_15": 1, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/valid/table#nrows": 7057, "sum__evaluated_acc/valid/table#sha256": "c28693bafcaa4b7a387afa140e7f5d62dae6af9a321c5154c6969c0435cb2b89", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_c28693bafcaa4b7a387a.table.json", "sum__evaluated_acc/valid/table#size": 951526, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_steps_per_second": 1.649, "sum__train/train_samples_per_second": 207.4, "sum__train/precision": 0.2299, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/test_acc_22": 1, "sum__pred/test_acc_38": 0.924, "sum__pred/valid_acc_3": 1, "sum__computed_num_process": 1, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_10": 0, "sum__eval/runtime": 69.0841, "sum__pred/test_f1": 0.6135, "sum__pred/test_acc_23": 1, "sum__pred/test_acc_31": 0.974, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_18": 1, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_steps_per_second": 3.199, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__eval/acc": 0.9219, "sum___timestamp": 1679298624, "sum__pred/valid_acc_9": 1, "sum__eval/steps_per_second": 3.199, "sum__pred/test_editDistance_22": 0, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 12806, "sum__eval/loss": 3.873116725117143e-07, "sum__pred/test_acc_33": 0.956, "sum__pred/valid_acc_5": 1, "sum__pred/test_acc_28": 0.972, "sum__pred/valid_num_samples": 7057, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "e3f65182cb8f91a94dba70e810dd9a7da2d48c82dbde7e7ab183e85a2c467586", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_e3f65182cb8f91a94dba.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 176773, "sum___runtime": 12806, "sum__pred/valid_acc": 0.9219, "sum__pred/test_acc_32": 0.964, "sum__pred/test_acc_35": 0.94, "sum__pred/test_acc_36": 0.934, "sum__pred/test_acc_37": 0.918, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_18": 0, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_181f1f71d33a539578b5.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "181f1f71d33a539578b5669a7c0ba1340f8572e819eb716620dde91950e4eaae", "sum__pred/test_acc_25": 0.998, "sum__train/train_loss": 0.052078088253836904, "sum__pred/valid_acc_20": 1, "sum__pred/valid_precision": 0.375, "sum__train/train_steps_per_second": 3.241, "sum__evaluated_acc/valid/during_training_table#sha256": "134a104cb087032dcfa8129170b43a235b073c62b92ca424d4da62c4c6a944a7", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_134a104cb087032dcfa8.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7663, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__train/learning_rate": 1e-07, "sum__num_trainable_params": 109607040, "sum__pred/test_num_samples": 10000, "sum__eval/samples_per_second": 102.151, "sum__auto_computed_batch_size_predict": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4af8fc8687d9333f1c2c5c3edae3320412122c73eb260460c3bed23192e58a6d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_4af8fc8687d9333f1c2c.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98895, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__num_total_params": 137927808, "sum__pred/valid_acc_7": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_14": 0, "sum___step": 4146, "sum__pred/test_acc_34": 0.932, "sum__pred/valid_acc_8": 1, "sum__evaluated_acc/test/table#size": 3254340, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "596b24ce04bea0b4c11c8388245622f7213dc83f8b7069207011cd0d3ecf90b5", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_596b24ce04bea0b4c11c.table.json", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__pred/test_samples_per_second": 52.677, "sum__eval/recall": 1, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_8": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_fef3e51767d129a3c0de.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "fef3e51767d129a3c0deba9129f5f6dbb9407837739bc704fe19112f297dcf52", "sum__train/f1": 0.3739, "sum__train/acc": 0.2299, "sum__pred/test_acc_27": 0.988, "sum__computed_per_device_train_batch_size": 64, "sum__eval/precision": 0.375, "sum__pred/valid_acc_2": 1, "sum__pred/test_seq_acc": 0.9647, "sum__pred/valid_seq_acc": 1, "sum__train/epoch": 25.59, "sum__pred/test_acc_overall": 0.9647, "sum__pred/test_editDistance_30": 0, "sum__pred/test_acc_30": 0.962, "sum__pred/test_acc": 0.8454, "sum__pred/valid_loss": 2.984997308885795e-06, "sum__pred/test_editDistance_28": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.951172151162632, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 31.99466, "sum__pred/valid_f1": 0.5455, "sum__pred/test_acc_40": 0.924, "sum__num_train_samples": 100000, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_19": 1, "sum__train/gen_max_length": 256, "sum__pred/test_acc_21": 1, "sum__pred/valid_acc_14": 1, "sum__pred/valid_editDistance_3": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__pred/test_recall": 0.9978, "sum__pred/valid_acc_16": 1, "sum__pred/test_precision": 0.4429, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__pred/valid_samples_per_second": 102.164, "sum__train/recall": 1, "sum__train/train_runtime": 12343.3063, "sum__ds_examples/ExperimentStage.PREDICTION#size": 75276, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_bbb2f14b4aed0d202fa0.table.json", "sum__pred/valid_acc_11": 1, "sum__pred/valid_editDistance_17": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__eval/seq_acc": 1, "sum__pred/test_runtime": 189.8345, "sum__pred/valid_runtime": 69.0749, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_9": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_4a8a6824d96f3e3a4fed.table.json", "sum__evaluated_acc/test/plot_table#size": 353, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "4a8a6824d96f3e3a4fedf20c6126d950e8222b87590fd12cd967106cf1bcf204"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_234054", "created_at": "2023-03-20T15:00:40", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-18000", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum___timestamp": 1679324274, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum___wandb#runtime": 63, "sum___runtime": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_146317", "created_at": "2023-03-20T15:00:24", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-16000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___step": 8, "sum___wandb#runtime": 96, "sum___timestamp": 1679324108, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum___runtime": 35, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_agg_234054", "created_at": "2023-03-20T14:41:34", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___step": 8, "sum___timestamp": 1679322925, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum___wandb#runtime": 49, "sum___runtime": 28, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_agg_256788", "created_at": "2023-03-20T14:41:17", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum___wandb#runtime": 49, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___runtime": 28, "sum___timestamp": 1679322869, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f__146317", "created_at": "2023-03-20T14:40:36", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_32": 0.004, "sum__pred/test_acc_25": 0.7, "sum__pred/test_acc_33": 0.002, "sum__pred/valid_acc_13": 0.8897, "sum__pred/valid_acc_17": 0.8232, "sum__pred/test_editDistance_23": 0, "sum__pred/test_steps_per_second": 1.964, "sum__train/recall": 1, "sum__pred/valid_f1": 0.584, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_precision": 0.4128, "sum__pred/valid_editDistance_17": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_f1": 0.519, "sum__train/seq_acc": 1, "sum__pred/valid_editDistance_19": 0, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_8": 0.9353, "sum__pred/valid_acc_15": 0.8268, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_29": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_acc": 0.9337, "sum__pred/test_acc_34": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_9": 0, "sum__train/precision": 0.2748, "sum__pred/test_editDistance_24": 0, "sum__pred/test_acc_26": 0.674, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_8": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_a227b751ac6e3778c2cc.table.json", "sum__evaluated_acc/valid/plot_table#size": 357, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "a227b751ac6e3778c2cc7e1379aa6231a41df67f42a23e5e4148536247686814", "sum__computed_per_device_eval_batch_size": 32, "sum__eval/recall": 0.9981, "sum__pred/valid_loss": 0.0009863039012998345, "sum__pred/test_acc_31": 0.034, "sum__pred/test_acc_39": 0, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_36": 0, "sum__eval/f1": 0.584, "sum__eval/precision": 0.4128, "sum__train/train_runtime": 11942.0859, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_2": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__pred/test_acc_22": 0.738, "sum__pred/test_acc_28": 0.446, "sum__pred/valid_acc_18": 0.8281, "sum__pred/test_runtime": 159.3456, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_13": 0, "sum___runtime": 12368, "sum__train/loss": 0.0007, "sum__pred/valid_acc_3": 0.9847, "sum__pred/valid_acc_5": 0.9632, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/test_samples_per_second": 62.757, "sum___step": 4146, "sum__eval/acc": 0.9337, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__auto_computed_batch_size_predict": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__pred/valid_recall": 0.9981, "sum__pred/valid_editDistance_3": 0, "sum__evaluated_acc/valid/during_training_table#sha256": "455ce93e9b24e7f5f08ae31171effa4ee30a86202d0e46fdc98b28fc91143d2e", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_455ce93e9b24e7f5f08a.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8506, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__eval/loss": 0.0009863039012998345, "sum__pred/test_acc_37": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_39": 0, "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__train/total_flos": 8.164318003155763e+16, "sum__pred/test_editDistance_28": 0, "sum__train/learning_rate": 1e-07, "sum__auto_computed_batch_size": 64, "sum__eval/runtime": 72.678, "sum__train/train_loss": 0.31459300566975723, "sum__num_train_samples": 100000, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "5b3b9ef6e5e87952c8206278b60f03e0f4a8744bcb9f779e46d31375b040b9e7", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_5b3b9ef6e5e87952c820.table.json", "sum__evaluated_acc/test/plot_table#size": 344, "sum__train/train_samples_per_second": 214.368, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__pred/test_loss": 0.8096411824226379, "sum__pred/test_acc_38": 0, "sum__pred/test_acc_27": 0.558, "sum__pred/valid_acc_9": 0.8987, "sum__pred/valid_acc_20": 0.8216, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_15": 0, "sum__train/acc": 0.2748, "sum__pred/test_acc": 0.8317, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc_12": 0.8998, "sum__pred/valid_editDistance_12": 0, "sum__train/train_steps_per_second": 3.349, "sum__pred/test_acc_23": 0.774, "sum__pred/valid_acc_2": 0.9836, "sum__pred/test_acc_30": 0.11, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_7": 0.9563, "sum__pred/valid_acc_19": 0.7863, "sum__num_total_params": 137927808, "sum__pred/test_acc_29": 0.236, "sum__eval/samples_per_second": 103.112, "sum__evaluated_acc/valid/table#size": 1011814, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "9d8b542bc57f75663645a78ad037dfaa463f70685e7a4e4f9ab49e2650f6c384", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_9d8b542bc57f75663645.table.json", "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_acc_16": 0.8234, "sum__pred/valid_seq_acc": 0.9944, "sum__pred/test_acc_36": 0, "sum__num_trainable_params": 109607040, "sum__pred/valid_acc_overall": 0.8955, "sum__pred/test_editDistance_35": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___wandb#runtime": 12368, "sum___timestamp": 1679322522, "sum__train/f1": 0.4311, "sum__pred/valid_steps_per_second": 3.212, "sum__pred/valid_acc_4": 0.9645, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_acc_6": 0.9463, "sum__pred/valid_acc_11": 0.9264, "sum__eval/steps_per_second": 3.233, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_21": 0.788, "sum__pred/test_acc_24": 0.728, "sum__pred/test_acc_overall": 0.2896, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_samples_per_second": 102.423, "sum__pred/valid_acc_14": 0.8483, "sum__pred/test_precision": 0.3863, "sum__train/global_step": 0, "sum__pred/valid_runtime": 73.1671, "sum__train/gen_max_length": 256, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "fef8ae39c70d61bed1a78d278a213a04d1f4289066c12ca3a290813d5cdec115", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_fef8ae39c70d61bed1a7.table.json", "sum__evaluated_acc/test/table#size": 3113328, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 68308, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__pred/test_recall": 0.7908, "sum__pred/valid_acc_10": 0.8953, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/test_seq_acc": 0.3726, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__train/epoch": 25.59, "sum__eval/seq_acc": 0.9944}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_agg_146317", "created_at": "2023-03-20T14:40:17", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 50, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum___runtime": 29, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___timestamp": 1679322983, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f__256788", "created_at": "2023-03-20T14:39:36", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/acc": 0.9335, "sum__eval/recall": 0.9964, "sum__train/precision": 0.2629, "sum__pred/test_seq_acc": 0.4292, "sum__pred/valid_acc_13": 0.8836, "sum__train/global_step": 0, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_acc": 0.836, "sum__pred/test_acc_33": 0.01, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_5": 0.9582, "sum__pred/valid_acc_18": 0.801, "sum__eval/steps_per_second": 3.29, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_40": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum___runtime": 12357, "sum__pred/valid_acc_4": 0.9577, "sum__num_train_samples": 100000, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_d3ce367bafdd8de195c4.table.json", "sum__evaluated_acc/test/table#size": 3183698, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "d3ce367bafdd8de195c46fb17d5e50889d16bfadd8037610d108e1630ddccf2f", "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_23": 0.782, "sum__pred/test_acc_30": 0.284, "sum__pred/valid_acc_10": 0.8915, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_samples_per_second": 103.637, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__pred/test_acc_24": 0.72, "sum__pred/test_acc_32": 0.07, "sum__pred/valid_acc_15": 0.8672, "sum__train/train_samples_per_second": 214.907, "sum__train/loss": 0.0014, "sum__train/seq_acc": 0.9844, "sum__pred/valid_acc_2": 0.9814, "sum__pred/valid_acc_3": 0.9797, "sum__pred/test_editDistance_30": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_c168fe3de9640c7e316c.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8480, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "c168fe3de9640c7e316c7142d5901d318b5601fee138f0d9d2cf3e94eccf6ae7", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_6": 0.953, "sum__num_trainable_params": 109607040, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_35e1796e8a1642a5dd93.table.json", "sum__evaluated_acc/valid/plot_table#size": 354, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "35e1796e8a1642a5dd931277365be2f5551fa6785c046f794fefff95bc610409", "sum__pred/test_loss": 0.5981134176254272, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_7": 0, "sum__train/epoch": 25.59, "sum__pred/valid_loss": 0.001850368920713663, "sum__pred/valid_acc_7": 0.9482, "sum__pred/valid_acc_12": 0.8974, "sum__pred/valid_editDistance_9": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__train/f1": 0.4162, "sum__pred/test_acc_26": 0.71, "sum__pred/valid_acc_16": 0.8487, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_steps_per_second": 3.25, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__pred/valid_f1": 0.5838, "sum__pred/valid_acc_14": 0.865, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_acc_20": 0.7995, "sum__pred/valid_precision": 0.4127, "sum__pred/valid_editDistance_overall": 0, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__pred/test_acc_31": 0.104, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_17": 0.8359, "sum__pred/valid_acc_19": 0.7973, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_ba6b6284ea15cd5f7b06.table.json", "sum__evaluated_acc/valid/table#size": 1011960, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "ba6b6284ea15cd5f7b0682c63ad6d3c3ce91f831dc35bdf1bd344972a7604051", "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_17": 0, "sum__auto_computed_eval_batch_size": 32, "sum__eval/loss": 0.0026401805225759745, "sum__pred/test_acc_28": 0.59, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_runtime": 176.0083, "sum__eval/samples_per_second": 104.907, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_15": 0, "sum___wandb#runtime": 12357, "sum__train/acc": 0.2629, "sum__pred/valid_seq_acc": 0.9933, "sum__pred/test_acc_39": 0, "sum__train/train_loss": 0.30987388637828406, "sum__computed_num_process": 1, "sum__pred/test_editDistance_29": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_12": 0, "sum__train/train_steps_per_second": 3.358, "sum__num_total_params": 137927808, "sum__pred/valid_editDistance_11": 0, "sum__train/recall": 0.9987, "sum__pred/test_acc_38": 0, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_overall": 0, "sum__eval/runtime": 71.4346, "sum__pred/test_f1": 0.534, "sum__pred/valid_acc_11": 0.9024, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_32": 0, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__pred/test_acc_25": 0.716, "sum__pred/test_recall": 0.8263, "sum__pred/test_acc_overall": 0.3322, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_18": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum___step": 4146, "sum__eval/seq_acc": 0.9911, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_5": 0, "sum__auto_computed_batch_size_predict": 32, "sum__eval/precision": 0.4122, "sum__pred/test_acc_34": 0.002, "sum__pred/valid_runtime": 72.3104, "sum__pred/valid_editDistance_10": 0, "sum__auto_computed_grad_acc_steps": 1, "sum___timestamp": 1679297794, "sum__pred/valid_acc": 0.9336, "sum__pred/test_acc_29": 0.482, "sum__pred/valid_recall": 0.9975, "sum__train/learning_rate": 1e-07, "sum__pred/test_steps_per_second": 1.778, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_acc_21": 0.792, "sum__pred/test_acc_27": 0.634, "sum__pred/test_precision": 0.3945, "sum__train/train_runtime": 11912.1297, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_19": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__pred/test_acc_22": 0.748, "sum__pred/valid_acc_9": 0.8724, "sum__train/total_flos": 8.163935225546342e+16, "sum__pred/test_samples_per_second": 56.815, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__eval/f1": 0.5832, "sum__pred/valid_acc_overall": 0.8935, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_36": 0, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 69495, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_16": 0, "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "c77bf0a9bc069744d17b8692b5c3925289c9a7c3e9bf792afdfc16f48c50323c", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_c77bf0a9bc069744d17b.table.json", "sum__evaluated_acc/test/plot_table#size": 344, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc_8": 0.9301, "sum__pred/valid_editDistance_14": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_2_234054", "created_at": "2023-03-20T14:39:07", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum___step": 8, "sum___runtime": 62, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___wandb#runtime": 115, "sum___timestamp": 1679322693}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_2_146317", "created_at": "2023-03-20T14:38:46", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___runtime": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum___wandb#runtime": 81, "sum___timestamp": 1679322782, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f__234054", "created_at": "2023-03-20T14:38:03", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_33": 0, "sum__num_trainable_params": 109607040, "sum__pred/test_acc_overall": 0.2944, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum___wandb#runtime": 12343, "sum__eval/f1": 0.5843, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__pred/valid_acc_19": 0.7908, "sum__pred/test_precision": 0.3899, "sum__pred/test_acc_25": 0.696, "sum__pred/valid_editDistance_5": 0, "sum__train/acc": 0.2731, "sum__train/recall": 1, "sum__pred/valid_acc_20": 0.7833, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/test_acc_27": 0.588, "sum__pred/valid_acc_17": 0.8329, "sum__pred/valid_loss": 0.00183870701584965, "sum__train/total_flos": 8.163835181398426e+16, "sum__pred/valid_acc_10": 0.8898, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_acc_overall": 0.8919, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__pred/test_acc_30": 0.124, "sum__computed_num_process": 1, "sum__pred/test_acc_28": 0.462, "sum__pred/test_acc_34": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_19": 0, "sum__eval/loss": 0.00183870701584965, "sum__num_total_params": 137927808, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_27": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_f1": 0.5236, "sum__pred/test_acc_26": 0.678, "sum__pred/valid_editDistance_9": 0, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/valid_acc_6": 0.9404, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_6e246e9c9fad0b4ba0dc.table.json", "sum__evaluated_acc/valid/table#size": 1018012, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "6e246e9c9fad0b4ba0dc0318c917c25be9517f96b2b1873dd97ceb5ff42bf8a4", "sum__pred/test_editDistance_36": 0, "sum__pred/valid_acc_16": 0.8516, "sum__pred/valid_seq_acc": 0.9935, "sum__train/train_runtime": 11933.0228, "sum__pred/valid_precision": 0.4131, "sum__pred/test_editDistance_23": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_8": 0.9378, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__pred/test_acc_24": 0.718, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_13": 0, "sum__train/train_loss": 0.3079475337696378, "sum__pred/test_steps_per_second": 2.004, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_samples_per_second": 103.718, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_30": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_28": 0, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__pred/valid_acc_14": 0.8561, "sum__eval/samples_per_second": 101.957, "sum__pred/valid_acc_18": 0.841, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_14": 0, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 66555, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__pred/test_acc_32": 0.002, "sum__pred/valid_acc_4": 0.9602, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_38": 0, "sum__pred/test_acc_23": 0.774, "sum__pred/valid_recall": 0.9978, "sum__pred/test_runtime": 156.1802, "sum__pred/test_editDistance_37": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_15": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___step": 4146, "sum__pred/valid_acc_7": 0.9381, "sum__pred/test_acc": 0.8324, "sum__pred/test_recall": 0.7969, "sum__pred/valid_acc_2": 0.9831, "sum__pred/test_editDistance_overall": 0, "sum___timestamp": 1679310146, "sum__eval/seq_acc": 0.9935, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_15": 0.8375, "sum__pred/test_samples_per_second": 64.029, "sum__train/train_steps_per_second": 3.352, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_c6b77d470b9d473104e3.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8515, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "c6b77d470b9d473104e37cfef11d580acb9274666b32f55a037cd5d4020c6f9e", "sum__train/f1": 0.429, "sum__pred/test_acc_22": 0.742, "sum__train/seq_acc": 1, "sum__pred/test_seq_acc": 0.3773, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_20": 0, "sum___runtime": 12343, "sum__train/epoch": 25.59, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_overall": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__eval/recall": 0.9978, "sum__pred/test_editDistance_22": 0, "sum__eval/steps_per_second": 3.197, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_acc_12": 0.8915, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_ef2492dccac41d958c79.table.json", "sum__evaluated_acc/valid/plot_table#size": 356, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "ef2492dccac41d958c79e783a8a0ec82dfb2fcc8015b7cbab345ac039ae0164c", "sum__auto_computed_batch_size_predict": 32, "sum__eval/precision": 0.4131, "sum__pred/test_acc_40": 0, "sum__num_train_samples": 100000, "sum__pred/valid_acc_13": 0.8811, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/test_loss": 0.7629876732826233, "sum__pred/test_acc_29": 0.3, "sum__train/train_samples_per_second": 214.531, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_steps_per_second": 3.252, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_f1": 0.5843, "sum__train/precision": 0.2731, "sum__pred/valid_acc_5": 0.9619, "sum__train/global_step": 0, "sum__pred/valid_runtime": 72.2534, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "f8de09b48310d54d3dda2641a2b6b394387dbc0d729a9bb72103283a09d7b9a1", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_f8de09b48310d54d3dda.table.json", "sum__evaluated_acc/test/table#size": 3108465, "sum__evaluated_acc/test/table#_type": "table-file", "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_21": 0.784, "sum__pred/valid_acc_3": 0.9769, "sum__pred/test_acc_31": 0.02, "sum__pred/valid_editDistance_6": 0, "sum__eval/acc": 0.9334, "sum__pred/valid_acc": 0.9334, "sum__pred/test_editDistance_34": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_b9b5641675c09076aa0e.table.json", "sum__evaluated_acc/test/plot_table#size": 342, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "b9b5641675c09076aa0e03b12fa6b1f4f1c599ef9def8cd0cb188846716fdc9d", "sum__pred/valid_editDistance_18": 0, "sum__eval/runtime": 73.5016, "sum__pred/valid_acc_9": 0.8883, "sum__pred/valid_acc_11": 0.9098, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_10": 0, "sum__train/loss": 0.0009, "sum__pred/test_acc_35": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_2_256788", "created_at": "2023-03-20T14:37:41", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___runtime": 36, "sum___timestamp": 1679322567, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___wandb#runtime": 92, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_2_234054", "created_at": "2023-03-20T13:30:58", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 81, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 29, "sum___timestamp": 1679318562, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39__256788", "created_at": "2023-03-20T13:30:26", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_acc": 0.9337, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "913b5a3635190931a2adfd917c4223e4d682bfb6a459d1d7e685cd816ee939b6", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_913b5a3635190931a2ad.table.json", "sum__evaluated_acc/test/plot_table#size": 324, "sum__eval/steps_per_second": 3.303, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_11": 0.9024, "sum__pred/valid_recall": 0.9997, "sum__pred/test_editDistance_28": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__eval/runtime": 71.147, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_12": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_acc_19": 0.824, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_8": 0.9274, "sum__train/global_step": 0, "sum__computed_num_process": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/test_f1": 0.0427, "sum__pred/test_acc": 0.3346, "sum__train/seq_acc": 1, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_5": 0.9582, "sum__pred/test_editDistance_31": 0, "sum__pred/test_steps_per_second": 0.362, "sum___timestamp": 1679290884, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__train/train_steps_per_second": 3.41, "sum__pred/test_precision": 0.0253, "sum__train/train_runtime": 11730.2732, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_11": 0, "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum___runtime": 13575, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_96be2f82c34b657d92d7.table.json", "sum__evaluated_acc/valid/table#size": 1012127, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "96be2f82c34b657d92d7b4e327666357fd6b50de347404b6af1834ddad0c30cb", "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/test_acc_22": 0.02, "sum__pred/test_acc_24": 0, "sum__pred/valid_editDistance_5": 0, "sum__eval/f1": 0.5849, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_16": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__num_train_samples": 100000, "sum__pred/valid_acc_6": 0.9505, "sum__pred/valid_editDistance_2": 0, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_16": 0.8564, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_15": 0, "sum__eval/recall": 0.9996, "sum__pred/test_acc_32": 0, "sum__pred/test_recall": 0.1365, "sum__evaluated_acc/test/table#sha256": "513a955d742b017c834a1456e529a41eba9865d74996e41f162ee5bb46b91fdd", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_513a955d742b017c834a.table.json", "sum__evaluated_acc/test/table#size": 8193221, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_loss": 0.0002740914060268551, "sum__pred/valid_steps_per_second": 3.271, "sum__pred/test_editDistance_21": 0, "sum__train/precision": 0.2632, "sum__pred/test_acc_34": 0, "sum__train/total_flos": 8.163935225546342e+16, "sum__pred/valid_acc_15": 0.8647, "sum__eval/samples_per_second": 105.331, "sum__pred/test_editDistance_39": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__eval/acc": 0.9337, "sum__pred/valid_acc_4": 0.9577, "sum__pred/valid_editDistance_18": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/valid_acc_3": 0.9797, "sum__train/epoch": 25.59, "sum__pred/test_loss": 8.160131454467773, "sum__pred/test_runtime": 863.9753, "sum__pred/valid_runtime": 71.8413, "sum__pred/valid_editDistance_7": 0, "sum__train/loss": 0.0001, "sum__pred/test_acc_21": 0.546, "sum__pred/valid_f1": 0.585, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_7": 0.9508, "sum__pred/valid_acc_9": 0.8724, "sum__pred/test_acc_overall": 0.0283, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_14": 0, "sum__train/f1": 0.4168, "sum__pred/test_samples_per_second": 11.574, "sum__pred/valid_seq_acc": 0.9989, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "bfe26557dd7de723f248e0bbb0a5cc67a1befff875ec16b07579d4b9484e5ce9", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_bfe26557dd7de723f248.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8496, "sum__pred/test_acc_39": 0, "sum__pred/valid_editDistance_6": 0, "sum__ds_examples/ExperimentStage.PREDICTION#size": 69495, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_704a86e308f5212aee36.table.json", "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_overall": 0.8981, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_acc_2": 0.9814, "sum__pred/valid_acc_12": 0.8974, "sum__num_trainable_params": 109607040, "sum__auto_computed_batch_size": 64, "sum__auto_computed_eval_batch_size": 32, "sum__num_total_params": 150510720, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__train/recall": 1, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_40": 0, "sum__num_non_trainable_params": 40903680, "sum__pred/valid_samples_per_second": 104.313, "sum__train/train_samples_per_second": 218.239, "sum__train/acc": 0.2632, "sum__train/train_loss": 0.25426129978928946, "sum__pred/test_editDistance_22": 0, "sum__pred/test_acc_36": 0, "sum__eval/precision": 0.4134, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_14": 0.87, "sum__train/learning_rate": 1e-07, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_9": 0, "sum__auto_computed_batch_size_predict": 32, "sum___wandb#runtime": 13575, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc_18": 0.8201, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__pred/test_seq_acc": 0.0345, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_20": 0.8157, "sum__pred/valid_editDistance_17": 0, "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum___step": 4146, "sum__pred/valid_acc_10": 0.8968, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_3": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_21b1760457f166fc7d99.table.json", "sum__evaluated_acc/valid/plot_table#size": 354, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "21b1760457f166fc7d99fbd227cbae7bd3611f206e953749691fd0ece30c51c3", "sum__pred/test_acc_30": 0, "sum__eval/seq_acc": 0.9988, "sum__pred/valid_acc_13": 0.8836, "sum__pred/valid_acc_17": 0.8485, "sum__pred/valid_precision": 0.4135, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_13": 0, "sum__eval/loss": 0.00035063939867541194, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__pred/test_editDistance_overall": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_agg_146317", "created_at": "2023-03-20T13:30:08", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___step": 8, "sum___timestamp": 1679318851, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___wandb#runtime": 51, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___runtime": 28, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39__146317", "created_at": "2023-03-20T13:29:39", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/f1": 0.4311, "sum__train/seq_acc": 1, "sum__pred/valid_acc_7": 0.9563, "sum__num_non_trainable_params": 40903680, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_3": 0.9847, "sum__pred/valid_acc_16": 0.8342, "sum__eval/samples_per_second": 103.594, "sum__train/train_steps_per_second": 3.368, "sum__pred/test_editDistance_38": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_1bef134ebed06c517178.table.json", "sum__evaluated_acc/valid/plot_table#size": 357, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "1bef134ebed06c51717803a9edfa13f4149fbd4114c3808f2fec308a4a14ced7", "sum__pred/test_editDistance_23": 0, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 68308, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__train/precision": 0.2748, "sum__train/train_loss": 0.2645894112996873, "sum__pred/valid_acc_12": 0.8998, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_recall": 0.9997, "sum__computed_num_process": 1, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_15": 0, "sum___step": 4146, "sum__pred/test_acc_22": 0, "sum__evaluated_acc/test/table#sha256": "29b5fdf319276117b24b258c11aabe918c22aa4f65418aa4284f5d4a895bf7dd", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_29b5fdf319276117b24b.table.json", "sum__evaluated_acc/test/table#size": 5377659, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "71333b6daaafafa09cff04c024f2d726219b797889d9e2850ac25c89b14497e7", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_71333b6daaafafa09cff.table.json", "sum__evaluated_acc/valid/table#size": 1011941, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_32": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_acc_4": 0.9645, "sum__pred/valid_acc_17": 0.8283, "sum__pred/test_editDistance_37": 0, "sum__pred/test_editDistance_40": 0.2, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "9f13e1836083311057379e89e272dee59a9948afd85e3c448cf3b9ea4a01345c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_9f13e183608331105737.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum___timestamp": 1679318435, "sum__pred/test_acc_21": 0.454, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_6": 0.9463, "sum__train/acc": 0.2748, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_19": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__train/train_samples_per_second": 215.535, "sum__pred/test_acc_23": 0, "sum__pred/test_recall": 0.098, "sum__pred/valid_acc_9": 0.8987, "sum__num_train_samples": 100000, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_steps_per_second": 3.223, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__eval/runtime": 72.3404, "sum__pred/valid_precision": 0.4134, "sum__pred/test_editDistance_36": 0, "sum__auto_computed_batch_size_predict": 32, "sum___wandb#runtime": 13404, "sum__pred/test_acc_32": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__train/loss": 0.0001, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_acc_30": 0, "sum__pred/valid_seq_acc": 0.9992, "sum__pred/test_editDistance_24": 0, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_acc": 0.5345, "sum__pred/valid_loss": 0.0004716241965070367, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_34": 0, "sum__pred/test_runtime": 863.6931, "sum__pred/test_precision": 0.028, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_samples_per_second": 11.578, "sum__pred/valid_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__pred/valid_acc": 0.9338, "sum__pred/valid_runtime": 72.9172, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_20": 0, "sum__train/recall": 1, "sum__pred/test_seq_acc": 0.0275, "sum__pred/valid_acc_11": 0.9289, "sum__pred/test_acc_overall": 0.0227, "sum__pred/valid_editDistance_13": 0, "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "cfe7914ff4ba107c1f3878161c2f80789fd3a0a82acaa3b02699df49d638b763", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_cfe7914ff4ba107c1f38.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__eval/precision": 0.4134, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_33": 0, "sum__train/train_runtime": 11877.4095, "sum__auto_computed_eval_batch_size": 32, "sum__eval/loss": 0.0004716241965070367, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_8": 0.9353, "sum__pred/valid_editDistance_3": 0, "sum__train/epoch": 25.59, "sum__train/gen_max_length": 256, "sum__eval/acc": 0.9338, "sum__pred/test_acc_39": 0, "sum__train/global_step": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__eval/f1": 0.5849, "sum__train/total_flos": 8.164318003155763e+16, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_overall": 0.01, "sum__pred/test_f1": 0.0435, "sum__pred/valid_f1": 0.5849, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_14": 0.8483, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_acc_18": 0.8378, "sum__pred/valid_acc_overall": 0.8994, "sum__pred/valid_editDistance_18": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_2": 0.9836, "sum__pred/valid_acc_15": 0.8294, "sum__pred/test_editDistance_31": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__eval/recall": 0.9997, "sum__eval/seq_acc": 0.9992, "sum__pred/valid_acc_19": 0.8127, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_34": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__num_total_params": 150510720, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_5": 0.9632, "sum__pred/valid_acc_13": 0.8897, "sum__train/learning_rate": 1e-07, "sum___runtime": 13404, "sum__pred/test_loss": 8.680937767028809, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_20": 0.8392, "sum__eval/steps_per_second": 3.249, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_12": 0, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__pred/valid_acc_10": 0.8953, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_22": 0, "sum__pred/test_steps_per_second": 0.362, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_samples_per_second": 102.774, "sum__evaluated_acc/valid/during_training_table#size": 8521, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "0918f96252f5d87f1b7a8b0203b099d71726a1b0b76f540d6cfd43652b1d76a7", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_0918f96252f5d87f1b7a.table.json"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_2_256788", "created_at": "2023-03-20T13:29:25", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___wandb#runtime": 83, "sum___timestamp": 1679318474, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum___runtime": 31, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_agg_256788", "created_at": "2023-03-20T13:29:12", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 49, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum___runtime": 29, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679318738, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_2_146317", "created_at": "2023-03-20T13:28:59", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum___wandb#runtime": 80, "sum___runtime": 29, "sum___timestamp": 1679318651, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_agg_234054", "created_at": "2023-03-20T13:28:46", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___wandb#runtime": 50, "sum___runtime": 28, "sum___timestamp": 1679318793, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39__234054", "created_at": "2023-03-20T13:28:13", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_15": 0.8375, "sum__pred/valid_editDistance_14": 0, "sum__train/recall": 1, "sum__eval/precision": 0.4139, "sum__pred/test_acc_32": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_11": 0, "sum__train/epoch": 25.59, "sum__pred/test_acc_38": 0, "sum__pred/test_runtime": 861.9659, "sum__computed_num_process": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_seq_acc": 0.9999, "sum__eval/samples_per_second": 101.465, "sum__train/total_flos": 8.163835181398426e+16, "sum__pred/valid_runtime": 73.8048, "sum__train/gen_max_length": 256, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "2a15b86ec9f956e01e13477e51456220302a3069a5c743b796ee377d51f18c12", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_2a15b86ec9f956e01e13.table.json", "sum__evaluated_acc/valid/plot_table#size": 352, "sum__num_non_trainable_params": 40903680, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__eval/runtime": 73.8583, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_11": 0.9122, "sum__pred/valid_acc_20": 0.8054, "sum___runtime": 14130, "sum__pred/test_acc_33": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__eval/acc": 0.9335, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_34": 0, "sum__pred/test_steps_per_second": 0.363, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_20": 0, "sum__eval/recall": 1, "sum__pred/valid_acc_12": 0.8939, "sum__train/global_step": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_6": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__pred/test_acc_22": 0.016, "sum__pred/test_samples_per_second": 11.601, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "a6ed2f833e30a0974b4813ab535b78192db2d9ce61f8959b7e29f12a063a91cb", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_a6ed2f833e30a0974b48.table.json", "sum__evaluated_acc/test/table#size": 10321375, "sum__evaluated_acc/test/table#_type": "table-file", "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_8": 0, "sum__eval/f1": 0.5855, "sum__train/loss": 0.0001, "sum__pred/test_f1": 0.0315, "sum__pred/test_acc_27": 0, "sum__train/train_loss": 0.2556880544633197, "sum__auto_computed_batch_size_predict": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__eval/seq_acc": 0.9999, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_3306aef6ad7e677f6995.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8516, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "3306aef6ad7e677f69957cbf4422af3bad3c94b419f74e4d23d84374cca1bb10", "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc": 0.9335, "sum__num_total_params": 150510720, "sum__pred/valid_acc_10": 0.895, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_33": 0, "sum__train/f1": 0.429, "sum___timestamp": 1679305023, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_5": 0.9619, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "002330f0bffd7bbd2b5d8da00b1079f598407aaf97939838a2e7b11e8a1f989b", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_002330f0bffd7bbd2b5d.table.json", "sum__evaluated_acc/test/plot_table#size": 325, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__pred/valid_recall": 1, "sum__eval/steps_per_second": 3.182, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_acc_21": 0.628, "sum__pred/test_recall": 0.1203, "sum__pred/valid_acc_6": 0.9404, "sum__pred/test_seq_acc": 0.0391, "sum__pred/valid_acc_19": 0.82, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_9": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_8": 0.9378, "sum__pred/valid_acc_13": 0.8811, "sum__pred/valid_editDistance_4": 0, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__train/acc": 0.2731, "sum__pred/valid_precision": 0.4139, "sum__pred/valid_editDistance_16": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_3": 0.9769, "sum__train/train_runtime": 11973.4421, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_24": 0, "sum__train/train_steps_per_second": 3.341, "sum__pred/test_acc": 0.1937, "sum__pred/test_acc_28": 0, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_17": 0, "sum___step": 4146, "sum__train/precision": 0.2731, "sum__pred/test_acc_37": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_acc_2": 0.9831, "sum__pred/valid_acc_7": 0.9381, "sum__pred/test_editDistance_35": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/valid_editDistance_13": 0, "sum__num_train_samples": 100000, "sum__pred/valid_acc_16": 0.8568, "sum__pred/valid_acc_17": 0.84, "sum__pred/test_editDistance_36": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_4": 0.9602, "sum__pred/test_precision": 0.0181, "sum__train/train_samples_per_second": 213.807, "sum__pred/valid_steps_per_second": 3.184, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum___wandb#runtime": 14130, "sum__train/seq_acc": 1, "sum__pred/test_loss": 9.323076248168944, "sum__pred/valid_acc_9": 0.8908, "sum__pred/valid_acc_overall": 0.8971, "sum__pred/test_acc_35": 0, "sum__num_trainable_params": 109607040, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 66555, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__pred/valid_f1": 0.5855, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_overall": 0.0322, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_18": 0.8571, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_10": 0, "sum__computed_per_device_train_batch_size": 64, "sum__eval/loss": 5.203642649576068e-05, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_loss": 5.203642649576068e-05, "sum__pred/valid_acc_14": 0.8611, "sum__evaluated_acc/valid/table#size": 1018202, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "a44f1ebf587fed7cccadb8f1c0b952cbbf90d7fa424323b3c0837df3aeef0217", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_a44f1ebf587fed7cccad.table.json", "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_samples_per_second": 101.538}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_2_256788", "created_at": "2023-03-20T12:15:40", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum___step": 8, "sum___wandb#runtime": 95, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___runtime": 36, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___timestamp": 1679312542, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340__256788", "created_at": "2023-03-20T12:15:08", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_6": 0.953, "sum__pred/test_runtime": 202.6677, "sum__pred/valid_acc_14": 0.87, "sum__train/global_step": 0, "sum__eval/loss": 0.0005289131659083068, "sum__train/epoch": 25.59, "sum__pred/test_acc_29": 0.678, "sum__pred/test_acc_36": 0.02, "sum__pred/valid_editDistance_6": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__eval/samples_per_second": 105.327, "sum__pred/valid_editDistance_overall": 0, "sum__auto_computed_batch_size_predict": 32, "sum___step": 4146, "sum__pred/test_acc_21": 0.806, "sum__pred/valid_acc_10": 0.8942, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_28": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__computed_per_device_train_batch_size": 64, "sum__eval/runtime": 71.1497, "sum__pred/test_seq_acc": 0.5692, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_23": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__eval/acc": 0.9337, "sum__pred/test_acc_39": 0.002, "sum__pred/valid_acc_17": 0.846, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__pred/test_editDistance_30": 0, "sum__train/train_samples_per_second": 217.709, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__pred/test_acc_25": 0.732, "sum__pred/valid_seq_acc": 0.9991, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_acc_19": 0.8267, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__pred/test_editDistance_33": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_37": 0.002, "sum__eval/steps_per_second": 3.303, "sum__pred/test_editDistance_37": 0, "sum__pred/test_samples_per_second": 49.342, "sum__eval/precision": 0.4134, "sum__pred/valid_acc_12": 0.8974, "sum__eval/seq_acc": 0.9991, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_36": 0, "sum__pred/test_acc_38": 0.006, "sum__pred/valid_acc_4": 0.9577, "sum__pred/valid_runtime": 71.7456, "sum__pred/valid_precision": 0.4134, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__train/acc": 0.2632, "sum__pred/valid_acc_9": 0.8724, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_11": 0, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 69495, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__pred/test_loss": 0.3078772723674774, "sum__pred/test_acc_26": 0.716, "sum__train/train_loss": 0.30506223779253777, "sum__pred/test_editDistance_38": 0, "sum___wandb#runtime": 12224, "sum__train/recall": 1, "sum__pred/valid_editDistance_15": 0, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "0af05447eeaf878070c287c0eae822e1f9d4760a1894b5284117ce8fc3ea3ccb", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_0af05447eeaf878070c2.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8462, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__pred/test_f1": 0.5652, "sum__pred/test_acc_40": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/valid_acc_2": 0.9814, "sum__pred/valid_acc_8": 0.9274, "sum__pred/valid_acc_15": 0.8697, "sum__pred/valid_editDistance_13": 0, "sum__train/loss": 0.0003, "sum__pred/test_acc_23": 0.806, "sum__pred/test_acc_31": 0.51, "sum__pred/test_recall": 0.8902, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__evaluated_acc/test/table#size": 3272162, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "bcca5ba6bd8dbe78a9efd7751612b0b75d4458aafe326c3cd456415deeefb9ea", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_bcca5ba6bd8dbe78a9ef.table.json", "sum__pred/valid_samples_per_second": 104.452, "sum__auto_computed_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/test_acc_28": 0.684, "sum__pred/test_editDistance_32": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__num_total_params": 137927808, "sum__pred/valid_acc_20": 0.8157, "sum__pred/test_acc_overall": 0.435, "sum__pred/valid_steps_per_second": 3.275, "sum__pred/test_acc_35": 0.06, "sum__pred/valid_acc_7": 0.9482, "sum__pred/test_editDistance_29": 0, "sum___runtime": 12224, "sum__eval/recall": 0.9995, "sum__pred/valid_acc": 0.9337, "sum__pred/test_acc_30": 0.58, "sum__eval/f1": 0.5849, "sum__pred/test_editDistance_27": 0, "sum__pred/test_steps_per_second": 1.544, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_acc_11": 0.9, "sum__pred/valid_acc_13": 0.8836, "sum__train/train_runtime": 11758.7943, "sum__pred/valid_acc_overall": 0.8981, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_editDistance_overall": 0, "sum___timestamp": 1679287916, "sum__pred/valid_loss": 0.0005289131659083068, "sum__pred/valid_acc_3": 0.9797, "sum__computed_num_process": 1, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_14": 0, "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "2f47779a5ad99b879c0c9c87a8edb55fe65006eb23cd835fc361cd7de63936f5", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_2f47779a5ad99b879c0c.table.json", "sum__evaluated_acc/test/plot_table#size": 353, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__pred/valid_f1": 0.5849, "sum__pred/test_acc_24": 0.758, "sum__evaluated_acc/valid/table#sha256": "c7a22f583e63493ab598e2bedf26c743da7b82db65082217842d2762a414828f", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_c7a22f583e63493ab598.table.json", "sum__evaluated_acc/valid/table#size": 1012132, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__pred/test_editDistance_31": 0, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_4": 0, "sum__train/train_steps_per_second": 3.402, "sum__pred/test_acc_32": 0.422, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_8": 0, "sum__num_train_samples": 100000, "sum__pred/test_precision": 0.414, "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/seq_acc": 1, "sum__train/precision": 0.2632, "sum__pred/test_acc_34": 0.18, "sum__pred/valid_acc_16": 0.8538, "sum__pred/test_acc_33": 0.306, "sum__train/total_flos": 8.163935225546342e+16, "sum__pred/valid_acc_18": 0.8225, "sum__pred/valid_recall": 0.9995, "sum__train/f1": 0.4168, "sum__pred/test_acc": 0.8426, "sum__pred/test_acc_22": 0.758, "sum__pred/test_acc_27": 0.674, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_39": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc_5": 0.9582, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_ff763d146735d5d7c79b.table.json", "sum__evaluated_acc/valid/plot_table#size": 350, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "ff763d146735d5d7c79bc09297d8911635d840870bd1201debf7f83a7ab8e73d"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_2_234054", "created_at": "2023-03-20T12:14:52", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 88, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 29, "sum___timestamp": 1679312638, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340__234054", "created_at": "2023-03-20T12:14:18", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_23": 0.806, "sum__pred/test_acc_28": 0.676, "sum__pred/valid_acc_2": 0.9831, "sum__pred/valid_acc_9": 0.8883, "sum__pred/test_precision": 0.4104, "sum__pred/valid_editDistance_7": 0, "sum__eval/seq_acc": 0.9988, "sum__pred/valid_acc_18": 0.8571, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_9aa9e1200f6c73d3b576.table.json", "sum__evaluated_acc/valid/table#size": 1018167, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "9aa9e1200f6c73d3b5762f091c1473141714dff3b72bec9d539f6dd83ec349ef", "sum__pred/valid_editDistance_10": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__pred/test_seq_acc": 0.5342, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_9": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__evaluated_acc/valid/plot_table#size": 355, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "e480474ebb1c1cfd1be676736e2f6f84a5b7202af4eea2dfe180695b53b0d3fc", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_e480474ebb1c1cfd1be6.table.json", "sum__train/train_samples_per_second": 216.742, "sum__pred/test_acc_35": 0.036, "sum__pred/test_acc_39": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_e34df061eacf7a005e26.table.json", "sum__evaluated_acc/test/plot_table#size": 352, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "e34df061eacf7a005e261a4506ff80d23052883bd95d7dc9bdc5cd15c52e1b37", "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_21": 0.802, "sum__pred/test_acc_29": 0.644, "sum__pred/test_acc_37": 0.002, "sum__train/global_step": 0, "sum__evaluated_acc/test/table#size": 3242335, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "55d4a3c766e23573bf267745e09b8e7661ebe61ee4832723dce276cb0f1383b3", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_55d4a3c766e23573bf26.table.json", "sum__pred/test_editDistance_25": 0, "sum__pred/test_acc_25": 0.728, "sum__train/total_flos": 8.163835181398426e+16, "sum__pred/valid_acc_20": 0.8054, "sum__pred/test_editDistance_35": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__train/epoch": 25.59, "sum__pred/valid_acc_13": 0.8811, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/train_steps_per_second": 3.387, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__train/f1": 0.429, "sum__pred/valid_editDistance_2": 0, "sum__train/recall": 1, "sum__pred/valid_acc_4": 0.9602, "sum__pred/test_editDistance_32": 0, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "de833dca778a58e1982982fcdc8816b2b400d2dcccf3bb3937065e3d9000eb2a", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_de833dca778a58e19829.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8517, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_15": 0, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum___step": 4146, "sum__eval/loss": 0.0006049585645087063, "sum__pred/valid_acc_16": 0.8516, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc_24": 0.74, "sum__pred/test_acc_33": 0.188, "sum__pred/valid_acc_10": 0.8924, "sum__pred/valid_acc_17": 0.84, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_steps_per_second": 3.26, "sum__pred/valid_f1": 0.5852, "sum__pred/valid_editDistance_20": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__train/seq_acc": 1, "sum__pred/valid_acc_12": 0.8939, "sum__pred/valid_precision": 0.4137, "sum__pred/test_acc_38": 0, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_13": 0, "sum__eval/acc": 0.9335, "sum__pred/test_loss": 0.3674284219741822, "sum__pred/test_acc_22": 0.768, "sum__pred/valid_acc_14": 0.8586, "sum__pred/test_acc_overall": 0.4082, "sum__train/precision": 0.2731, "sum__pred/test_acc_27": 0.67, "sum__pred/test_acc_34": 0.082, "sum__num_non_trainable_params": 28320768, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___timestamp": 1679300196, "sum__pred/test_f1": 0.5582, "sum__pred/valid_recall": 0.9996, "sum__pred/valid_seq_acc": 0.9988, "sum__eval/f1": 0.5852, "sum__num_total_params": 137927808, "sum__pred/valid_acc_8": 0.9378, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__eval/precision": 0.4137, "sum__pred/test_acc_31": 0.42, "sum__pred/valid_acc_3": 0.9769, "sum__computed_per_device_train_batch_size": 64, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_19": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum___wandb#runtime": 12271, "sum__train/acc": 0.2731, "sum__train/learning_rate": 1e-07, "sum__train/train_runtime": 11811.2771, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_14": 0, "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__pred/valid_acc": 0.9335, "sum__pred/test_runtime": 201.9663, "sum__pred/valid_acc_19": 0.8151, "sum__eval/samples_per_second": 103.86, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/test_acc_30": 0.544, "sum__pred/valid_acc_6": 0.9404, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_12": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_8": 0, "sum__train/loss": 0.0005, "sum__eval/recall": 0.9996, "sum__eval/runtime": 72.1548, "sum__pred/valid_loss": 0.0006049585645087063, "sum__pred/test_acc_26": 0.714, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_7": 0.9381, "sum__pred/test_num_samples": 10000, "sum__pred/test_steps_per_second": 1.55, "sum___runtime": 12271, "sum__pred/test_acc_32": 0.328, "sum__pred/valid_acc_15": 0.8375, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc_overall": 0.8961, "sum__pred/test_editDistance_23": 0, "sum__pred/test_acc": 0.8409, "sum__pred/valid_acc_5": 0.9619, "sum__pred/valid_acc_11": 0.9098, "sum__pred/valid_runtime": 72.0852, "sum__computed_num_process": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_samples_per_second": 49.513, "sum__pred/test_recall": 0.8724, "sum__eval/steps_per_second": 3.257, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_34": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_acc_36": 0.016, "sum__train/train_loss": 0.303712702048762, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_3": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_samples_per_second": 103.96, "sum__ds_examples/ExperimentStage.PREDICTION#size": 66555, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_05c808ab5f5f7f9d6cb1.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340__146317", "created_at": "2023-03-20T12:13:43", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_6": 0.9463, "sum__pred/valid_runtime": 78.0929, "sum__pred/test_editDistance_27": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_b5db75b7ac5524562722.table.json", "sum__evaluated_acc/valid/plot_table#size": 356, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "b5db75b7ac5524562722ce75faf30d2bebf6c508ee8fb9f590ef315cc91978b4", "sum___runtime": 12294, "sum__pred/valid_f1": 0.5846, "sum__pred/test_acc_29": 0.654, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__pred/test_acc_36": 0.016, "sum__train/total_flos": 8.164318003155763e+16, "sum__train/global_step": 0, "sum__num_non_trainable_params": 28320768, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/test_samples_per_second": 45.793, "sum__pred/test_acc_28": 0.672, "sum__pred/valid_acc_11": 0.9289, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_18": 0, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 68308, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__pred/valid_acc_20": 0.8342, "sum__pred/valid_recall": 0.9992, "sum__pred/valid_num_samples": 7494, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__eval/recall": 0.9992, "sum__eval/runtime": 77.4083, "sum__pred/test_editDistance_39": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_steps_per_second": 3.009, "sum__train/acc": 0.2741, "sum__eval/seq_acc": 0.9987, "sum__pred/test_acc_overall": 0.4154, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_4": 0, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "e25afeb8541333be41356e3a786d19bdd6dc05e50d062790a07ba1d3f515a5c7", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_e25afeb8541333be4135.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 91693, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__eval/samples_per_second": 96.811, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_3": 0, "sum__train/train_samples_per_second": 216.715, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_24": 0.742, "sum__pred/valid_precision": 0.4132, "sum__pred/valid_acc_overall": 0.8987, "sum__pred/test_acc_32": 0.354, "sum__pred/valid_acc_19": 0.8127, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_11": 0, "sum___timestamp": 1679312498, "sum__pred/test_acc": 0.8408, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_loss": 0.0009077388676814736, "sum__pred/test_recall": 0.8796, "sum__train/train_loss": 0.30908813079298414, "sum__pred/valid_acc_13": 0.8897, "sum__pred/valid_acc_16": 0.8342, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_acc": 0.9337, "sum__num_total_params": 137927808, "sum__pred/test_acc_23": 0.796, "sum__train/train_steps_per_second": 3.386, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "a042d416111b019aa876b2260d9c106388e8d9ec0f4325b8098e78ba77f04a37", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_a042d416111b019aa876.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 160980, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__train/learning_rate": 1e-07, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_14": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__pred/test_acc_39": 0, "sum__pred/valid_editDistance_9": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_acc_9": 0.8987, "sum__pred/test_runtime": 218.3731, "sum__pred/valid_acc_15": 0.832, "sum__train/train_runtime": 11812.7344, "sum__num_trainable_params": 109607040, "sum__train/precision": 0.2741, "sum__pred/test_acc_26": 0.716, "sum__pred/test_acc_27": 0.664, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__pred/valid_editDistance_2": 0, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "f3e27e13473009410720e1a450dc37a161fcab95ba944c003282d1f5d6f2a966", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_f3e27e13473009410720.table.json", "sum__evaluated_acc/test/plot_table#size": 353, "sum__auto_computed_batch_size_predict": 32, "sum__train/seq_acc": 0.9688, "sum__pred/valid_acc_3": 0.9847, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_6": 0, "sum__train/f1": 0.4301, "sum__train/loss": 0.0004, "sum__pred/test_f1": 0.5579, "sum__pred/valid_seq_acc": 0.9987, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_13": 0, "sum___step": 4146, "sum__eval/loss": 0.0009077388676814736, "sum__pred/test_loss": 0.34884271025657654, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__pred/test_acc_35": 0.056, "sum__pred/valid_acc_5": 0.9632, "sum__pred/valid_samples_per_second": 95.963, "sum__evaluated_acc/valid/table#sha256": "3e660c4ffaff24c35978f6c695e7c886f03be98a814a530ab06332d7c07bf3cb", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_3e660c4ffaff24c35978.table.json", "sum__evaluated_acc/valid/table#size": 1011919, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_33": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__pred/test_acc_25": 0.728, "sum__pred/test_acc_30": 0.542, "sum__pred/valid_acc_18": 0.8305, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_editDistance_overall": 0, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "b8eb8a9fe0b5f4b3bade1f644fa1189fb2c52f7fbb08e528eb55312e9cc14ba9", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_b8eb8a9fe0b5f4b3bade.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8524, "sum__train/epoch": 25.59, "sum__pred/valid_acc_8": 0.9353, "sum__pred/test_steps_per_second": 1.433, "sum__pred/valid_acc_7": 0.9563, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_b6dea51c6abfc227305f.table.json", "sum__evaluated_acc/test/table#size": 3269372, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "b6dea51c6abfc227305fc079a34e19f73cfab55d69d1e2b2a96ca390c6d744af", "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_acc_4": 0.9645, "sum__pred/valid_acc_14": 0.8483, "sum__pred/valid_acc_17": 0.8283, "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__pred/test_acc_37": 0.002, "sum__pred/test_seq_acc": 0.5433, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_acc_10": 0.8927, "sum__eval/steps_per_second": 3.036, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_acc_2": 0.9836, "sum__computed_num_process": 1, "sum__pred/test_acc_22": 0.766, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/valid_acc_12": 0.8998, "sum__pred/valid_editDistance_17": 0, "sum__eval/acc": 0.9337, "sum__pred/test_acc_21": 0.8, "sum__num_train_samples": 100000, "sum__pred/test_acc_31": 0.464, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/test_acc_38": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_19": 0, "sum__train/recall": 0.9975, "sum__eval/precision": 0.4132, "sum__pred/test_acc_34": 0.124, "sum___wandb#runtime": 12294, "sum__pred/test_acc_33": 0.212, "sum__pred/test_precision": 0.4085, "sum__eval/f1": 0.5846, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_34": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_agg_256788", "created_at": "2023-03-20T12:13:30", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 496, "sum___timestamp": 1679312831, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum___runtime": 33, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_agg_146317", "created_at": "2023-03-20T12:13:16", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679313847, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum___runtime": 28, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum___step": 8, "sum___wandb#runtime": 510, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_2_146317", "created_at": "2023-03-20T12:12:59", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679312731, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___step": 8, "sum___runtime": 27, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum___wandb#runtime": 86, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_agg_234054", "created_at": "2023-03-20T12:12:44", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum___wandb#runtime": 510, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___runtime": 31, "sum___timestamp": 1679313332, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_2_234054", "created_at": "2023-03-20T10:29:13", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum___runtime": 25, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum___wandb#runtime": 98, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum___timestamp": 1679307509, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-34000", "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_agg_234054", "created_at": "2023-03-20T10:29:03", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum___wandb#runtime": 109, "sum___step": 8, "sum___timestamp": 1679307821, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum___runtime": 23, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-34000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464__146317", "created_at": "2023-03-20T10:28:39", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_12": 1, "sum__train/learning_rate": 1e-07, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_7": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_9": 1, "sum__train/total_flos": 1.2681315631344845e+17, "sum__pred/valid_seq_acc": 0.9996, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_21": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum___step": 4146, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_15": 0, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/valid/plot_table#size": 309, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "b86fe9487b808db59e041c7cb9bb151b3fec69ad650e4d35001f0ea3be582549", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_b86fe9487b808db59e04.table.json", "sum__pred/valid_precision": 0.6083, "sum__pred/test_acc_25": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_13": 0, "sum__eval/acc": 0.9298, "sum__pred/valid_acc_8": 1, "sum__auto_computed_batch_size_predict": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__pred/test_loss": 6.208333492279053, "sum__pred/test_acc_28": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_2": 0, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum___runtime": 11760, "sum__train/precision": 0.4067, "sum__pred/valid_acc_6": 1, "sum__num_train_samples": 100000, "sum__pred/valid_acc_13": 1, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_6d2f93cb2baec355bb2b.table.json", "sum__evaluated_acc/valid/table#size": 2257706, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "6d2f93cb2baec355bb2b8991361102143bea660913b82d5546e851ac692af342", "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_f1": 0.1057, "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_3": 1, "sum__eval/steps_per_second": 1.391, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/train_steps_per_second": 3.574, "sum__ds_examples/ExperimentStage.PREDICTION#size": 107357, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_5daed80888baad5c3e64.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__pred/test_acc_37": 0, "sum__pred/test_acc_38": 0, "sum__computed_num_process": 1, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/train_samples_per_second": 228.732, "sum__train/epoch": 25.59, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_editDistance_12": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_14": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__train/recall": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-28000", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-28000", "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_f1": 0.7564, "sum__pred/valid_loss": 0.00018622919742483648, "sum__pred/test_acc_21": 0.946, "sum__eval/loss": 0.00043330053449608386, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_15": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_30": 0, "sum__pred/test_acc_22": 0, "sum__pred/test_seq_acc": 0.0473, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_acc_overall": 0.9996, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-28000", "sum__pred/valid_samples_per_second": 44.194, "sum__computed_per_device_train_batch_size": 64, "sum__eval/seq_acc": 0.9991, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_34": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-28000", "sum__pred/valid_steps_per_second": 1.386, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc": 0.9298, "sum__pred/valid_acc_20": 1, "sum__pred/valid_recall": 0.9996, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/test_samples_per_second": 41.287, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_34abada7822cf38c8a8a.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7997, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "34abada7822cf38c8a8a0645b844d550e50b8db37e7db0b06d285b2589b22552", "sum__train/acc": 0.4067, "sum__pred/valid_acc_16": 0.9973, "sum__train/train_loss": 0.2438308295759358, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_33": 0, "sum__train/global_step": 0, "sum__pred/test_precision": 0.0963, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_40": 0, "sum__pred/test_acc": 0.6224, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_acc_overall": 0.0473, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_runtime": 242.2068, "sum__eval/precision": 0.6079, "sum__num_total_params": 137927808, "sum__pred/valid_runtime": 169.5708, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_9": 0, "sum___timestamp": 1679307355, "sum__pred/test_steps_per_second": 1.292, "sum__eval/runtime": 168.9361, "sum__pred/valid_acc_19": 1, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_da85ed84a463f905471b.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "da85ed84a463f905471b1aee264319990b8a0965c3487b2e8817c5cc511f9134", "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__train/loss": 0.0002, "sum__eval/recall": 0.999, "sum__pred/test_recall": 0.117, "sum__pred/valid_acc_14": 0.9975, "sum__eval/samples_per_second": 44.36, "sum__eval/f1": 0.7559, "sum__train/seq_acc": 1, "sum__pred/valid_acc_11": 1, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_3966ad0167c468b5342c.table.json", "sum__evaluated_acc/test/table#size": 6294526, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "3966ad0167c468b5342c2ee5f6a5fd29f560799bc3572399105614c484090e83", "sum__train/f1": 0.5782, "sum__pred/valid_acc_4": 1, "sum__train/train_runtime": 11192.126, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_37": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__pred/test_acc_24": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464__234054", "created_at": "2023-03-20T10:28:15", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_recall": 0.9996, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-34000", "sum__pred/valid_editDistance_9": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-34000", "sum__computed_per_device_train_batch_size": 64, "sum__num_total_params": 137927808, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_editDistance_24": 0, "sum__train/epoch": 25.59, "sum__eval/runtime": 172.5119, "sum__pred/valid_acc_19": 1, "sum__train/learning_rate": 1e-07, "sum__pred/test_acc_overall": 0.0556, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__train/f1": 0.576, "sum__pred/test_precision": 0.0914, "sum__auto_computed_batch_size_predict": 32, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__num_train_samples": 100000, "sum__pred/test_f1": 0.1005, "sum__pred/valid_acc_11": 1, "sum__train/loss": 0.0002, "sum__pred/valid_acc_overall": 0.9995, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-34000", "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_10": 0, "sum__train/train_samples_per_second": 227.825, "sum__pred/test_acc_25": 0, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_21": 0.944, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_2": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-34000", "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_16": 0.9974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__eval/acc": 0.9296, "sum__train/train_loss": 0.23606250263253312, "sum__pred/test_seq_acc": 0.0556, "sum__computed_per_device_eval_batch_size": 32, "sum__eval/loss": 0.0003799613914452493, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_27": 0, "sum__pred/valid_editDistance_5": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__pred/test_acc_23": 0, "sum__pred/test_loss": 6.224184989929199, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_7": 1, "sum__pred/test_steps_per_second": 1.24, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_editDistance_overall": 0, "sum___timestamp": 1679295588, "sum__train/precision": 0.4045, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_19": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__eval/precision": 0.6084, "sum__train/train_runtime": 11236.7166, "sum__eval/steps_per_second": 1.362, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "4a5441400d3b33cce8c033cde780c62780caba390f99f4ba75d1319764f4edfd", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_4a5441400d3b33cce8c0.table.json", "sum__evaluated_acc/test/table#size": 6322251, "sum__evaluated_acc/test/table#_type": "table-file", "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_f1": 0.7565, "sum__pred/valid_num_samples": 7494, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_overall": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_7c341e489c3432c5f07b.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7942, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "7c341e489c3432c5f07b4096d0b6827edb492a9fae149027d2917bdc5e42557b", "sum__pred/test_editDistance_35": 0, "sum__pred/valid_seq_acc": 0.9995, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_22": 0.168, "sum__pred/test_recall": 0.1116, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_acc_20": 0.9975, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_acc": 0.9296, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_8": 1, "sum__computed_num_process": 1, "sum__pred/test_num_samples": 10000, "sum__auto_computed_batch_size": 64, "sum__pred/valid_steps_per_second": 1.393, "sum__train/train_steps_per_second": 3.56, "sum___runtime": 11810, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_26": 0, "sum__pred/test_samples_per_second": 39.612, "sum__pred/test_acc_33": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_4": 1, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "f8b748b090e49febffdb0fd9957f63cc0948805e348618b9f4ebd9190c848991", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_f8b748b090e49febffdb.table.json", "sum__evaluated_acc/valid/plot_table#size": 312, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__train/recall": 1, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_17": 1, "sum__pred/valid_runtime": 168.7456, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_33": 0, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 105971, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__pred/test_acc_35": 0, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_30": 0, "sum__pred/valid_precision": 0.6086, "sum__pred/valid_editDistance_6": 0, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "6c6b44d29309eb504a7cf9e54fdd02de4f8b9410050152689ff05041be1e9996", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_6c6b44d29309eb504a7c.table.json", "sum__evaluated_acc/test/plot_table#size": 325, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__eval/seq_acc": 0.9995, "sum__train/seq_acc": 1, "sum__pred/test_acc_24": 0, "sum__train/total_flos": 1.2680591398708838e+17, "sum__pred/valid_acc_10": 0.9974, "sum__eval/samples_per_second": 43.44, "sum__pred/valid_editDistance_18": 0, "sum___step": 4146, "sum__eval/recall": 0.9995, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_5": 1, "sum__evaluated_acc/valid/table#size": 2270440, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "a04d1d320635d74e76035d823a0761f5251484183ab8860c9ab7d5a2e35f657d", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_a04d1d320635d74e7603.table.json", "sum__pred/test_editDistance_38": 0, "sum__eval/f1": 0.7564, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_samples_per_second": 44.41, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_2": 1, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_loss": 0.00018591893604025245, "sum__pred/test_runtime": 252.4478, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_acc": 0.6209, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_12": 1, "sum__train/global_step": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_30": 0, "sum__train/acc": 0.4045, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__pred/test_editDistance_40": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_2_256788", "created_at": "2023-03-20T10:28:05", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 24, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum___wandb#runtime": 117, "sum___timestamp": 1679307386, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464__256788", "created_at": "2023-03-20T10:27:40", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc": 0.9297, "sum__pred/valid_recall": 0.9994, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_19": 0, "sum__eval/loss": 0.0005292047280818224, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_19": 1, "sum__pred/valid_seq_acc": 0.9991, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__eval/seq_acc": 0.9991, "sum__pred/test_acc_26": 0, "sum__pred/test_steps_per_second": 1.285, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_35": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__pred/test_acc_40": 0, "sum__pred/test_recall": 0.1068, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_14": 1, "sum__pred/valid_editDistance_13": 0, "sum__eval/recall": 0.9994, "sum__pred/test_acc_25": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_34": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__num_train_samples": 100000, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_11": 0, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__pred/test_acc_34": 0, "sum__pred/test_acc_38": 0, "sum__train/train_loss": 0.24303813624636825, "sum__pred/valid_acc_15": 1, "sum__pred/test_num_samples": 10000, "sum__train/train_samples_per_second": 231.534, "sum___runtime": 11628, "sum__train/loss": 0.0001, "sum__pred/test_runtime": 243.5504, "sum__eval/samples_per_second": 44.91, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_0316b0ba1f352da7b405.table.json", "sum__evaluated_acc/test/table#size": 6295063, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "0316b0ba1f352da7b40537a7bde7357dd17fa92e3502068ec3c1b06b4e51a83c", "sum__pred/valid_editDistance_20": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_f1": 0.0964, "sum__computed_per_device_train_batch_size": 64, "sum__train/epoch": 25.59, "sum__pred/test_loss": 6.231128692626953, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_overall": 0.0574, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "d80693917b2d3b36986a4c2e2ad6efa43b9d5437647a7c0efb452e41310e21ff", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_d80693917b2d3b36986a.table.json", "sum__evaluated_acc/valid/table#size": 2258472, "sum__eval/runtime": 166.8663, "sum__pred/valid_acc_5": 1, "sum__eval/precision": 0.6082, "sum__pred/test_acc_30": 0, "sum__pred/test_precision": 0.0878, "sum__pred/test_editDistance_31": 0, "sum__auto_computed_batch_size_predict": 32, "sum___wandb#runtime": 11630, "sum__pred/valid_acc_7": 0.9974, "sum__train/train_runtime": 11056.6904, "sum__computed_per_device_eval_batch_size": 32, "sum__eval/f1": 0.7562, "sum__pred/test_acc_27": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_6": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__pred/valid_samples_per_second": 44.928, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "1d3e9b3c85264f206e30b0ac16bcc110a41f850fb72fe7d7f9e8a8e1b61a813d", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_1d3e9b3c85264f206e30.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8062, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__pred/test_acc_36": 0, "sum__train/total_flos": 1.2680741464930714e+17, "sum__pred/valid_acc_17": 0.9975, "sum__num_trainable_params": 109607040, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__pred/valid_acc_20": 0.9973, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_runtime": 166.8005, "sum__eval/steps_per_second": 1.408, "sum__train/acc": 0.3919, "sum__pred/test_acc": 0.6197, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_15": 0, "sum__train/train_steps_per_second": 3.618, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_editDistance_40": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__train/f1": 0.5631, "sum__train/global_step": 0, "sum__pred/test_acc_31": 0, "sum__pred/test_seq_acc": 0.0574, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_16": 0, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___step": 4146, "sum__pred/test_acc_21": 0.932, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_overall": 0, "sum___timestamp": 1679283769, "sum__train/recall": 1, "sum__pred/valid_acc_11": 0.9976, "sum__pred/valid_editDistance_2": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_051ddc25a1f83967d6a1.table.json", "sum__evaluated_acc/test/plot_table#size": 325, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "051ddc25a1f83967d6a16adfe9fcaa3d601c7590578b7d3808b67d2ab062a4f4", "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_3": 1, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_10": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_bbf48233062c0221f7ba.table.json", "sum__evaluated_acc/valid/plot_table#size": 321, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "bbf48233062c0221f7bab730488604cfcbeaf3f53827755b325b71fc593b77f9", "sum__train/precision": 0.3919, "sum__pred/valid_acc_overall": 0.9991, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_samples_per_second": 41.059, "sum__auto_computed_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 108887, "sum__pred/test_acc_22": 0.216, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_precision": 0.6082, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_acc_8": 0.9973, "sum__pred/valid_acc_18": 0.9976, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_14": 0, "sum__eval/acc": 0.9297, "sum__pred/valid_loss": 0.0004240281705278903, "sum__num_total_params": 137927808, "sum__pred/valid_acc_16": 1, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_18": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__pred/valid_f1": 0.7562, "sum__train/seq_acc": 1, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_steps_per_second": 1.409, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__pred/valid_acc_10": 0.9974, "sum__train/gen_max_length": 256, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_26": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_agg_146317", "created_at": "2023-03-20T10:27:30", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum___wandb#runtime": 101, "sum___runtime": 23, "sum___timestamp": 1679307936, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-28000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_2_146317", "created_at": "2023-03-20T10:27:20", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 95, "sum___runtime": 23, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-28000", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum___timestamp": 1679307610, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_agg_256788", "created_at": "2023-03-20T10:27:10", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___timestamp": 1679307713, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum__computed_num_process": 1, "sum___wandb#runtime": 104, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 24, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_234054", "created_at": "2023-03-20T10:17:59", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___wandb#runtime": 66, "sum___runtime": 19, "sum___timestamp": 1679307222, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3__146317", "created_at": "2023-03-20T10:17:35", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/recall": 1, "sum__pred/valid_acc": 0.9299, "sum__pred/test_acc_37": 0, "sum__pred/valid_loss": 4.087331944901962e-06, "sum__eval/steps_per_second": 1.394, "sum__pred/valid_steps_per_second": 1.408, "sum__pred/test_acc_33": 0, "sum__train/gen_max_length": 256, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_4": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__pred/test_f1": 0.0366, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_30": 0, "sum__pred/valid_editDistance_overall": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_3006bc3c84396cf74f31.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7660, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "3006bc3c84396cf74f31b7d0fc2de8c5975ec9f44bb9348e9bfdaa2b3ee059b4", "sum__train/f1": 0.5782, "sum__pred/valid_seq_acc": 1, "sum__auto_computed_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107321, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__train/loss": 0, "sum__pred/test_acc_27": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_20": 1, "sum__pred/valid_editDistance_17": 0, "sum__train/epoch": 25.59, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_9": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__num_total_params": 137927808, "sum__pred/test_seq_acc": 0, "sum__pred/valid_acc_18": 1, "sum__pred/test_acc_34": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_5": 1, "sum__train/global_step": 0, "sum__train/learning_rate": 1e-07, "sum__eval/runtime": 168.5308, "sum__train/seq_acc": 1, "sum__eval/precision": 0.6085, "sum__pred/valid_num_samples": 7494, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "cbe3c74f7c24144b98801c7d620b3028897d81bb2339865325b8cf2499e6a189", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_cbe3c74f7c24144b9880.table.json", "sum__evaluated_acc/test/table#size": 6029129, "sum__evaluated_acc/test/table#_type": "table-file", "sum__pred/valid_editDistance_11": 0, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__eval/recall": 1, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_19": 0, "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__train/train_loss": 0.2416073618563758, "sum__pred/valid_acc_overall": 1, "sum__pred/test_editDistance_25": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__pred/test_acc_22": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_steps_per_second": 1.333, "sum__train/train_steps_per_second": 3.659, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "6c9d25a880a0c2f3e490a77c620c1eec00bfaf901a567ac1d5fe3d3d56823d7d", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_6c9d25a880a0c2f3e490.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_12": 1, "sum__train/train_runtime": 10932.6484, "sum__pred/valid_acc_14": 1, "sum__pred/valid_editDistance_3": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__pred/valid_acc_8": 1, "sum__pred/test_acc_overall": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_10": 1, "sum__pred/test_precision": 0.0338, "sum__pred/valid_editDistance_5": 0, "sum___runtime": 11494, "sum__eval/loss": 1.0722443448685226e-06, "sum__train/precision": 0.4067, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_samples_per_second": 44.885, "sum__pred/test_editDistance_overall": 0, "sum__pred/valid_acc_3": 1, "sum__train/total_flos": 1.2681315631344845e+17, "sum__pred/test_editDistance_35": 0, "sum__num_train_samples": 100000, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_23": 0, "sum___wandb#runtime": 11495, "sum__pred/test_loss": 10.647404670715332, "sum__pred/test_acc_21": 0, "sum__evaluated_acc/valid/table#sha256": "041c2509b90d15f9a08e0c35f67ac164acc53cadb8eb5c567caed69ae96525e5", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_041c2509b90d15f9a08e.table.json", "sum__evaluated_acc/valid/table#size": 2204965, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__pred/test_editDistance_38": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_8": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__pred/test_acc_28": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_19": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_28": 0, "sum___step": 4146, "sum__train/acc": 0.4067, "sum__eval/seq_acc": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__pred/test_runtime": 234.8801, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_36": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__eval/f1": 0.7566, "sum__pred/test_acc": 0.6022, "sum__pred/valid_acc_6": 1, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_acc_16": 1, "sum__pred/valid_runtime": 166.9616, "sum__pred/valid_precision": 0.6085, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_15": 1, "sum___timestamp": 1679306858, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_7": 0, "sum__eval/acc": 0.9299, "sum__pred/valid_acc_11": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_15": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__pred/valid_f1": 0.7566, "sum__pred/test_recall": 0.04, "sum__eval/samples_per_second": 44.467, "sum__train/train_samples_per_second": 234.161, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_13": 1, "sum__pred/test_samples_per_second": 42.575, "sum__pred/test_editDistance_30": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__pred/valid_acc_17": 1, "sum__computed_num_process": 1, "sum__pred/test_editDistance_22": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_234054", "created_at": "2023-03-20T10:17:25", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum___wandb#runtime": 82, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679306984, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___runtime": 19, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3__256788", "created_at": "2023-03-20T10:17:00", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum___runtime": 11420, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_4": 0, "sum__num_train_samples": 100000, "sum__pred/valid_acc_13": 1, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_e098e22e7855f4958d8d.table.json", "sum__evaluated_acc/test/table#size": 6055150, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "e098e22e7855f4958d8dc2373e3d97cc1a2f167edae6799729cca53ad2f2b2b3", "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_samples_per_second": 45.617, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__pred/test_acc_27": 0, "sum__pred/test_acc_32": 0, "sum__pred/valid_recall": 1, "sum__train/train_runtime": 10838.7084, "sum__pred/test_steps_per_second": 1.315, "sum__pred/test_acc_33": 0, "sum__pred/test_runtime": 238.0508, "sum__pred/valid_acc_11": 1, "sum__train/global_step": 0, "sum__pred/valid_seq_acc": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__pred/test_editDistance_32": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc": 0.6079, "sum__pred/valid_loss": 2.632453970363713e-06, "sum__pred/test_acc_28": 0, "sum__train/total_flos": 1.2680741464930714e+17, "sum__pred/valid_num_samples": 7494, "sum__pred/test_f1": 0.0563, "sum__pred/test_acc_21": 0, "sum__train/train_loss": 0.24078350867205223, "sum__pred/test_editDistance_overall": 0, "sum___step": 4146, "sum__eval/samples_per_second": 45.652, "sum__pred/valid_acc_6": 1, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_18": 0, "sum__eval/precision": 0.6086, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_20": 0, "sum__train/precision": 0.3919, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_9": 1, "sum__pred/valid_editDistance_13": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__pred/valid_editDistance_15": 0, "sum__auto_computed_batch_size_predict": 32, "sum__train/loss": 0, "sum__pred/valid_f1": 0.7567, "sum__pred/valid_acc_10": 1, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_24": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_7": 0, "sum__train/train_samples_per_second": 236.191, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__pred/test_acc_31": 0, "sum__pred/test_seq_acc": 0, "sum__pred/valid_acc_14": 1, "sum__pred/valid_editDistance_9": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_7e0992967c4c80798703.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "7e0992967c4c807987036894bba4b5ee282492a781957c1b921953f6349a1c4e", "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_5": 0, "sum__train/train_steps_per_second": 3.69, "sum__train/epoch": 25.59, "sum__pred/valid_acc": 0.9298, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_overall": 1, "sum__pred/test_editDistance_21": 0, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_precision": 0.6086, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__pred/test_loss": 10.046472549438477, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_30": 0, "sum__num_trainable_params": 109607040, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum___wandb#runtime": 11421, "sum__pred/test_acc_22": 0, "sum__pred/valid_editDistance_19": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__eval/acc": 0.9298, "sum___timestamp": 1679283757, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_37": 0, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__pred/valid_acc_20": 1, "sum__pred/valid_runtime": 164.2801, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_39": 0, "sum__eval/seq_acc": 1, "sum__pred/valid_acc_16": 1, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_23": 0, "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__pred/test_editDistance_28": 0, "sum__pred/test_samples_per_second": 42.008, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_18": 1, "sum__pred/test_acc_overall": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_2d7af3c27f594e28745d.table.json", "sum__evaluated_acc/valid/table#size": 2209325, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "2d7af3c27f594e28745df9fa39e4833d5ca8efda53c34eec0bff075b8290845e", "sum__train/recall": 1, "sum__pred/valid_acc_8": 1, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_3": 0, "sum__num_total_params": 137927808, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_editDistance_8": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__pred/valid_steps_per_second": 1.43, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_24": 0, "sum__pred/test_precision": 0.0518, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_acc_19": 1, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_35": 0, "sum__eval/recall": 1, "sum__train/seq_acc": 1, "sum__pred/test_acc_34": 0, "sum__pred/test_acc_36": 0, "sum__pred/test_recall": 0.0616, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_acc_25": 0, "sum__eval/runtime": 164.1541, "sum__computed_num_process": 1, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_overall": 0, "sum__eval/loss": 1.0032597401732346e-06, "sum__pred/test_editDistance_36": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_16": 0, "sum__train/f1": 0.5631, "sum__auto_computed_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.PREDICTION#size": 106151, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_4dffa90e6aa60d570637.table.json", "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "32dd20a082d5feebefaad336cba0db4126db13ca1e13a421a4d8cb35529cbf55", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_32dd20a082d5feebefaa.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7721, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_12": 1, "sum__eval/steps_per_second": 1.432, "sum__eval/f1": 0.7567, "sum__train/acc": 0.3919, "sum__pred/valid_acc_4": 1, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_256788", "created_at": "2023-03-20T10:16:49", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 60, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum___runtime": 16, "sum___timestamp": 1679307153}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_256788", "created_at": "2023-03-20T10:16:40", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___wandb#runtime": 94, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___runtime": 31, "sum___timestamp": 1679306896, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_146317", "created_at": "2023-03-20T10:16:30", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 17, "sum___timestamp": 1679307069, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum___step": 8, "sum___wandb#runtime": 80, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_146317", "created_at": "2023-03-20T10:16:19", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum___timestamp": 1679307291, "sum___wandb#runtime": 60, "sum___runtime": 17, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3__234054", "created_at": "2023-03-20T10:15:53", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_f1": 0.0426, "sum__pred/valid_f1": 0.7568, "sum__eval/runtime": 166.5792, "sum__pred/test_acc_overall": 0, "sum__evaluated_acc/valid/table#sha256": "0b651ca739c73298c64988ec7da7d447a4b0be47c5d962e8c57bbdc932a7a482", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_0b651ca739c73298c649.table.json", "sum__evaluated_acc/valid/table#size": 2220069, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/test_steps_per_second": 0.942, "sum__pred/valid_acc_7": 1, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_9": 1, "sum__eval/samples_per_second": 44.988, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_27": 0, "sum__pred/test_precision": 0.039, "sum__eval/acc": 0.9296, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_12": 1, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_loss": 3.623182919909595e-06, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_13": 1, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_acc_23": 0, "sum__pred/test_editDistance_31": 0, "sum__eval/precision": 0.6088, "sum__pred/test_acc_38": 0, "sum__num_trainable_params": 109607040, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__pred/test_acc_36": 0, "sum__computed_num_process": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_steps_per_second": 1.425, "sum__pred/test_editDistance_overall": 0, "sum__pred/valid_acc_19": 1, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__train/train_loss": 0.2410785315417561, "sum__pred/test_editDistance_35": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__train/train_samples_per_second": 234.529, "sum___step": 4146, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_6": 1, "sum__eval/loss": 1.2314734476603917e-06, "sum__train/seq_acc": 1, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_overall": 1, "sum__train/recall": 1, "sum__pred/valid_acc_8": 1, "sum__train/total_flos": 1.2680591398708838e+17, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_5": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_samples_per_second": 45.446, "sum__computed_per_device_eval_batch_size": 32, "sum__train/f1": 0.576, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "4988761410031d078bf07f9732e9422184083698737b6d0ab121b5a6b00e78a3", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4988761410031d078bf0.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 103397, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__train/train_runtime": 10915.4738, "sum__pred/valid_acc_17": 1, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_acc": 0.9296, "sum__pred/test_editDistance_24": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_16": 1, "sum__pred/valid_editDistance_11": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___timestamp": 1679295355, "sum__pred/valid_acc_18": 1, "sum__pred/valid_precision": 0.6088, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_14": 0, "sum__num_total_params": 137927808, "sum__train/precision": 0.4045, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_11": 1, "sum__pred/test_editDistance_23": 0, "sum___wandb#runtime": 11595, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_9": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc_35": 0, "sum___runtime": 11592, "sum__eval/recall": 1, "sum__pred/test_acc_25": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/test_samples_per_second": 30.094, "sum__eval/f1": 0.7568, "sum__train/learning_rate": 1e-07, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_36": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_19": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__pred/test_seq_acc": 0, "sum__eval/seq_acc": 1, "sum__pred/test_acc_21": 0, "sum__pred/test_acc_24": 0, "sum__pred/valid_runtime": 164.8978, "sum__train/epoch": 25.59, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/train_steps_per_second": 3.665, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_seq_acc": 1, "sum__train/loss": 0, "sum__pred/test_acc": 0.6027, "sum__pred/test_editDistance_34": 0, "sum__auto_computed_batch_size_predict": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__train/acc": 0.4045, "sum__pred/test_acc_32": 0, "sum__pred/test_recall": 0.047, "sum__pred/test_runtime": 332.2951, "sum__pred/valid_acc_14": 1, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_31": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__pred/valid_acc_3": 1, "sum__train/global_step": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_26": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_acc_20": 1, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_recall": 1, "sum__eval/steps_per_second": 1.411, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_loss": 9.980664253234863, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "da63732376a2012b9aa6a811cd13846610761da6c1bf236253623030d93b7c34", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_da63732376a2012b9aa6.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7694, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__pred/test_editDistance_40": 0, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "f0b3b578d370b6f08cff6b78d7e0896ab124b6897c6221eef3837dd198717ccd", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_f0b3b578d370b6f08cff.table.json", "sum__evaluated_acc/test/table#size": 6116681, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_13": 0, "sum__num_train_samples": 100000}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_agg_256788", "created_at": "2023-03-20T07:34:43", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___runtime": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum___wandb#runtime": 435, "sum___timestamp": 1679296180}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_2_146317", "created_at": "2023-03-20T07:34:32", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___runtime": 25, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 94, "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___timestamp": 1679296074, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab__146317", "created_at": "2023-03-20T07:34:02", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_acc_2": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_27": 0.2, "sum__pred/test_editDistance_30": 2, "sum__pred/valid_editDistance_8": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__pred/test_acc_39": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_seq_acc": 0.9987, "sum__train/train_steps_per_second": 5.626, "sum__pred/valid_editDistance_13": 0, "sum__eval/loss": 0.00034867905196733773, "sum__eval/runtime": 77.6866, "sum__pred/test_acc_25": 0.032, "sum__computed_num_process": 1, "sum__eval/samples_per_second": 96.465, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107321, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_29": 1, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_15": 0, "sum__train/f1": 0.5782, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_39": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_22": 0.968, "sum__pred/test_acc_30": 0, "sum__pred/test_recall": 0.1789, "sum__pred/valid_acc_3": 1, "sum__pred/test_seq_acc": 0.1587, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_editDistance_overall": 0.59, "sum__eval/seq_acc": 0.9987, "sum__pred/test_loss": 2.4294092655181885, "sum__pred/valid_acc_5": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_overall": 0, "sum___wandb#runtime": 7533, "sum___runtime": 7532, "sum__pred/test_acc_21": 0.982, "sum__eval/steps_per_second": 3.025, "sum__train/recall": 1, "sum__pred/valid_acc": 0.9298, "sum__pred/test_acc_36": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_7": 0, "sum__eval/f1": 0.7561, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_13": 0.9975, "sum__pred/test_editDistance_31": 2.2, "sum__pred/valid_num_samples": 7494, "sum___timestamp": 1679295816, "sum__pred/valid_f1": 0.7561, "sum__pred/valid_loss": 0.00034867905196733773, "sum__pred/test_acc_26": 0, "sum__train/train_runtime": 7109.3536, "sum__num_trainable_params": 109607040, "sum__pred/valid_precision": 0.6081, "sum__pred/valid_editDistance_11": 0, "sum__computed_per_device_train_batch_size": 64, "sum__num_total_params": 137927808, "sum__pred/test_precision": 0.1272, "sum__train/gen_max_length": 256, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_6": 0, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_15": 0.9948, "sum__pred/valid_runtime": 76.7512, "sum__pred/test_acc": 0.6386, "sum__pred/test_acc_38": 0, "sum__auto_computed_batch_size_predict": 32, "sum___step": 4146, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_acc_20": 0.9975, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_steps_per_second": 3.062, "sum__eval/acc": 0.9298, "sum__train/acc": 0.4067, "sum__pred/test_editDistance_37": 0.4, "sum__evaluated_acc/test/table#sha256": "55a2a0b5359820454ada32b69590a157f14c7e6021ef9b07737a295670ccfd9b", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_55a2a0b5359820454ada.table.json", "sum__evaluated_acc/test/table#size": 6910665, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_18": 0.9952, "sum__train/global_step": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f3e8145cf006098a5df3.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f3e8145cf006098a5df3662b0fd3557e0e61d9e14618524c40ca09dc250db8d2", "sum__pred/test_acc_32": 0, "sum__pred/test_runtime": 151.749, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_samples_per_second": 97.64, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "eed6b0f24943a16dbb7fad08382b475cfa1e7482bcbdbc1d45e654c5d14afecc", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_eed6b0f24943a16dbb7f.table.json", "sum__evaluated_acc/valid/plot_table#size": 321, "sum__eval/recall": 0.9993, "sum__train/epoch": 25.59, "sum__pred/test_acc_overall": 0.1587, "sum__pred/test_editDistance_35": 0.8, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "0b03e94654688b2b11d6ed277246048c6b761fa8fa83a687ff65587135d2fd81", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_0b03e94654688b2b11d6.table.json", "sum__evaluated_acc/test/plot_table#size": 330, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__pred/valid_acc_19": 1, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "da8aa5ab2480fb662e312d98373d30b10d5df34cca76cdf1f0e426109e3dcbb7", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_da8aa5ab2480fb662e31.table.json", "sum__evaluated_acc/valid/table#size": 2204887, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/loss": 0.0004, "sum__pred/test_f1": 0.1486, "sum__pred/test_acc_31": 0, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_34": 1.2, "sum__pred/test_samples_per_second": 65.898, "sum__train/train_loss": 0.32959060107481203, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_28": 0.4, "sum__pred/test_editDistance_33": 1.8, "sum__pred/test_editDistance_36": 0.2, "sum__pred/valid_editDistance_5": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__eval/precision": 0.6081, "sum__pred/valid_acc_16": 0.9946, "sum__pred/valid_recall": 0.9993, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_17": 0, "sum__train/precision": 0.4067, "sum__pred/valid_acc_17": 0.9975, "sum__pred/test_steps_per_second": 2.063, "sum__train/train_samples_per_second": 360.089, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_24": 0.312, "sum__pred/valid_acc_overall": 0.9987, "sum__pred/test_editDistance_21": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_12": 1, "sum__pred/test_acc_23": 0.88, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__train/seq_acc": 1, "sum__num_train_samples": 100000, "sum__auto_computed_batch_size": 64, "sum__pred/valid_acc_9": 1, "sum__train/total_flos": 1.2681315631344845e+17, "sum__pred/valid_acc_10": 0.9974, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "cb331562424bb60cdb83b7a63654d2376a45cbf5ed1e51a4bb2eff0c28d301ed", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_cb331562424bb60cdb83.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8255, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__pred/test_editDistance_32": 1.6, "sum__pred/valid_editDistance_20": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_agg_146317", "created_at": "2023-03-20T07:33:52", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___runtime": 35, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum___wandb#runtime": 470, "sum___timestamp": 1679297102, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_agg_234054", "created_at": "2023-03-20T07:33:40", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___runtime": 35, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___wandb#runtime": 469, "sum___timestamp": 1679296624, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_2_256788", "created_at": "2023-03-20T07:33:30", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___wandb#runtime": 110, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___timestamp": 1679295865, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum___runtime": 39, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab__234054", "created_at": "2023-03-20T07:33:02", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_38": 0.4, "sum___runtime": 8104, "sum__pred/valid_acc_5": 1, "sum__train/train_loss": 0.33037913981990424, "sum__pred/valid_acc_17": 0.9976, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_11": 0, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__pred/test_acc_33": 0, "sum__pred/test_acc_36": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_29": 1.6, "sum__pred/valid_acc_16": 1, "sum__computed_num_process": 1, "sum__pred/test_samples_per_second": 21.334, "sum__train/train_steps_per_second": 5.596, "sum__pred/valid_loss": 0.00022527908731717616, "sum__pred/valid_acc_2": 1, "sum__pred/test_editDistance_32": 3.2, "sum__pred/test_editDistance_34": 1.8, "sum__pred/valid_editDistance_15": 0, "sum__auto_computed_batch_size_predict": 32, "sum__num_total_params": 137927808, "sum__pred/test_acc_25": 0.014, "sum__pred/valid_editDistance_12": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__train/train_runtime": 7148.2608, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_steps_per_second": 2.965, "sum__train/f1": 0.576, "sum__pred/valid_acc_9": 0.9975, "sum__pred/test_acc_24": 0.33, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_35": 1.6, "sum__pred/test_acc": 0.5523, "sum__pred/test_acc_22": 0.938, "sum___step": 4146, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_loss": 2.401978015899658, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_13": 0.9974, "sum__pred/test_editDistance_31": 3.2, "sum__pred/test_editDistance_33": 2.2, "sum__pred/valid_editDistance_19": 0, "sum___timestamp": 1679288274, "sum__eval/runtime": 77.6954, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_12": 1, "sum__pred/valid_recall": 0.9996, "sum__pred/test_acc_overall": 0.1554, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/test_f1": 0.1162, "sum__eval/precision": 0.6086, "sum__pred/test_editDistance_30": 2.2, "sum__pred/valid_editDistance_17": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__train/epoch": 25.59, "sum__pred/test_acc_21": 0.96, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_31d9353efbadfb82e1b5.table.json", "sum__evaluated_acc/valid/table#size": 2219986, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "31d9353efbadfb82e1b5a4e97fc0181f01bb81ee7fcd1fd2371d95094995d78a", "sum__pred/valid_editDistance_10": 0, "sum__train/seq_acc": 1, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_24": 0, "sum__eval/loss": 0.00040219543734565377, "sum__pred/test_acc_40": 0, "sum__pred/valid_precision": 0.6086, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_25": 0, "sum__train/loss": 0.0001, "sum__train/learning_rate": 1e-07, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_18": 0.9946, "sum__pred/test_steps_per_second": 0.668, "sum__pred/valid_editDistance_14": 0, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 103397, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__eval/seq_acc": 0.9975, "sum__pred/valid_acc": 0.9296, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__pred/test_editDistance_21": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_fc0f5cdf690d08b2c5a7.table.json", "sum__evaluated_acc/valid/plot_table#size": 324, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "fc0f5cdf690d08b2c5a7b1bc350e7b9db37faf6957c19b360469932202017ddc", "sum___wandb#runtime": 8105, "sum__train/global_step": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_39": 0.6, "sum__pred/valid_editDistance_3": 0, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "107f0d710e66ff035847cd17415237332dbdfce323e808c8dc9c5a304e7ba920", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_107f0d710e66ff035847.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__pred/test_seq_acc": 0.1554, "sum__pred/valid_runtime": 79.2559, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_15": 0.9972, "sum__pred/valid_acc_20": 0.9852, "sum__pred/valid_seq_acc": 0.9977, "sum__train/recall": 1, "sum__train/precision": 0.4045, "sum__train/total_flos": 1.2680591398708838e+17, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_16": 0, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__pred/test_recall": 0.1611, "sum__pred/valid_acc_6": 1, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_7": 1, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_overall": 0, "sum__eval/f1": 0.7566, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_38": 0, "sum__train/gen_max_length": 256, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_34": 0, "sum__pred/test_runtime": 468.7279, "sum__num_trainable_params": 109607040, "sum__eval/steps_per_second": 3.025, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_36": 1, "sum__pred/test_editDistance_40": 0.4, "sum__eval/acc": 0.9296, "sum__pred/valid_acc_8": 1, "sum__train/train_samples_per_second": 358.129, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_11": 1, "sum__pred/test_editDistance_overall": 1.01, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/test_precision": 0.0909, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_editDistance_7": 0, "sum__evaluated_acc/valid/during_training_table#sha256": "6212e6b1210ff0f48c45d063233d66aa0e5b64ae37f9be378f8983a94f1c09a9", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_6212e6b1210ff0f48c45.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8274, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__pred/test_editDistance_37": 1.8, "sum__pred/valid_editDistance_5": 0, "sum__eval/samples_per_second": 96.454, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_34d641b290bdd99e5748.table.json", "sum__evaluated_acc/test/table#size": 7418250, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "34d641b290bdd99e5748142cc0666012d9550ee39a3073e2ff1fccfa880f9b92", "sum__pred/test_editDistance_23": 0, "sum__train/acc": 0.4045, "sum__pred/valid_acc_19": 0.9903, "sum__pred/test_editDistance_28": 0.2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "135b047fd880d10446940f9adbd306a8514f846562354945361ba6999f407502", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_135b047fd880d1044694.table.json", "sum__evaluated_acc/test/plot_table#size": 329, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__pred/valid_samples_per_second": 94.554, "sum__pred/test_acc_23": 0.866, "sum__pred/valid_acc_overall": 0.9977, "sum__pred/test_acc_29": 0, "sum__eval/recall": 0.9996, "sum__pred/valid_f1": 0.7566}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_2_234054", "created_at": "2023-03-20T07:32:50", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___timestamp": 1679295970, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum___runtime": 28, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum___wandb#runtime": 102, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab__256788", "created_at": "2023-03-20T07:32:24", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/recall": 0.9992, "sum__train/recall": 1, "sum__pred/test_acc_28": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__pred/test_editDistance_29": 3.6, "sum___wandb#runtime": 7820, "sum__pred/test_editDistance_32": 0.8, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_17": 0, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__eval/runtime": 80.6832, "sum__pred/test_seq_acc": 0.106, "sum__pred/test_precision": 0.1194, "sum__pred/test_steps_per_second": 1.899, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_acc_21": 0.964, "sum__pred/valid_seq_acc": 0.9971, "sum__train/learning_rate": 1e-07, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__pred/test_editDistance_overall": 0.56, "sum__train/epoch": 25.59, "sum__pred/test_acc_27": 0, "sum__train/train_loss": 0.32962704229119116, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_25": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 106151, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__pred/valid_loss": 0.0005077459500171244, "sum__pred/valid_acc_7": 0.9974, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_10": 0, "sum__train/train_steps_per_second": 5.444, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__eval/acc": 0.9297, "sum__pred/valid_acc_14": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_35": 0.2, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_acc_22": 0.852, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_38": 0, "sum__pred/test_acc_25": 0, "sum__train/train_runtime": 7347.6201, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "c0bd22d2e5fe7983dc00f5e9f72beb7f183633224d1abbc81d3ad138bd35d4eb", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_c0bd22d2e5fe7983dc00.table.json", "sum__evaluated_acc/test/table#size": 6792812, "sum__pred/valid_acc_11": 0.9929, "sum__pred/test_acc": 0.6355, "sum__pred/test_acc_29": 0, "sum__pred/valid_precision": 0.608, "sum__pred/test_editDistance_31": 1, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_13": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__eval/f1": 0.7561, "sum__pred/test_acc_34": 0, "sum__pred/test_editDistance_26": 0.4, "sum__pred/valid_editDistance_3": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_0fec57b38cda9b9cbd43.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8249, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "0fec57b38cda9b9cbd43402ad85b2625e4c492cb563fa4fbfd169b661812682b", "sum__pred/test_acc_33": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_recall": 0.167, "sum__pred/test_loss": 2.6538445949554443, "sum__pred/test_acc_23": 0.268, "sum__pred/valid_acc_8": 0.9946, "sum__num_train_samples": 100000, "sum__pred/test_runtime": 164.7892, "sum__pred/valid_editDistance_14": 0, "sum__auto_computed_grad_acc_steps": 1, "sum___timestamp": 1679280158, "sum__train/acc": 0.3919, "sum__eval/steps_per_second": 2.913, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_3d9723db5c318fa9e0d5.table.json", "sum__evaluated_acc/valid/table#size": 2209210, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "3d9723db5c318fa9e0d524aee533e7916f95e443618446df5aa091c148ee08a0", "sum__pred/test_editDistance_34": 0.2, "sum__pred/valid_acc_6": 1, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_19": 0.9973, "sum__pred/valid_acc_20": 0.9783, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "1e354dd17824f9337c33a71c699cc59cef845646b7f74851cd5dd8f2ad9f1eed", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_1e354dd17824f9337c33.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__train/f1": 0.5631, "sum__eval/precision": 0.6081, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_23": 0, "sum___runtime": 7819, "sum__eval/seq_acc": 0.9971, "sum__pred/valid_acc": 0.9297, "sum__pred/valid_acc_16": 0.9974, "sum__pred/valid_acc_18": 0.9952, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__eval/loss": 0.0005203196778893471, "sum__pred/test_acc_31": 0, "sum__eval/samples_per_second": 92.882, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_4": 0, "sum__train/precision": 0.3919, "sum__pred/test_editDistance_40": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_recall": 0.999, "sum__pred/test_editDistance_39": 0, "sum___step": 4146, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_steps_per_second": 2.959, "sum__pred/valid_runtime": 79.418, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_samples_per_second": 60.684, "sum__auto_computed_batch_size_predict": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc_17": 0.9975, "sum__pred/test_f1": 0.1392, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_10": 0.9974, "sum__num_trainable_params": 109607040, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__train/loss": 0.0002, "sum__pred/valid_acc_13": 0.9976, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__train/seq_acc": 1, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_20": 0, "sum__train/train_samples_per_second": 348.412, "sum__pred/valid_acc_12": 1, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_30": 1.8, "sum__pred/valid_editDistance_6": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__pred/test_acc_32": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_9": 1, "sum__pred/valid_editDistance_18": 0, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "2b9c19d71136416b96aad64d4be808e0dc702c19a8f90fe1b9615fc96e1d4a36", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_2b9c19d71136416b96aa.table.json", "sum__evaluated_acc/test/plot_table#size": 328, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__num_total_params": 137927808, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_5": 0, "sum__train/global_step": 0, "sum__pred/valid_acc_15": 0.9975, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_f1": 0.7559, "sum__pred/valid_acc_2": 1, "sum__pred/test_acc_overall": 0.106, "sum__pred/test_num_samples": 10000, "sum__pred/valid_acc_overall": 0.9971, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__pred/test_editDistance_28": 2.2, "sum__pred/valid_samples_per_second": 94.361, "sum__pred/test_acc_24": 0.036, "sum__pred/test_editDistance_27": 0.8, "sum__pred/test_editDistance_33": 0.2, "sum__pred/valid_editDistance_8": 0, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "f821cb7f5d8db165b7e317b1e8c7bf5af791154eb42d2b406a69264f5d36264a", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_f821cb7f5d8db165b7e3.table.json", "sum__evaluated_acc/valid/plot_table#size": 333, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__train/total_flos": 1.2680741464930714e+17}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_2_256788", "created_at": "2023-03-20T07:17:26", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum___wandb#runtime": 60, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum___step": 8, "sum___runtime": 20, "sum___timestamp": 1679296213, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_agg_256788", "created_at": "2023-03-20T07:17:16", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 31, "sum___runtime": 16, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum___timestamp": 1679296398, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81__234054", "created_at": "2023-03-20T07:16:50", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_16": 1, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_2": 0, "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_4": 1, "sum__train/train_loss": 0.25118440228043476, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc_29": 0, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_3": 0, "sum__train/train_samples_per_second": 387.011, "sum__computed_per_device_train_batch_size": 64, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc": 0.9296, "sum__train/precision": 0.4045, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_3": 1, "sum__pred/test_editDistance_overall": 0, "sum__train/acc": 0.4045, "sum__pred/test_acc_33": 0, "sum__pred/test_seq_acc": 0, "sum__pred/test_samples_per_second": 22.335, "sum__eval/runtime": 74.8826, "sum__pred/valid_editDistance_4": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_17": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_32": 0, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__eval/seq_acc": 0.9999, "sum__eval/samples_per_second": 100.077, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/test_acc_21": 0, "sum__train/recall": 1, "sum__pred/valid_acc_7": 1, "sum__train/total_flos": 1.2680591398708838e+17, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_12": 1, "sum__train/train_runtime": 6614.7999, "sum__pred/test_steps_per_second": 0.699, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_acc_36": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_18": 0, "sum__eval/precision": 0.6088, "sum__train/train_steps_per_second": 6.047, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_c9e3e85d1d168e00eb06.table.json", "sum__evaluated_acc/valid/plot_table#size": 303, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "c9e3e85d1d168e00eb060d347ff6f23343d79baf233800add757a88b2993dce1", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__pred/test_editDistance_40": 0, "sum__train/seq_acc": 1, "sum__pred/valid_acc_5": 1, "sum__num_train_samples": 100000, "sum__computed_num_process": 1, "sum__num_non_trainable_params": 40903680, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_25": 0, "sum__eval/f1": 0.7568, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__eval/acc": 0.9296, "sum___timestamp": 1679288771, "sum__pred/valid_acc_10": 1, "sum__eval/steps_per_second": 3.138, "sum__pred/valid_steps_per_second": 3.12, "sum___step": 4146, "sum__num_total_params": 150510720, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_2": 1, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_9": 0, "sum__eval/loss": 1.8919316062238067e-05, "sum__pred/test_acc_22": 0, "sum__pred/test_runtime": 447.7318, "sum__pred/valid_acc_overall": 0.9999, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_f1": 0.0146, "sum__pred/valid_acc_13": 1, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_20": 0, "sum__eval/recall": 1, "sum__pred/test_recall": 0.0229, "sum__pred/valid_acc_15": 1, "sum__pred/valid_runtime": 75.3106, "sum__pred/valid_seq_acc": 0.9999, "sum__pred/test_editDistance_37": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_editDistance_7": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_54269310bac39ff07db6.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8146, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "54269310bac39ff07db62658de0e0d69d1009982a900082eba7256740a9c44e3", "sum__train/epoch": 25.59, "sum__pred/valid_acc_18": 0.9973, "sum__pred/valid_recall": 1, "sum___runtime": 8040, "sum__pred/test_loss": 12.44986057281494, "sum__pred/valid_editDistance_15": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__train/f1": 0.576, "sum__pred/test_acc_25": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_loss": 1.8919316062238067e-05, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_27": 0, "sum__pred/test_precision": 0.0107, "sum__train/learning_rate": 1e-07, "sum___wandb#runtime": 8041, "sum__pred/test_acc_39": 0, "sum__pred/valid_precision": 0.6088, "sum__pred/test_acc_overall": 0, "sum__pred/test_editDistance_27": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_f1": 0.7568, "sum__pred/test_acc_23": 0, "sum__train/gen_max_length": 256, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__train/loss": 0.0005, "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_samples_per_second": 99.508, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_34": 0, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "03c00ad500dedd49c48bde92b44918ec7bccf4068eaa559ccb0200c0cf851212", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_03c00ad500dedd49c48b.table.json", "sum__evaluated_acc/valid/table#size": 2220062, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_11": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc": 0.4007, "sum__pred/valid_acc_20": 1, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "1a41961d5e64d82e49eb29ccc98d4d48f773cb0b8a2be858b191c1d3c8d7fe7c", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_1a41961d5e64d82e49eb.table.json", "sum__evaluated_acc/test/table#size": 9784160, "sum__evaluated_acc/test/table#_type": "table-file", "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_editDistance_12": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 103397, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__pred/valid_acc_6": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_38": 0, "sum__train/global_step": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81__146317", "created_at": "2023-03-20T07:16:23", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_recall": 0.0157, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_257bd4988bed8fd24420.table.json", "sum__evaluated_acc/valid/table#size": 2204964, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "257bd4988bed8fd24420825e57e655587b32e0445e24bc15938f1914689845dd", "sum__pred/test_editDistance_39": 0, "sum__computed_per_device_train_batch_size": 64, "sum__train/acc": 0.4067, "sum__pred/test_acc_36": 0, "sum__eval/steps_per_second": 3.153, "sum__num_non_trainable_params": 40903680, "sum__train/loss": 0.0006, "sum__pred/test_acc_22": 0, "sum__pred/valid_editDistance_4": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_29": 0, "sum__train/recall": 1, "sum__train/train_runtime": 6644.5195, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__eval/acc": 0.9299, "sum__train/f1": 0.5782, "sum__train/global_step": 0, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_18": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum___runtime": 7408, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_6": 1, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_f1": 0.7566, "sum__train/seq_acc": 1, "sum__pred/valid_precision": 0.6085, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_acc_30": 0, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "e1052f7ad14944eee67b74aa3439c775df129fd0c2269963250794d29c251266", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_e1052f7ad14944eee67b.table.json", "sum__evaluated_acc/valid/plot_table#size": 303, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_20": 1, "sum__pred/valid_loss": 4.4571344915311784e-05, "sum__pred/test_editDistance_38": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_ccae8b3d5bd8bfa17227.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8087, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "ccae8b3d5bd8bfa1722726f562f758f20a9613a3692ab6a3e7597a0090f11852", "sum__train/epoch": 25.59, "sum__pred/test_loss": 12.072596549987791, "sum__pred/test_editDistance_40": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_37": 0, "sum__eval/precision": 0.6085, "sum__pred/valid_acc_3": 1, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_bdbd274c59f14e79054d.table.json", "sum__evaluated_acc/test/table#size": 6352921, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "bdbd274c59f14e79054d29f2a1c7720a6ecaea1e6832c2e38ee1147c285da18d", "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_overall": 0, "sum___step": 4146, "sum__eval/f1": 0.7566, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_26": 0, "sum__train/train_steps_per_second": 6.02, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_9": 1, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_13": 0, "sum__eval/seq_acc": 0.9999, "sum__pred/test_acc": 0.5685, "sum__pred/valid_acc_5": 1, "sum__pred/test_runtime": 395.0199, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_20": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__eval/loss": 4.4571344915311784e-05, "sum__pred/test_acc_25": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_19": 0, "sum___timestamp": 1679296186, "sum__pred/valid_acc_16": 0.9973, "sum__pred/test_precision": 0.0126, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_5": 0, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__pred/valid_acc": 0.9299, "sum__pred/test_acc_37": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/valid_editDistance_2": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__pred/valid_acc_8": 1, "sum__pred/test_editDistance_28": 0, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_4": 1, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_16": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__eval/runtime": 74.5215, "sum__pred/test_acc_27": 0, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__train/precision": 0.4067, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_19": 1, "sum__pred/valid_acc_overall": 0.9999, "sum__auto_computed_grad_acc_steps": 1, "sum__eval/recall": 1, "sum__pred/test_f1": 0.0139, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_samples_per_second": 25.315, "sum__pred/valid_samples_per_second": 98.328, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "360a82727ce8d478c6e23f0d1a1b9d3c5435000aa6af07569a4c8a2d0a3cab0d", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_360a82727ce8d478c6e2.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__eval/samples_per_second": 100.562, "sum__pred/test_editDistance_36": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__train/train_samples_per_second": 385.28, "sum__pred/test_acc_24": 0, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_25": 0, "sum__pred/test_acc_33": 0, "sum__pred/test_seq_acc": 0.0007, "sum__pred/valid_seq_acc": 0.9999, "sum__pred/test_acc_overall": 0.0007, "sum__pred/test_steps_per_second": 0.792, "sum__pred/valid_editDistance_10": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_31": 0, "sum__train/total_flos": 1.2681315631344845e+17, "sum__pred/valid_steps_per_second": 3.083, "sum__num_total_params": 150510720, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_acc_38": 0, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107321, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__pred/valid_acc_18": 1, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_8": 0, "sum___wandb#runtime": 7409, "sum__pred/test_acc_21": 0.014, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_15": 1, "sum__pred/valid_acc_17": 1, "sum__pred/valid_runtime": 76.214, "sum__pred/valid_num_samples": 7494, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_10": 1, "sum__train/train_loss": 0.2581040256508451, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_7": 1}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_2_234054", "created_at": "2023-03-20T07:16:12", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 19, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum___timestamp": 1679296277, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum___wandb#runtime": 58, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_agg_234054", "created_at": "2023-03-20T07:16:01", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 16, "sum___timestamp": 1679296434, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___step": 8, "sum___wandb#runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_2_146317", "created_at": "2023-03-20T07:15:51", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 56, "sum__computed_num_process": 1, "sum___step": 8, "sum___timestamp": 1679296337, "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum___runtime": 16, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_agg_146317", "created_at": "2023-03-20T07:15:41", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679296471, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___wandb#runtime": 34, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum___runtime": 16, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81__256788", "created_at": "2023-03-20T07:15:13", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_steps_per_second": 0.702, "sum__pred/valid_editDistance_15": 0, "sum___runtime": 8388, "sum__pred/test_seq_acc": 0, "sum__evaluated_acc/test/table#sha256": "0ee0b9e1304a481e4092cf870a9919e6e573fca067f33aa8099567a28a371ca9", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_0ee0b9e1304a481e4092.table.json", "sum__evaluated_acc/test/table#size": 12115303, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_10": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__pred/test_acc_35": 0, "sum__pred/test_runtime": 446.1392, "sum__pred/test_acc_36": 0, "sum__eval/steps_per_second": 3.114, "sum__pred/valid_loss": 0.00010088840645039454, "sum__pred/test_acc_29": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_f1": 0.7566, "sum__pred/valid_acc_17": 0.9949, "sum__train/train_runtime": 6622.7591, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__pred/test_acc_31": 0, "sum__train/learning_rate": 1e-07, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_32": 0, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__pred/test_acc_27": 0, "sum__pred/test_recall": 0.033, "sum__num_non_trainable_params": 40903680, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_36": 0, "sum__train/epoch": 25.59, "sum__pred/test_acc_30": 0, "sum__pred/valid_editDistance_4": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_8ec88e76c0aff1f36d38.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8124, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "8ec88e76c0aff1f36d380d215dbc0aad8fb28340427536c393c96d6e0c21d19b", "sum__train/train_loss": 0.2538973999371723, "sum__pred/valid_acc_overall": 0.9993, "sum__pred/valid_editDistance_6": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__pred/valid_editDistance_20": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_38": 0, "sum__num_trainable_params": 109607040, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "cf9078747b07e0a6cb24ee9ecf7def587bb376909336f7eea0de188b4a85ec32", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_cf9078747b07e0a6cb24.table.json", "sum__evaluated_acc/valid/table#size": 2209305, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_18": 0.9976, "sum__pred/test_editDistance_33": 0, "sum__pred/test_acc_21": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/test_loss": 11.809825897216797, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_40": 0, "sum___timestamp": 1679280724, "sum__eval/precision": 0.6084, "sum__pred/test_samples_per_second": 22.415, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_precision": 0.6085, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__pred/valid_editDistance_5": 0, "sum__train/train_samples_per_second": 386.546, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_19": 0.9973, "sum__pred/test_acc_25": 0, "sum__eval/samples_per_second": 99.31, "sum__pred/test_acc": 0.2833, "sum__pred/test_acc_39": 0, "sum__pred/valid_steps_per_second": 3.106, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 106151, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__eval/recall": 0.9998, "sum__pred/test_f1": 0.0179, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_11": 0.9976, "sum__pred/valid_editDistance_overall": 0, "sum__eval/loss": 5.725722076022066e-05, "sum__train/precision": 0.3919, "sum__pred/valid_acc_20": 1, "sum__pred/valid_runtime": 75.6489, "sum__pred/valid_editDistance_12": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__eval/seq_acc": 0.9992, "sum__pred/valid_acc_12": 1, "sum__auto_computed_eval_batch_size": 32, "sum__num_total_params": 150510720, "sum__pred/valid_acc_4": 1, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_14": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__pred/valid_acc_16": 1, "sum__train/global_step": 0, "sum__pred/valid_editDistance_8": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/test_acc_28": 0, "sum__num_train_samples": 100000, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_7": 1, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_26": 0, "sum__train/total_flos": 1.2680741464930714e+17, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_editDistance_overall": 0, "sum__train/loss": 0.0002, "sum__pred/valid_acc": 0.9298, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_15": 1, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_editDistance_19": 0, "sum__eval/f1": 0.7565, "sum__pred/test_acc_24": 0, "sum__eval/runtime": 75.4606, "sum__pred/valid_recall": 0.9999, "sum__pred/valid_seq_acc": 0.9993, "sum__computed_num_process": 1, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__train/f1": 0.5631, "sum__train/acc": 0.3919, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_7": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__train/recall": 1, "sum__pred/test_acc_overall": 0, "sum__train/seq_acc": 1, "sum__pred/valid_acc_10": 1, "sum__eval/acc": 0.9298, "sum__train/gen_max_length": 256, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_9": 0, "sum__train/train_steps_per_second": 6.04, "sum__pred/test_acc_32": 0, "sum__pred/test_precision": 0.0122, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "ec2d36b23c882611353df281eda232f247b25a0a479c1216b5a53d6222972950", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_ec2d36b23c882611353d.table.json", "sum__evaluated_acc/valid/plot_table#size": 312, "sum__pred/valid_acc_13": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_samples_per_second": 99.063, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum___step": 4146, "sum__pred/valid_acc_6": 1}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_234054", "created_at": "2023-03-20T06:51:09", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___wandb#runtime": 69, "sum___timestamp": 1679293632, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum___runtime": 21, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_256788", "created_at": "2023-03-20T06:50:57", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum___step": 8, "sum___runtime": 16, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___wandb#runtime": 387, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum___timestamp": 1679293771, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034__146317", "created_at": "2023-03-20T06:50:55", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_12": 1, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_32": 18, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_16": 0, "sum__eval/precision": 0.608, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_33": 0, "sum__pred/test_recall": 0.1736, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_19": 0.9974, "sum__pred/test_num_samples": 10000, "sum__eval/f1": 0.7559, "sum__pred/valid_acc_14": 0.9975, "sum__pred/test_editDistance_overall": 17.78, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107357, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__pred/valid_acc_3": 1, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_16": 1, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_steps_per_second": 3.001, "sum__pred/valid_editDistance_overall": 0, "sum__eval/runtime": 79.6064, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_34": 29.8, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_acc_26": 0.05, "sum__pred/valid_acc_4": 1, "sum__pred/test_runtime": 141.1563, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_steps_per_second": 2.217, "sum__pred/test_acc_28": 0, "sum__train/seq_acc": 1, "sum__pred/valid_acc": 0.9298, "sum__pred/test_acc_24": 0.848, "sum__pred/valid_f1": 0.7561, "sum__pred/test_acc_21": 0.988, "sum__eval/steps_per_second": 2.952, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_bcf2808025acb32692ab.table.json", "sum__evaluated_acc/valid/table#size": 2257706, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "bcf2808025acb32692abea63410722910e5d4b4bc77b9f70fc4ce717398006a6", "sum__pred/test_editDistance_38": 41.4, "sum___runtime": 7118, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_samples_per_second": 95.7, "sum__train/recall": 1, "sum__pred/test_acc_31": 0, "sum__train/global_step": 0, "sum__pred/valid_runtime": 78.307, "sum__train/train_runtime": 6770.3844, "sum__eval/samples_per_second": 94.138, "sum__pred/test_editDistance_23": 0, "sum__train/acc": 0.4067, "sum__pred/valid_num_samples": 7494, "sum__eval/seq_acc": 0.9991, "sum__pred/test_acc": 0.6372, "sum__train/precision": 0.4067, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_28": 2, "sum__pred/test_editDistance_39": 46, "sum__pred/valid_editDistance_7": 0, "sum__eval/recall": 0.9991, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_7": 1, "sum__pred/test_acc_27": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc_overall": 0.9993, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_36": 42.2, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__pred/test_f1": 0.1453, "sum__pred/test_editDistance_31": 14, "sum__pred/test_editDistance_33": 26.6, "sum__train/train_steps_per_second": 5.908, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_3b44b39ea0d23f637607.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 332, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "3b44b39ea0d23f637607c73713875f282f683365f012da54793a60c190554f8b", "sum__train/epoch": 25.59, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__pred/valid_precision": 0.6081, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_10": 1, "sum__pred/test_editDistance_35": 31.4, "sum___timestamp": 1679293519, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_acc_25": 0.398, "sum__train/loss": 0.0001, "sum__pred/valid_acc_17": 1, "sum__pred/test_precision": 0.1249, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_29": 5.6, "sum__pred/valid_editDistance_4": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__eval/acc": 0.9298, "sum__eval/loss": 0.0002910741313826293, "sum__pred/test_acc_36": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__train/train_samples_per_second": 378.117, "sum___wandb#runtime": 7118, "sum__train/learning_rate": 1e-07, "sum__computed_num_process": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "f9dd05d977db40dad722d7c72d7b97fa6b30b39402479f08952fdbd30a91e869", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_f9dd05d977db40dad722.table.json", "sum__evaluated_acc/valid/plot_table#size": 312, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__pred/test_acc_38": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_40": 51.2, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_loss": 7.600258827209473, "sum__train/total_flos": 1.2681315631344845e+17, "sum__pred/valid_acc_15": 0.9974, "sum__pred/test_editDistance_24": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_20": 1, "sum__num_train_samples": 100000, "sum__pred/valid_seq_acc": 0.9993, "sum__evaluated_acc/test/table#size": 7408251, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "42ab1cdf765d55a4541442e6044cc66d90219a8229a525c3957465e6a465fdb0", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_42ab1cdf765d55a45414.table.json", "sum__pred/valid_editDistance_11": 0, "sum__pred/test_samples_per_second": 70.843, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__pred/valid_recall": 0.9993, "sum__pred/valid_editDistance_20": 0, "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ab1c6e09dbc5a543a3429c98ce443356cad3567759c642fabb33b3643045a1fd", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ab1c6e09dbc5a543a342.table.json", "sum__evaluated_acc/test/plot_table#size": 332, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_acc_13": 1, "sum__train/train_loss": 0.2567530767016171, "sum__pred/valid_editDistance_8": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/valid_loss": 0.00022326437465380877, "sum__pred/test_seq_acc": 0.2113, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_30": 10.8, "sum__pred/valid_editDistance_6": 0, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_08944f23e7e04b3c4f69.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8254, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "08944f23e7e04b3c4f69b2513794e0d866ee40ad988d73f74bf3798c0b8cb345", "sum__train/f1": 0.5782, "sum__pred/valid_acc_5": 1, "sum__pred/valid_editDistance_15": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum___step": 4146, "sum__pred/test_acc_22": 0.984, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_18": 0.9952, "sum__pred/test_acc_overall": 0.2113, "sum__pred/valid_editDistance_13": 0, "sum__num_total_params": 137927808, "sum__pred/test_editDistance_37": 36.6, "sum__pred/valid_editDistance_10": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__pred/test_acc_23": 0.958}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_146317", "created_at": "2023-03-20T06:50:47", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum___runtime": 16, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum___wandb#runtime": 64, "sum___timestamp": 1679293702, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_234054", "created_at": "2023-03-20T06:50:36", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 24, "sum___timestamp": 1679293627, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___wandb#runtime": 71, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034__256788", "created_at": "2023-03-20T06:50:31", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/runtime": 78.8096, "sum__train/recall": 1, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_15": 1, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_4": 0, "sum__eval/loss": 6.423841114155948e-06, "sum__pred/valid_acc_13": 1, "sum__pred/valid_samples_per_second": 93.474, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "7e0992967c4c807987036894bba4b5ee282492a781957c1b921953f6349a1c4e", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_7e0992967c4c80798703.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__train/gen_max_length": 256, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_290f9d6208dd77d425b1.table.json", "sum__evaluated_acc/test/table#size": 8036553, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "290f9d6208dd77d425b17e66a23d48bdcb09ceab5655bd5884660485108473ef", "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_36": 93.8, "sum__pred/valid_acc": 0.9298, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_32": 78.2, "sum__pred/valid_editDistance_20": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "bbbd10df2005c09c8e38a798095be3ea7c1e70f0960d15b272d24272b27b6c34", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_bbbd10df2005c09c8e38.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 335, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__pred/test_acc_34": 0, "sum__pred/test_runtime": 136.7144, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_38": 95.2, "sum__computed_per_device_train_batch_size": 64, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_d559d558a05d8a88b0ce.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8147, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "d559d558a05d8a88b0cec3abd404cbc3c773a07c262173abf89210df079b0b63", "sum__pred/test_loss": 9.552538871765137, "sum__pred/test_acc_23": 0.848, "sum__train/train_loss": 0.25692292634708574, "sum__pred/test_precision": 0.0879, "sum__pred/valid_acc_overall": 1, "sum__pred/test_editDistance_29": 41.2, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_11": 1, "sum__computed_num_process": 1, "sum___runtime": 7136, "sum__eval/acc": 0.9298, "sum__pred/test_acc_21": 0.992, "sum__pred/test_acc_26": 0, "sum__pred/valid_editDistance_5": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_f5cf1067649dfbc87891.table.json", "sum__evaluated_acc/test/plot_table#size": 329, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "f5cf1067649dfbc878911cadc94a7c35f2563737f20f75d088a77c45fdd9be7b", "sum__train/acc": 0.3919, "sum___timestamp": 1679279277, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "b87b382aa0f9d768ff8f0b1d8cbae8e3045d579c1683347c92ba0a43f1d5e64e", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_b87b382aa0f9d768ff8f.table.json", "sum__evaluated_acc/valid/table#size": 2258505, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_9": 1, "sum___wandb#runtime": 7137, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_10": 1, "sum__train/global_step": 0, "sum__eval/steps_per_second": 2.982, "sum__eval/samples_per_second": 95.09, "sum__pred/valid_editDistance_19": 0, "sum__train/f1": 0.5631, "sum__num_train_samples": 100000, "sum__pred/test_seq_acc": 0.1489, "sum__pred/valid_runtime": 80.1719, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_9": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__train/precision": 0.3919, "sum__pred/test_acc_28": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__pred/test_samples_per_second": 73.145, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 108887, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_f1": 0.7567, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_16": 1, "sum__pred/test_editDistance_28": 24.4, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_8": 0, "sum__train/train_samples_per_second": 377.597, "sum__pred/test_acc_22": 0.982, "sum__pred/valid_acc_6": 1, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_17": 1, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_25": 0.2, "sum__pred/test_editDistance_40": 98.6, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_11": 0, "sum__train/train_steps_per_second": 5.9, "sum__eval/recall": 1, "sum__eval/seq_acc": 1, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_33": 84.4, "sum__num_total_params": 137927808, "sum__pred/test_acc_29": 0, "sum__train/total_flos": 1.2680741464930714e+17, "sum__pred/test_steps_per_second": 2.289, "sum__pred/valid_editDistance_overall": 0, "sum__train/loss": 0, "sum__train/seq_acc": 1, "sum__pred/valid_loss": 8.769770829530898e-06, "sum__pred/test_acc_24": 0.156, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_18": 1, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_acc": 0.6231, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_21": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__pred/valid_precision": 0.6086, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__eval/precision": 0.6086, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_20": 1, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_editDistance_37": 94.6, "sum__pred/test_recall": 0.1195, "sum__pred/valid_acc_4": 1, "sum__pred/valid_recall": 1, "sum__train/train_runtime": 6779.7231, "sum__num_trainable_params": 109607040, "sum__pred/test_acc_overall": 0.1489, "sum__pred/test_editDistance_27": 10.6, "sum__pred/valid_editDistance_18": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__eval/f1": 0.7567, "sum__pred/test_acc_33": 0, "sum__pred/test_editDistance_26": 1.4, "sum__auto_computed_batch_size_predict": 32, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__pred/test_f1": 0.1013, "sum__pred/test_acc_40": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_31": 67.6, "sum__pred/test_editDistance_34": 86.4, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_steps_per_second": 2.931, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__pred/test_editDistance_35": 87.4, "sum__pred/test_editDistance_39": 96.2, "sum___step": 4146, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_14": 1, "sum__pred/valid_editDistance_6": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__pred/test_editDistance_overall": 50.89, "sum__train/epoch": 25.59, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_editDistance_30": 57.6, "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_14": 0, "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3__146317", "created_at": "2023-03-20T06:50:23", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/precision": 0.607, "sum__pred/test_loss": 0.518751859664917, "sum__pred/valid_recall": 0.9973, "sum__pred/valid_precision": 0.6069, "sum__pred/valid_samples_per_second": 97.156, "sum__pred/test_acc_38": 0, "sum__pred/test_precision": 0.2535, "sum__eval/steps_per_second": 3.053, "sum__pred/valid_editDistance_14": 0, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__train/loss": 0.0006, "sum__train/gen_max_length": 256, "sum__auto_computed_batch_size_predict": 32, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__pred/test_acc_32": 0.09, "sum__num_train_samples": 100000, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_6": 0, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__pred/valid_acc": 0.9296, "sum__pred/test_acc_28": 0.602, "sum__pred/test_acc_37": 0, "sum__pred/test_samples_per_second": 59.734, "sum__computed_per_device_eval_batch_size": 32, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__pred/test_acc_30": 0.294, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_20": 0.9874, "sum__pred/valid_num_samples": 7494, "sum__pred/test_acc_21": 0.994, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_10": 0.9974, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "b18d8292df7b61cac408a627b2599a1f3c4682171eb6b60b1bbd7044f2dfbda9", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_b18d8292df7b61cac408.table.json", "sum__evaluated_acc/test/table#size": 7309191, "sum__pred/test_editDistance_34": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__train/acc": 0.4067, "sum__pred/valid_loss": 0.0017042348627001047, "sum__pred/test_acc_23": 0.978, "sum__pred/valid_acc_8": 1, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_2": 0, "sum__train/recall": 1, "sum__pred/test_acc_33": 0.044, "sum__pred/valid_runtime": 77.134, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_33": 0, "sum__train/train_samples_per_second": 379.373, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_34": 0.014, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_26": 0.832, "sum__train/train_loss": 0.299313463342296, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_32": 0, "sum__evaluated_acc/valid/plot_table#size": 323, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "2accb367b0a5924a8c6ddfbd2658bd63e7864ee33b7a45ad0def111c1d370433", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_2accb367b0a5924a8c6d.table.json", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_9": 1, "sum__pred/valid_seq_acc": 0.9975, "sum__train/learning_rate": 1e-07, "sum__train/train_runtime": 6747.9848, "sum__pred/test_editDistance_24": 0, "sum__eval/recall": 0.9973, "sum__pred/valid_acc_15": 0.9921, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_10": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__train/global_step": 0, "sum__num_non_trainable_params": 28320768, "sum__eval/runtime": 76.9737, "sum__pred/test_recall": 0.3721, "sum__pred/valid_acc_11": 1, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_steps_per_second": 3.047, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_15": 0, "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum___runtime": 7120, "sum__pred/valid_f1": 0.7546, "sum__pred/valid_acc_16": 0.9946, "sum__pred/valid_acc_17": 0.9924, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_16": 0, "sum___step": 4146, "sum__num_total_params": 137927808, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_7": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_39": 0, "sum__eval/loss": 0.002058525802567601, "sum__pred/test_acc_29": 0.512, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_3": 0, "sum___timestamp": 1679293528, "sum__pred/test_runtime": 167.4085, "sum__pred/test_seq_acc": 0.4049, "sum__pred/valid_editDistance_19": 0, "sum__train/train_steps_per_second": 5.928, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107357, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__eval/acc": 0.9296, "sum__pred/valid_acc_2": 1, "sum__pred/test_acc_overall": 0.4049, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_b737d0bf42e19d710c1d.table.json", "sum__evaluated_acc/valid/table#size": 2257522, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "b737d0bf42e19d710c1d10ddc9a55d100ea9c42798ef0de5412497b556b2a2a1", "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_11": 0, "sum__eval/f1": 0.7547, "sum__train/seq_acc": 1, "sum__pred/test_acc_24": 0.95, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_9": 0, "sum__evaluated_acc/valid/during_training_table#size": 8154, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "c8b9a573ba1568b7550c57addd4d498bb86b1815d4c611e3a2a59a8bd9fb9d0f", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_c8b9a573ba1568b7550c.table.json", "sum__train/precision": 0.4067, "sum__pred/test_acc_22": 0.978, "sum__pred/test_acc_35": 0.006, "sum__pred/valid_editDistance_13": 0, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "577309f658fe1b4ec05e829acef74d97864b650c751dd178ba1a646fc74a2ab3", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_577309f658fe1b4ec05e.table.json", "sum__evaluated_acc/test/plot_table#size": 349, "sum__pred/test_editDistance_overall": 0, "sum__train/f1": 0.5782, "sum__pred/valid_acc_12": 1, "sum__pred/valid_acc_18": 0.9952, "sum__eval/samples_per_second": 97.358, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_overall": 0.9975, "sum__train/total_flos": 1.2681315631344845e+17, "sum__pred/test_steps_per_second": 1.87, "sum__pred/test_acc_31": 0.162, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_19": 0.9974, "sum__pred/test_editDistance_35": 0, "sum__auto_computed_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__pred/test_f1": 0.3015, "sum__pred/test_acc": 0.6891, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_25": 0.906, "sum__pred/valid_acc_14": 0.995, "sum__train/epoch": 25.59, "sum__eval/seq_acc": 0.9973, "sum__pred/test_editDistance_26": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__pred/test_acc_27": 0.736, "sum__pred/test_editDistance_30": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_146317", "created_at": "2023-03-20T06:50:12", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___timestamp": 1679294561, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum___wandb#runtime": 374, "sum___runtime": 17, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3__146317", "created_at": "2023-03-20T06:50:11", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum___runtime": 7047, "sum__pred/valid_acc_9": 1, "sum__pred/valid_runtime": 78.5025, "sum__train/loss": 0.0001, "sum__pred/valid_acc_10": 1, "sum__train/global_step": 0, "sum__num_non_trainable_params": 28320768, "sum__pred/test_samples_per_second": 81.594, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_6ee3d99e9ce85117c249.table.json", "sum__evaluated_acc/test/plot_table#size": 324, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "6ee3d99e9ce85117c2491236cbebc79ddfd481f55c60c0ee69bfc1b478a7e491", "sum__pred/valid_acc_7": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__pred/valid_f1": 0.7564, "sum__pred/test_acc_21": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_num_process": 1, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_37": 0, "sum__eval/runtime": 78.4737, "sum__pred/test_acc_23": 0.094, "sum__pred/test_acc_39": 0, "sum__train/total_flos": 1.2681315631344845e+17, "sum__pred/valid_acc_13": 0.9975, "sum__pred/test_acc_34": 0, "sum__pred/valid_recall": 0.9997, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "167620d81b91ebfceb20a008e4ade5ddc129a6f87ca2e2eea852e9c64aec07a8", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_167620d81b91ebfceb20.table.json", "sum__evaluated_acc/test/table#size": 6583680, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/test_editDistance_32": 0, "sum__computed_per_device_train_batch_size": 64, "sum__auto_computed_eval_batch_size": 32, "sum___timestamp": 1679293521, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_acc_5": 1, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_acc_6": 1, "sum__train/gen_max_length": 256, "sum__pred/valid_acc_overall": 0.9997, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_acc_40": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_64b66275eb79fe0b8052.table.json", "sum__evaluated_acc/valid/plot_table#size": 306, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "64b66275eb79fe0b8052d86c0bd0e3fd1948a0cb1ee1f7a35b7269a6fd552c32", "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_19": 1, "sum__eval/steps_per_second": 2.995, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__num_train_samples": 100000, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_22": 0, "sum__eval/loss": 2.0955891159246676e-05, "sum__pred/test_f1": 0.0916, "sum__eval/precision": 0.6083, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_33": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_steps_per_second": 2.554, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_10": 0, "sum__train/train_samples_per_second": 380.638, "sum___step": 4146, "sum__pred/test_loss": 7.268762588500977, "sum__train/train_loss": 0.2670460985514335, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_29": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__pred/test_acc_36": 0, "sum__pred/test_precision": 0.0804, "sum__train/train_runtime": 6725.5476, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_31": 0, "sum__eval/f1": 0.7564, "sum__pred/test_acc_38": 0, "sum__pred/valid_editDistance_18": 0, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107321, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_11": 1, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_35": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_recall": 0.1066, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_14": 0, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_22": 0.98, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_overall": 0.1037, "sum__eval/samples_per_second": 95.497, "sum__pred/test_editDistance_40": 0, "sum__pred/test_acc_27": 0, "sum__num_trainable_params": 109607040, "sum__pred/valid_precision": 0.6083, "sum__pred/test_editDistance_25": 0, "sum__eval/recall": 0.9997, "sum__num_total_params": 137927808, "sum__pred/test_seq_acc": 0.1037, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_4": 1, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_acc": 0.9298, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_20": 0.9975, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "bfcb5da73aaeea5a1108e900bc1106f42f53ec10d8fba5238e62b10222ebfbbb", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_bfcb5da73aaeea5a1108.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8278, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__train/precision": 0.4067, "sum__pred/valid_acc_16": 1, "sum__pred/valid_editDistance_13": 0, "sum__auto_computed_batch_size_predict": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_20": 0, "sum__eval/acc": 0.9298, "sum__train/epoch": 25.59, "sum__train/recall": 1, "sum__pred/test_acc_37": 0, "sum__pred/valid_seq_acc": 0.9997, "sum__pred/valid_samples_per_second": 95.462, "sum__train/f1": 0.5782, "sum__pred/valid_acc_12": 1, "sum__pred/valid_acc_3": 1, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_6be954115dc13d1a8373.table.json", "sum__evaluated_acc/valid/table#size": 2204948, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "6be954115dc13d1a8373708bd759fb4d62088c7682da76aaa655f5a8b541c45a", "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_editDistance_9": 0, "sum__train/acc": 0.4067, "sum__pred/test_acc": 0.6197, "sum__pred/valid_loss": 2.0955891159246676e-05, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_6": 0, "sum__pred/test_editDistance_34": 0, "sum__train/train_steps_per_second": 5.947, "sum__eval/seq_acc": 0.9997, "sum__train/seq_acc": 1, "sum__pred/test_runtime": 122.5581, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_steps_per_second": 2.994, "sum__pred/test_editDistance_overall": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_17": 1, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034__234054", "created_at": "2023-03-20T06:50:05", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_3": 1, "sum__pred/test_acc_overall": 0.2239, "sum__pred/test_editDistance_25": 0, "sum__train/train_samples_per_second": 378.685, "sum__pred/test_acc_35": 0, "sum__train/global_step": 0, "sum__pred/test_editDistance_22": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_11f2098a38d6833ae76f.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 329, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "11f2098a38d6833ae76f59ac20ea52945c14a2db3b7169e0f5e6bcb549a7d312", "sum__pred/valid_acc": 0.9295, "sum__pred/valid_recall": 0.9991, "sum__pred/test_precision": 0.1403, "sum__auto_computed_batch_size": 64, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__evaluated_acc/test/plot_table#size": 333, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "0358e1e302fb100b87b9642b300d12a3366933f7b0ccbf9dbe9e4d318d273c9d", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_0358e1e302fb100b87b9.table.json", "sum__eval/f1": 0.7562, "sum__train/epoch": 25.59, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_7": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_steps_per_second": 2.995, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_34": 13.2, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_37": 28.2, "sum__pred/test_loss": 6.755254745483398, "sum__pred/test_acc_21": 0.984, "sum__pred/test_acc_24": 0.82, "sum__pred/test_acc_26": 0.198, "sum__pred/valid_acc_16": 0.9974, "sum__pred/valid_acc_17": 0.9976, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__pred/test_acc_25": 0.568, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_35": 17.6, "sum__pred/test_steps_per_second": 2.241, "sum__pred/valid_editDistance_11": 0, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__train/f1": 0.576, "sum__train/loss": 0.0001, "sum__num_total_params": 137927808, "sum__pred/test_acc_36": 0, "sum__pred/test_editDistance_30": 0.4, "sum__pred/test_editDistance_overall": 10.83, "sum__pred/test_recall": 0.1945, "sum__pred/test_editDistance_38": 33.6, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_5": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__pred/test_acc_23": 0.934, "sum__train/train_loss": 0.2535024157912267, "sum__pred/valid_acc_19": 1, "sum__pred/valid_precision": 0.6082, "sum__pred/test_editDistance_24": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_editDistance_36": 23.4, "sum__pred/test_editDistance_40": 43.8, "sum___step": 4146, "sum__train/acc": 0.4045, "sum__pred/test_acc": 0.6427, "sum__train/precision": 0.4045, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_20": 0.9975, "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/valid/plot_table#size": 321, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "ec61a4d0c888c229294b4b475b06e2a90c0347aeea3004924ff8fd5770380577", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_ec61a4d0c888c229294b.table.json", "sum___timestamp": 1679286395, "sum__num_non_trainable_params": 28320768, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "d54e15cba0133c1a998fc187ba9dd53f592eb1e0bb661668ddbf62c2b143af95", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_d54e15cba0133c1a998f.table.json", "sum__evaluated_acc/valid/table#size": 2270400, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__pred/valid_editDistance_2": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_33": 0, "sum__pred/valid_editDistance_8": 0, "sum___runtime": 7111, "sum__eval/loss": 0.0004507208650466054, "sum__pred/test_f1": 0.163, "sum__pred/valid_num_samples": 7494, "sum__pred/test_samples_per_second": 71.594, "sum__pred/test_seq_acc": 0.2239, "sum__pred/test_editDistance_23": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_10": 0, "sum___wandb#runtime": 7112, "sum__eval/recall": 0.9991, "sum__pred/test_acc_30": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_runtime": 78.4697, "sum__pred/test_editDistance_39": 36, "sum__pred/valid_editDistance_9": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_6": 1, "sum__pred/valid_editDistance_13": 0, "sum__train/train_steps_per_second": 5.917, "sum__eval/acc": 0.9295, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_29": 0.4, "sum__train/total_flos": 1.2680591398708838e+17, "sum__pred/test_num_samples": 10000, "sum__pred/valid_acc_overall": 0.9991, "sum__pred/test_editDistance_33": 11.2, "sum__pred/valid_editDistance_18": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 105971, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__num_train_samples": 100000, "sum__pred/valid_seq_acc": 0.9991, "sum__eval/samples_per_second": 94.555, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_editDistance_14": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__pred/test_acc_22": 0.96, "sum__pred/test_acc_27": 0.014, "sum__pred/valid_acc_12": 1, "sum__train/learning_rate": 1e-07, "sum__auto_computed_grad_acc_steps": 1, "sum__eval/runtime": 79.2557, "sum__train/seq_acc": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__train/train_runtime": 6760.24, "sum__num_trainable_params": 109607040, "sum__eval/steps_per_second": 2.965, "sum__pred/valid_editDistance_16": 0, "sum__train/recall": 1, "sum__eval/precision": 0.6082, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_samples_per_second": 95.502, "sum__pred/valid_loss": 0.0004507208650466054, "sum__computed_num_process": 1, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "d10055e7ce280ef11b371d46f9f0796f3d14e638a7743777cd91b397f28bfb44", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_d10055e7ce280ef11b37.table.json", "sum__evaluated_acc/test/table#size": 7278037, "sum__evaluated_acc/test/table#_type": "table-file", "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_20": 0, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "03ae45be2399708e80e851fc0097dbdb58b4eb374c0507ec180b8c0e726ce70e", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_03ae45be2399708e80e8.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8291, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__eval/seq_acc": 0.9991, "sum__pred/test_runtime": 139.6771, "sum__pred/valid_acc_15": 1, "sum__pred/valid_acc_18": 0.9973, "sum__pred/test_editDistance_32": 5.6, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_11": 0.9976, "sum__pred/test_editDistance_31": 3.2, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_f1": 0.7562, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_acc_13": 1, "sum__pred/valid_editDistance_15": 0, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_146317", "created_at": "2023-03-20T06:50:02", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___timestamp": 1679294544, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum___runtime": 17, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___wandb#runtime": 374, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_agg_146317", "created_at": "2023-03-20T06:49:55", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___wandb#runtime": 379, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum___timestamp": 1679294545, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum___step": 8, "sum___runtime": 17, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_256788", "created_at": "2023-03-20T06:49:52", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___wandb#runtime": 378, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___step": 8, "sum___timestamp": 1679293763, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum___runtime": 16}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3__256788", "created_at": "2023-03-20T06:49:48", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_editDistance_20": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_33": 0.156, "sum__pred/test_acc_34": 0.082, "sum__pred/test_acc_40": 0, "sum__train/train_loss": 0.29786290337528626, "sum__pred/valid_acc_20": 0.9973, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__train/seq_acc": 1, "sum__pred/valid_acc": 0.9297, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__pred/valid_acc_17": 0.9975, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_9dd8ac3fbd8252ba3fb7.table.json", "sum__evaluated_acc/test/table#size": 7327243, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "9dd8ac3fbd8252ba3fb78b099d25ad3e0259a3beebec238551b7c89ae5693b5b", "sum__pred/valid_editDistance_19": 0, "sum__pred/test_acc": 0.7072, "sum__pred/valid_acc_8": 0.9973, "sum__pred/test_acc_21": 0.986, "sum__pred/test_editDistance_36": 0, "sum__pred/test_recall": 0.4414, "sum__pred/valid_runtime": 76.7401, "sum__pred/test_editDistance_32": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__auto_computed_grad_acc_steps": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__train/acc": 0.3919, "sum__pred/test_acc_27": 0.85, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_15": 0, "sum__evaluated_acc/valid/during_training_table#sha256": "dd9a57cf949141f955fb194536e1bfcd0e7b00794865e536b9f5652abdb5f5e6", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_dd9a57cf949141f955fb.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8137, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__eval/recall": 0.9988, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_11": 0.9976, "sum__pred/test_acc_overall": 0.4757, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_f1": 0.3562, "sum__pred/valid_acc_2": 1, "sum__train/train_samples_per_second": 381.465, "sum___step": 4146, "sum__pred/valid_samples_per_second": 97.654, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_acc_32": 0.262, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/test_seq_acc": 0.4757, "sum__pred/valid_num_samples": 7494, "sum__ds_examples/ExperimentStage.PREDICTION#size": 108887, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_b1f4042d51f1c9582b32.table.json", "sum__pred/test_acc_37": 0.002, "sum__pred/test_editDistance_26": 0, "sum__pred/test_steps_per_second": 1.827, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__train/epoch": 25.59, "sum__pred/valid_acc_16": 0.9974, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_3": 0, "sum__train/train_runtime": 6710.9773, "sum__computed_num_process": 1, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_f1": 0.7561, "sum__pred/valid_precision": 0.6081, "sum__pred/test_acc_24": 0.97, "sum__pred/test_acc_26": 0.904, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_16": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum___timestamp": 1679279232, "sum__pred/test_acc_23": 0.982, "sum__train/f1": 0.5631, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__pred/test_runtime": 171.3612, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_5": 0, "sum__computed_per_device_train_batch_size": 64, "sum__eval/precision": 0.6079, "sum__num_total_params": 137927808, "sum__pred/valid_acc_9": 1, "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/test_acc_31": 0.37, "sum__pred/valid_acc_4": 1, "sum__pred/test_acc_36": 0.02, "sum__pred/valid_recall": 0.9993, "sum__pred/test_num_samples": 10000, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_34": 0, "sum__eval/loss": 0.0009483284666202962, "sum__pred/valid_loss": 0.0007409445242956281, "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_overall": 0.9989, "sum__pred/test_editDistance_35": 0, "sum__pred/test_samples_per_second": 58.356, "sum__eval/f1": 0.7558, "sum__pred/test_acc_25": 0.936, "sum__pred/valid_acc_12": 1, "sum__pred/valid_acc_18": 0.9976, "sum__train/global_step": 0, "sum__pred/valid_acc_6": 1, "sum__train/total_flos": 1.2680741464930714e+17, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__pred/test_acc_35": 0.032, "sum__pred/valid_acc_19": 1, "sum__pred/test_acc_39": 0, "sum__pred/valid_seq_acc": 0.9989, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_ac2fb99cbca5d801a98f.table.json", "sum__evaluated_acc/valid/table#size": 2258452, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "ac2fb99cbca5d801a98fb5abaefa2f4c607ad14510eacb26829793ffa5131e40", "sum__pred/valid_editDistance_7": 0, "sum__auto_computed_eval_batch_size": 32, "sum__train/recall": 1, "sum__pred/test_acc_22": 0.984, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_steps_per_second": 3.062, "sum__eval/seq_acc": 0.9985, "sum__pred/valid_acc_5": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__pred/test_loss": 0.38234829902648926, "sum__pred/test_editDistance_39": 0, "sum__pred/test_precision": 0.2985, "sum__eval/samples_per_second": 97.655, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_9": 0, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__num_train_samples": 100000, "sum__pred/valid_acc_10": 0.9974, "sum__pred/test_acc_28": 0.766, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_8": 0, "sum__train/train_steps_per_second": 5.96, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "06afac9a46802a3cdccd15c01abb74c71ea8f870767f7a2baffadcd7f1b9b4bb", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_06afac9a46802a3cdccd.table.json", "sum__evaluated_acc/test/plot_table#size": 350, "sum__eval/acc": 0.9297, "sum__eval/runtime": 76.7399, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__train/gen_max_length": 256, "sum__pred/test_acc_29": 0.692, "sum__pred/test_acc_30": 0.52, "sum__pred/valid_acc_7": 0.9974, "sum__eval/steps_per_second": 3.062, "sum__pred/test_editDistance_30": 0, "sum__evaluated_acc/valid/plot_table#sha256": "d51266ca0d5346bef86bbd5bd07d6339785f4865463826a456455808bbf526ae", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_d51266ca0d5346bef86b.table.json", "sum__evaluated_acc/valid/plot_table#size": 324, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum___runtime": 7091, "sum__train/loss": 0.0001, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_15": 1, "sum__train/precision": 0.3919, "sum__num_trainable_params": 109607040}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_agg_256788", "created_at": "2023-03-20T06:49:45", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 377, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum___timestamp": 1679293762, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum___step": 8, "sum___runtime": 16, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_2_234054", "created_at": "2023-03-20T06:49:35", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum___wandb#runtime": 69, "sum___runtime": 21, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum___timestamp": 1679293624, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3__256788", "created_at": "2023-03-20T06:49:28", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_21": 0.992, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_f1": 0.1027, "sum__evaluated_acc/valid/table#sha256": "483a319d532b131f956ef31a3d1914d64564d002692748d1febda6e82aa766cc", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_483a319d532b131f956e.table.json", "sum__evaluated_acc/valid/table#size": 2209310, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_acc_17": 1, "sum__pred/valid_editDistance_14": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/seq_acc": 1, "sum__pred/test_acc_23": 0.678, "sum__pred/valid_acc_19": 0.9947, "sum__pred/valid_seq_acc": 0.9995, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_2": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__pred/test_acc_34": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_steps_per_second": 3.003, "sum__pred/test_acc_22": 0.978, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_27": 0, "sum__pred/test_seq_acc": 0.1324, "sum__pred/valid_acc_13": 1, "sum__pred/test_editDistance_38": 0, "sum__train/train_steps_per_second": 5.946, "sum__train/train_samples_per_second": 380.574, "sum__train/acc": 0.3919, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_4": 1, "sum__train/total_flos": 1.2680741464930714e+17, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_13": 0, "sum__eval/acc": 0.9298, "sum__eval/loss": 6.690706504741684e-05, "sum__pred/valid_acc_6": 1, "sum__pred/valid_recall": 0.9998, "sum__train/gen_max_length": 256, "sum__pred/test_samples_per_second": 78.72, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__pred/test_acc_35": 0, "sum__pred/test_runtime": 127.0324, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/test_steps_per_second": 2.464, "sum__pred/valid_f1": 0.7565, "sum__pred/test_acc_25": 0, "sum__pred/valid_runtime": 78.2614, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_20": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_169d47ace6a94085e3cc.table.json", "sum__evaluated_acc/test/plot_table#size": 327, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "169d47ace6a94085e3cc5c0b06f3cd7df79130de35dd2b51cdef0d00ab5731cf", "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc_8": 1, "sum__train/learning_rate": 1e-07, "sum__train/train_runtime": 6726.6859, "sum__eval/samples_per_second": 96.919, "sum__pred/valid_editDistance_7": 0, "sum__eval/steps_per_second": 3.039, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "0ea71457075d23510a47568b722558e91d75ced01c7c2d34e5311f2d02f91cc9", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_0ea71457075d23510a47.table.json", "sum__evaluated_acc/valid/plot_table#size": 306, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__train/f1": 0.5631, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_9": 1, "sum__num_train_samples": 100000, "sum__pred/valid_acc_10": 1, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__train/loss": 0.0001, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_20": 0.9946, "sum__pred/test_editDistance_36": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__train/epoch": 25.59, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_31": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum___timestamp": 1679279393, "sum__pred/test_precision": 0.0897, "sum__computed_num_process": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_4": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__auto_computed_eval_batch_size": 32, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_acc": 0.9298, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_overall": 0.9995, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_17": 0, "sum__eval/runtime": 77.3226, "sum__pred/test_acc_40": 0, "sum__pred/test_recall": 0.12, "sum__pred/valid_acc_11": 1, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__eval/seq_acc": 0.9995, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_6": 0, "sum__eval/precision": 0.6084, "sum__pred/valid_loss": 6.690706504741684e-05, "sum__train/precision": 0.3919, "sum__pred/valid_acc_7": 1, "sum__train/train_loss": 0.2630524116733024, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_loss": 7.11303186416626, "sum__pred/valid_acc_5": 1, "sum__pred/valid_samples_per_second": 95.756, "sum__train/global_step": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_19": 0, "sum__eval/f1": 0.7565, "sum__eval/recall": 0.9998, "sum__pred/test_acc_overall": 0.1324, "sum__train/recall": 1, "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_18": 1, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 106151, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_dc6308b61467174d67a4.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8257, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "dc6308b61467174d67a4597217e22d927213f54b8e4a60ba564e9ae8addf171d", "sum__pred/test_acc_29": 0, "sum__pred/test_acc_32": 0, "sum__pred/valid_precision": 0.6084, "sum__auto_computed_grad_acc_steps": 1, "sum__num_total_params": 137927808, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_11": 0, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum___step": 4146, "sum___runtime": 7056, "sum__pred/test_acc": 0.6232, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_60fa2732265e658f7f3c.table.json", "sum__evaluated_acc/test/table#size": 6623887, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "60fa2732265e658f7f3ca3bc55f35b2f7d82eb223b09599d39cc8b250aaafa6f", "sum__pred/test_editDistance_40": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_12": 1, "sum__pred/valid_acc_15": 1, "sum__pred/valid_acc_16": 1, "sum__pred/valid_editDistance_16": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_2_256788", "created_at": "2023-03-20T06:49:25", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679293549, "sum__computed_num_process": 1, "sum___wandb#runtime": 72, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 23, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3__234054", "created_at": "2023-03-20T06:49:24", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/total_flos": 1.2680591398708838e+17, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_11": 0, "sum__auto_computed_batch_size_predict": 32, "sum__train/precision": 0.4045, "sum__pred/test_acc_28": 0.742, "sum___runtime": 7161, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_overall": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_overall": 0.9993, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "3990e05adccae0de79963054f5d018054f4cba10b4c76b09d5718286b1743441", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_3990e05adccae0de7996.table.json", "sum__evaluated_acc/test/plot_table#size": 353, "sum___timestamp": 1679286400, "sum__pred/valid_seq_acc": 0.9993, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_15": 0, "sum__eval/precision": 0.6083, "sum__pred/test_acc_31": 0.366, "sum__pred/valid_editDistance_7": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_32": 0.256, "sum__pred/test_acc_36": 0.012, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_steps_per_second": 3.021, "sum__eval/acc": 0.9295, "sum__pred/valid_acc_5": 1, "sum__pred/valid_runtime": 77.7997, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_36": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__pred/test_acc_29": 0.63, "sum__pred/test_recall": 0.4595, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/test_acc_21": 0.986, "sum__pred/test_acc_22": 0.982, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_18": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_12": 0, "sum__pred/test_acc_30": 0.51, "sum__pred/test_runtime": 171.4454, "sum__pred/valid_editDistance_overall": 0, "sum__train/seq_acc": 1, "sum__pred/valid_acc_16": 0.9974, "sum__pred/valid_editDistance_8": 0, "sum__auto_computed_eval_batch_size": 32, "sum__train/loss": 0.0004, "sum__eval/seq_acc": 0.9993, "sum__train/train_runtime": 6789.7428, "sum__pred/test_acc_overall": 0.4645, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum___wandb#runtime": 7164, "sum__train/global_step": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_loss": 0.0004520543152466416, "sum__pred/test_acc_24": 0.954, "sum__num_train_samples": 100000, "sum__pred/valid_acc_20": 1, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_samples_per_second": 96.324, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "ab225b8c1b55baaccf944288a5c8a770e0985c6b36bf169fa3784dab57dd8f90", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_ab225b8c1b55baaccf94.table.json", "sum__evaluated_acc/valid/plot_table#size": 315, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__pred/test_acc_33": 0.116, "sum__pred/test_acc_38": 0, "sum__train/learning_rate": 1e-07, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_3": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 105971, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__pred/valid_acc_6": 1, "sum__pred/valid_recall": 0.9993, "sum__pred/valid_acc_13": 0.9974, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_b001cc54f300b363a45c.table.json", "sum__evaluated_acc/valid/table#size": 2270394, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "b001cc54f300b363a45ccbcfb7c6d0e2857794184ce9279278daad723c3bd05c", "sum__eval/runtime": 77.5738, "sum__train/train_loss": 0.2901671189494882, "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__pred/test_precision": 0.3108, "sum__pred/test_samples_per_second": 58.328, "sum__pred/test_acc_39": 0, "sum__eval/samples_per_second": 96.605, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_9": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__train/acc": 0.4045, "sum__num_total_params": 137927808, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/train_samples_per_second": 377.039, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/test_acc_26": 0.884, "sum__computed_num_process": 1, "sum__pred/test_editDistance_37": 0, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum___step": 4146, "sum__pred/test_loss": 0.46662265062332153, "sum__pred/test_editDistance_25": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__eval/recall": 0.9993, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_488f58f2b3b967a0315c.table.json", "sum__evaluated_acc/test/table#size": 7344501, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "488f58f2b3b967a0315c98fc4491e37d809105310e54f17aa53d85a8f6e42535", "sum__pred/valid_num_samples": 7494, "sum__pred/test_acc_25": 0.936, "sum__pred/test_acc_35": 0.026, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_4": 1, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_steps_per_second": 1.826, "sum__pred/valid_acc": 0.9295, "sum__pred/test_acc_34": 0.074, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_acc_7": 1, "sum__eval/steps_per_second": 3.029, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_f1": 0.3708, "sum__pred/test_acc_27": 0.824, "sum__pred/valid_editDistance_19": 0, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_38": 0, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__pred/test_acc_37": 0.006, "sum__pred/valid_acc_19": 0.9976, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__train/f1": 0.576, "sum__train/epoch": 25.59, "sum__train/train_steps_per_second": 5.891, "sum__eval/f1": 0.7563, "sum__pred/valid_f1": 0.7563, "sum__train/recall": 1, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_12": 1, "sum__pred/valid_precision": 0.6083, "sum__pred/test_editDistance_23": 0, "sum__eval/loss": 0.0004520543152466416, "sum__pred/test_acc": 0.712, "sum__pred/test_seq_acc": 0.4645, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_acc_17": 1, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_a261588f7f52f253bca1.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8058, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "a261588f7f52f253bca1970d0c6ec419ef2804ca50c563d3a85c44aaa47c47aa", "sum__pred/test_acc_23": 0.986, "sum__pred/valid_acc_8": 1, "sum__pred/test_editDistance_26": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_agg_234054", "created_at": "2023-03-20T06:49:12", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 395, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___runtime": 17, "sum___timestamp": 1679294145, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_256788", "created_at": "2023-03-20T06:49:12", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 69, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 20, "sum___timestamp": 1679293556, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_2_146317", "created_at": "2023-03-20T06:49:01", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___wandb#runtime": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 16, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___step": 8, "sum___timestamp": 1679293693, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_234054", "created_at": "2023-03-20T06:49:01", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 16, "sum___timestamp": 1679294163, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum___wandb#runtime": 392, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3__234054", "created_at": "2023-03-20T06:49:01", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_24": 0, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_steps_per_second": 2.994, "sum__evaluated_acc/test/plot_table#sha256": "40420a725c2a9675220834dc77cc4741ac12cc6300ef533ab7ed14b909144c95", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_40420a725c2a96752208.table.json", "sum__evaluated_acc/test/plot_table#size": 327, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__eval/acc": 0.9296, "sum__eval/recall": 0.9996, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_steps_per_second": 2.501, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "0e20afc906e7b9303480253ed61a2420783adb57cb69e5998bd510b138ac37bc", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_0e20afc906e7b9303480.table.json", "sum__evaluated_acc/valid/plot_table#size": 309, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__train/epoch": 25.59, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_acc_6": 1, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_38": 0, "sum__train/train_runtime": 6742.9658, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__pred/valid_acc_9": 1, "sum__pred/valid_recall": 0.9996, "sum___wandb#runtime": 7070, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_seq_acc": 0.9996, "sum__pred/test_editDistance_25": 0, "sum__eval/f1": 0.7565, "sum__pred/test_f1": 0.0822, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_8": 1, "sum__pred/test_acc_overall": 0.1094, "sum__pred/test_editDistance_22": 0, "sum__num_train_samples": 100000, "sum__pred/valid_precision": 0.6085, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_overall": 0, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__pred/test_acc": 0.6168, "sum__pred/test_acc_22": 0.964, "sum__pred/test_acc_25": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/test_acc_35": 0, "sum__num_trainable_params": 109607040, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__auto_computed_batch_size_predict": 32, "sum__train/recall": 1, "sum__pred/test_acc_29": 0, "sum__pred/test_runtime": 125.1412, "sum__train/train_steps_per_second": 5.932, "sum__train/precision": 0.4045, "sum__pred/valid_acc_5": 1, "sum__eval/steps_per_second": 2.992, "sum__pred/test_num_samples": 10000, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__pred/test_acc_36": 0, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_33": 0, "sum__pred/test_samples_per_second": 79.91, "sum__eval/seq_acc": 0.9996, "sum__pred/test_acc_39": 0, "sum__train/train_loss": 0.2643022129401783, "sum__pred/valid_acc_19": 0.9976, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_14": 1, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_20": 0, "sum__train/train_samples_per_second": 379.655, "sum__computed_per_device_train_batch_size": 64, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_8": 0, "sum__eval/samples_per_second": 95.4, "sum__pred/valid_editDistance_4": 0, "sum__train/f1": 0.576, "sum__train/acc": 0.4045, "sum__pred/test_recall": 0.0957, "sum__pred/test_editDistance_36": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/test_editDistance_40": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_17": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__eval/loss": 5.411778693087399e-05, "sum__pred/valid_loss": 5.411778693087399e-05, "sum__pred/test_acc_23": 0.228, "sum__train/total_flos": 1.2680591398708838e+17, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_15": 1, "sum__train/global_step": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__eval/precision": 0.6085, "sum___runtime": 7069, "sum__train/loss": 0.0001, "sum__pred/valid_acc_20": 0.9975, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_16": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__pred/test_acc_21": 0.996, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_10": 1, "sum__pred/valid_runtime": 78.4952, "sum__train/gen_max_length": 256, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "af6a2d5cad1d963925b633afa4093490dc985d2871361dfce6c0f3f5d6addc78", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_af6a2d5cad1d963925b6.table.json", "sum__evaluated_acc/test/table#size": 6587074, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/valid_editDistance_10": 0, "sum__num_total_params": 137927808, "sum__pred/test_acc_28": 0, "sum__pred/test_seq_acc": 0.1094, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_9": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_samples_per_second": 95.471, "sum__pred/valid_acc_overall": 0.9996, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_15": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 103397, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum___step": 4146, "sum___timestamp": 1679286468, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_18": 0.9973, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "2a1be524d57d51cee7899d83817ba818e974a3675c5266a24ccf18afc78e1e16", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_2a1be524d57d51cee789.table.json", "sum__evaluated_acc/valid/table#size": 2220054, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_f1": 0.7565, "sum__train/seq_acc": 1, "sum__pred/test_loss": 7.2992048263549805, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_16": 1, "sum__pred/test_acc_37": 0, "sum__pred/test_precision": 0.0721, "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_overall": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_f301476b96f669d6fe74.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8358, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "f301476b96f669d6fe74226a779df6753389a0a44c48d239207a9608b60d63d4", "sum__eval/runtime": 78.5538, "sum__pred/valid_acc": 0.9296, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_18": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_234054", "created_at": "2023-03-20T06:48:51", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum___runtime": 16, "sum___timestamp": 1679294146, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum___wandb#runtime": 392, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9__256788", "created_at": "2023-03-20T06:48:42", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_acc_7": 0.9974, "sum__train/total_flos": 1.2680741464930714e+17, "sum__train/train_loss": 0.259668692698548, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_loss": 0.0002577819104772061, "sum__pred/valid_acc_16": 1, "sum__num_trainable_params": 109607040, "sum__auto_computed_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_17": 1, "sum__pred/valid_editDistance_10": 0, "sum__train/f1": 0.5631, "sum__pred/test_acc_22": 0, "sum__pred/valid_acc_5": 1, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_617553d90750c422c83f.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "617553d90750c422c83f12992546a0a149eec1ce3f99c8a223aebc91acc28e81", "sum__pred/test_runtime": 437.7157, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_editDistance_4": 0, "sum___step": 4146, "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/test_recall": 0.0392, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_15": 0, "sum__eval/loss": 0.0003411180223338306, "sum__pred/valid_acc_8": 0.9973, "sum__pred/valid_acc_overall": 0.9995, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__evaluated_acc/valid/plot_table#sha256": "f7c0ea27b894617571dbed35e913f7806e0acdb01c9fa8640662e64cb6583a03", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_f7c0ea27b894617571db.table.json", "sum__evaluated_acc/valid/plot_table#size": 312, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__train/epoch": 25.59, "sum__pred/valid_acc_2": 1, "sum__train/train_runtime": 6578.5517, "sum__pred/test_steps_per_second": 0.715, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_36": 0, "sum__train/learning_rate": 1e-07, "sum__pred/valid_samples_per_second": 101.157, "sum__pred/test_editDistance_overall": 0, "sum__eval/recall": 0.9997, "sum__eval/runtime": 73.9975, "sum__pred/test_acc_26": 0, "sum__train/gen_max_length": 256, "sum__evaluated_acc/valid/table#size": 2258489, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "c62ad23001697a302aaafc95893a3a6a4233f45ddcb58b21cd99a3db004b8d31", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_c62ad23001697a302aaa.table.json", "sum__eval/steps_per_second": 3.176, "sum__pred/test_acc_overall": 0.0086, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/valid/during_training_table#sha256": "11d85fac7ae2ce254c119709e81f12087c68bd0b0f446c3a909f225a5e76f61f", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_11d85fac7ae2ce254c11.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8062, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__num_non_trainable_params": 40903680, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_29": 0, "sum__train/loss": 0.0002, "sum__pred/test_loss": 8.905835151672363, "sum__pred/valid_acc_9": 1, "sum__computed_num_process": 1, "sum__eval/samples_per_second": 101.274, "sum__pred/test_editDistance_40": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__pred/valid_acc_10": 0.9974, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc_33": 0, "sum__pred/test_seq_acc": 0.0086, "sum__pred/valid_seq_acc": 0.9995, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_19": 1, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_3": 0, "sum___timestamp": 1679279680, "sum__num_train_samples": 100000, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_0f143795f4314f0c6c8b.table.json", "sum__evaluated_acc/test/table#size": 7915130, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "0f143795f4314f0c6c8b5d9b5311c24ff5062cfde9b46d588464bb75d7fa6a27", "sum__pred/valid_editDistance_8": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/test_acc": 0.5164, "sum__num_total_params": 150510720, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_17": 0, "sum__eval/precision": 0.6084, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_11": 0.9976, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum___runtime": 7538, "sum__train/acc": 0.3919, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_13": 1, "sum__pred/valid_editDistance_9": 0, "sum___wandb#runtime": 7539, "sum__eval/f1": 0.7564, "sum__pred/test_acc_39": 0, "sum__pred/valid_num_samples": 7494, "sum__eval/seq_acc": 0.9995, "sum__pred/test_acc_23": 0, "sum__pred/test_editDistance_36": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 108887, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__pred/test_f1": 0.0301, "sum__train/seq_acc": 1, "sum__pred/valid_precision": 0.6084, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_steps_per_second": 3.172, "sum__pred/valid_editDistance_6": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_samples_per_second": 22.846, "sum__pred/test_acc_21": 0.172, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_12": 1, "sum__pred/test_precision": 0.0245, "sum__pred/test_editDistance_32": 0, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_recall": 0.9998, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_20": 0, "sum__train/train_samples_per_second": 389.143, "sum__train/recall": 1, "sum__pred/valid_f1": 0.7565, "sum__train/precision": 0.3919, "sum__train/train_steps_per_second": 6.08, "sum__pred/valid_acc": 0.9298, "sum__pred/test_acc_27": 0, "sum__pred/valid_runtime": 74.083, "sum__auto_computed_batch_size": 64, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_4": 1, "sum__train/global_step": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_5": 0, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__eval/acc": 0.9298, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_38": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_37": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_256788", "created_at": "2023-03-20T06:48:40", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 70, "sum___runtime": 23, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum___timestamp": 1679293550, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_agg_146317", "created_at": "2023-03-20T06:48:32", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum___timestamp": 1679294791, "sum___wandb#runtime": 34, "sum___runtime": 18, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_146317", "created_at": "2023-03-20T06:48:30", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679293695, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___wandb#runtime": 62, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 16, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_2_256788", "created_at": "2023-03-20T06:48:22", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 62, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 22, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___timestamp": 1679294521, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_agg_256788", "created_at": "2023-03-20T06:48:12", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 36, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum___step": 8, "sum___timestamp": 1679294712, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___runtime": 18, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_agg_234054", "created_at": "2023-03-20T06:48:02", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum___step": 8, "sum___runtime": 17, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___wandb#runtime": 32, "sum___timestamp": 1679294752, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_2_146317", "created_at": "2023-03-20T06:47:52", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum___timestamp": 1679294649, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___runtime": 16, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum___wandb#runtime": 56, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9__234054", "created_at": "2023-03-20T06:47:28", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_8": 1, "sum__pred/test_precision": 0.0293, "sum__pred/test_editDistance_21": 0, "sum__pred/test_samples_per_second": 56.515, "sum___timestamp": 1679286760, "sum__pred/valid_acc_14": 0.9975, "sum__train/global_step": 0, "sum__pred/test_editDistance_37": 0, "sum__num_trainable_params": 109607040, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_editDistance_14": 0, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__pred/test_editDistance_34": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__pred/test_editDistance_31": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_6": 1, "sum__eval/steps_per_second": 3.065, "sum__pred/valid_editDistance_9": 0, "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ae59adc53d671c8886b3ce787531918e8145acd1f34a8f35c1e389e4e158c10c", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ae59adc53d671c8886b3.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__eval/loss": 0.00016372770187444985, "sum__train/precision": 0.4045, "sum__train/train_runtime": 6646.0675, "sum__eval/samples_per_second": 97.732, "sum__pred/test_editDistance_38": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_steps_per_second": 3.116, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_recall": 0.9996, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_acc_16": 0.9974, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__train/loss": 0.0003, "sum__eval/runtime": 76.6791, "sum__pred/test_acc_30": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_17": 1, "sum__pred/test_acc_overall": 0.0111, "sum__pred/valid_editDistance_4": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_21": 0.222, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_13": 1, "sum__pred/valid_seq_acc": 0.9996, "sum__pred/test_editDistance_29": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__eval/f1": 0.7565, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_8": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "7d04983aee53fb2349a94768e4114c763470b77c40af8f2f0c20f7b00697f10c", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_7d04983aee53fb2349a9.table.json", "sum__evaluated_acc/valid/plot_table#size": 309, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum___step": 4146, "sum__train/f1": 0.576, "sum__eval/precision": 0.6085, "sum__pred/test_num_samples": 10000, "sum__train/train_steps_per_second": 6.019, "sum__pred/test_editDistance_overall": 0, "sum__train/total_flos": 1.2680591398708838e+17, "sum__train/train_loss": 0.2526502931642259, "sum__pred/valid_num_samples": 7494, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 105971, "sum__evaluated_acc/valid/during_training_table#size": 8042, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "88bab552cab23d711db1b57dc9c6bb963deafa5d4e287a024f1f114cce157ac5", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_88bab552cab23d711db1.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum___runtime": 7075, "sum__pred/valid_loss": 0.00013786241470370442, "sum__pred/test_recall": 0.0343, "sum__num_non_trainable_params": 40903680, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_samples_per_second": 99.365, "sum__pred/test_f1": 0.0316, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_9": 1, "sum__pred/test_runtime": 176.9434, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_7": 1, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/test_editDistance_39": 0, "sum__train/acc": 0.4045, "sum__train/seq_acc": 1, "sum__pred/test_acc_38": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_15": 1, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "83ca466998d71da8d2f7102a3a305dc9db4a0ca1d860984d504b2e0e7e1e063f", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_83ca466998d71da8d2f7.table.json", "sum__evaluated_acc/valid/table#size": 2270448, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_17": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__train/recall": 1, "sum__pred/test_acc_34": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_11": 1, "sum__computed_per_device_train_batch_size": 64, "sum__num_train_samples": 100000, "sum__pred/valid_precision": 0.6085, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_18": 1, "sum__pred/valid_runtime": 75.4189, "sum__pred/valid_editDistance_7": 0, "sum__num_total_params": 150510720, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_3": 0, "sum__train/train_samples_per_second": 385.19, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_15": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/test_editDistance_28": 0, "sum__eval/seq_acc": 0.9996, "sum__pred/valid_f1": 0.7565, "sum__pred/valid_acc": 0.9296, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_12": 1, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_acc_27": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_loss": 9.13746452331543, "sum__pred/valid_acc_3": 1, "sum__train/learning_rate": 1e-07, "sum__pred/valid_acc_overall": 0.9996, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_c3eee567c89b7fc25ed7.table.json", "sum__evaluated_acc/test/table#size": 6119922, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "c3eee567c89b7fc25ed75f85f6c336231cf035d98fa44bc33366578cdc758c31", "sum__pred/test_steps_per_second": 1.769, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__pred/test_acc": 0.5971, "sum__pred/test_seq_acc": 0.0111, "sum__pred/valid_acc_10": 0.9974, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_27": 0, "sum__eval/acc": 0.9296, "sum__eval/recall": 0.9996, "sum__train/epoch": 25.59, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_2_234054", "created_at": "2023-03-20T06:47:17", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum___wandb#runtime": 61, "sum___timestamp": 1679294587, "sum___runtime": 20, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9__146317", "created_at": "2023-03-20T06:46:53", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_7": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_loss": 9.525611877441406, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_12": 1, "sum__pred/valid_steps_per_second": 3.156, "sum__pred/valid_acc_14": 1, "sum__pred/test_acc_overall": 0.0133, "sum__pred/test_editDistance_34": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_overall": 0.9999, "sum__auto_computed_batch_size": 64, "sum__pred/test_acc": 0.4713, "sum__train/precision": 0.4067, "sum__pred/test_acc_30": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_steps_per_second": 0.712, "sum__pred/valid_editDistance_14": 0, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__train/epoch": 25.59, "sum__pred/valid_acc_4": 1, "sum__evaluated_acc/valid/table#size": 2257748, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "8cbd62dc332f6edb5a96a4156a8f85f6229aef9744fc2db66ae552f34482c0db", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_8cbd62dc332f6edb5a96.table.json", "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_15": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_6": 1, "sum__train/global_step": 0, "sum__pred/valid_editDistance_10": 0, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "675d106da91667c56af72a35df4d91a7ebcae1c5d7873de3147933b6e4a3f6cf", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_675d106da91667c56af7.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8000, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__pred/test_acc_23": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/test_acc_27": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_recall": 0.9999, "sum__num_trainable_params": 109607040, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__num_total_params": 150510720, "sum__evaluated_acc/test/table#sha256": "92186215d6c35dbe05e14e8b257d592b096643cbb418182297b7bdd4c1ca4e82", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_92186215d6c35dbe05e1.table.json", "sum__evaluated_acc/test/table#size": 8607698, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/test_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__eval/loss": 2.1339021259336732e-05, "sum__pred/valid_loss": 2.861162465706002e-05, "sum__eval/samples_per_second": 101.116, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_17": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107357, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum___wandb#runtime": 7724, "sum__eval/runtime": 74.1129, "sum__pred/test_acc_25": 0, "sum__train/recall": 1, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_samples_per_second": 22.737, "sum__train/train_samples_per_second": 384.859, "sum__eval/recall": 0.9998, "sum__eval/seq_acc": 0.9996, "sum__pred/valid_acc_16": 1, "sum__pred/valid_acc_8": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_20": 1, "sum__pred/valid_editDistance_8": 0, "sum__train/train_steps_per_second": 6.013, "sum__eval/precision": 0.6084, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_7": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__pred/test_acc_24": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__train/total_flos": 1.2681315631344845e+17, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_19": 0, "sum___runtime": 7724, "sum__pred/valid_f1": 0.7565, "sum__pred/test_recall": 0.0466, "sum__num_train_samples": 100000, "sum__pred/test_seq_acc": 0.0133, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_acc_11": 1, "sum__pred/valid_runtime": 74.4516, "sum__train/loss": 0.0002, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_38": 0, "sum__auto_computed_batch_size_predict": 32, "sum__eval/steps_per_second": 3.171, "sum__pred/test_f1": 0.033, "sum__pred/test_acc_29": 0, "sum__computed_num_process": 1, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__pred/valid_acc": 0.9299, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ffbd4edcbd5a0c6845e921c2bd87ef330e76cd27daee02552b323ad5ed6aba73", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ffbd4edcbd5a0c6845e9.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_13": 0, "sum___step": 4146, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_2": 1, "sum__num_non_trainable_params": 40903680, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__pred/valid_acc_15": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_6": 0, "sum__train/acc": 0.4067, "sum__pred/test_acc_21": 0.266, "sum__pred/test_acc_22": 0, "sum__eval/acc": 0.9298, "sum__pred/valid_acc_17": 1, "sum__pred/test_runtime": 439.815, "sum__pred/valid_acc_13": 1, "sum__pred/valid_seq_acc": 0.9999, "sum__pred/test_editDistance_35": 0, "sum__eval/f1": 0.7565, "sum___timestamp": 1679294493, "sum__pred/test_acc_31": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_16": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc_28": 0, "sum__train/train_runtime": 6651.7932, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_12": 0, "sum__train/seq_acc": 1, "sum__pred/test_acc_36": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_samples_per_second": 100.656, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "2a8f3e4714d73f09a49cb12065d38fd5a6123b91a4dc3b3ce998cec9560211af", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_2a8f3e4714d73f09a49c.table.json", "sum__evaluated_acc/valid/plot_table#size": 303, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__computed_per_device_eval_batch_size": 32, "sum__train/f1": 0.5782, "sum__train/train_loss": 0.2552724643315218, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_precision": 0.0256, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_precision": 0.6085, "sum__pred/test_num_samples": 10000, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_26": 0, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_19": 1}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_2_234054", "created_at": "2023-03-20T06:35:07", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 64, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum___runtime": 26, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum___step": 8, "sum___timestamp": 1679293753, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_2_146317", "created_at": "2023-03-20T06:34:57", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 55, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum___runtime": 16, "sum___timestamp": 1679293813, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336__256788", "created_at": "2023-03-20T06:34:31", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum___timestamp": 1679279321, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_samples_per_second": 100.486, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_seq_acc": 0.9967, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_acc_7": 0.9974, "sum__train/train_samples_per_second": 389.335, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__train/precision": 0.3919, "sum__pred/test_steps_per_second": 2.064, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__train/train_runtime": 6575.3172, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_acc_overall": 0.1776, "sum__train/epoch": 25.59, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_overall": 0.9967, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_steps_per_second": 3.151, "sum__train/f1": 0.5631, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_17": 0.9924, "sum__pred/test_seq_acc": 0.1776, "sum__pred/valid_editDistance_13": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_ffec298a4be048e3964f.table.json", "sum__evaluated_acc/valid/plot_table#size": 330, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "ffec298a4be048e3964f492c94cfa89d676c81c9d4c68c151f5fe2da7f50ea21", "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_16": 0.9949, "sum__computed_num_process": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_37": 0.2, "sum__eval/f1": 0.7558, "sum__eval/recall": 0.9988, "sum__pred/test_acc_38": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_30": 1.6, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__pred/test_f1": 0.2135, "sum__train/recall": 1, "sum__pred/test_acc_24": 0.626, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/test_editDistance_29": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/test_editDistance_overall": 0.26, "sum__pred/test_acc_26": 0.006, "sum__pred/test_acc_36": 0, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_loss": 2.1338000297546387, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_21": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_precision": 0.1815, "sum__pred/test_editDistance_32": 0.4, "sum__pred/valid_editDistance_19": 0, "sum___runtime": 6984, "sum__pred/valid_f1": 0.756, "sum__pred/test_acc_22": 0.93, "sum__pred/valid_editDistance_17": 0, "sum__train/loss": 0.0004, "sum__pred/valid_acc_5": 1, "sum__train/total_flos": 1.2680741464930714e+17, "sum__pred/valid_acc_15": 0.9975, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 106151, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__train/seq_acc": 1, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_4": 1, "sum__eval/steps_per_second": 3.168, "sum__pred/test_editDistance_35": 0.6, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_5": 0, "sum__eval/runtime": 74.1742, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_11": 0.9976, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_acc_33": 0, "sum__pred/test_runtime": 151.6182, "sum__pred/test_editDistance_26": 0, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_36": 0.4, "sum__pred/valid_editDistance_14": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_21": 0.952, "sum__pred/test_recall": 0.2592, "sum__pred/valid_acc_18": 0.9928, "sum__pred/valid_acc_19": 0.9787, "sum__pred/valid_acc_20": 0.9919, "sum__pred/valid_acc_6": 1, "sum__train/global_step": 0, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "cf849566ba6fa00bb2cb0b2dc7645265cf964926c11d4a360fda4f5bcd90bda0", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_cf849566ba6fa00bb2cb.table.json", "sum__evaluated_acc/test/table#size": 7030310, "sum__pred/valid_editDistance_18": 0, "sum__train/train_steps_per_second": 6.083, "sum__eval/acc": 0.9297, "sum__train/acc": 0.3919, "sum__pred/valid_loss": 0.0004745038750115782, "sum__pred/test_editDistance_34": 0.2, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_recall": 0.9991, "sum__auto_computed_batch_size": 64, "sum__num_total_params": 137927808, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_20": 0, "sum__eval/seq_acc": 0.996, "sum__pred/valid_acc": 0.9297, "sum__pred/test_acc_35": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__pred/test_acc_27": 0, "sum__train/train_loss": 0.3318575224560278, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_4": 0, "sum__evaluated_acc/test/plot_table#sha256": "4513e7cbec2cfe5a04161356437ba83d0f2995f9c9d88c5424b14d0f82dea3e4", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_4513e7cbec2cfe5a0416.table.json", "sum__evaluated_acc/test/plot_table#size": 332, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_36975acf0f629a7113f5.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "36975acf0f629a7113f5f63856dedb8332eb625d16f49f77b9901c290c6f729f", "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_10": 0.9947, "sum__pred/valid_acc_13": 0.9976, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_28": 0.4, "sum__pred/valid_editDistance_10": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum___step": 4146, "sum__pred/test_acc_34": 0, "sum__num_train_samples": 100000, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "1d4e2e7a7c9940a65434ee5287d2192331688a3990b5798e3f26063ca37575b2", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_1d4e2e7a7c9940a65434.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8271, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__pred/test_acc_23": 0.912, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_23": 0, "sum__evaluated_acc/valid/table#size": 2209209, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "f74dfcaf102cf2fa8063a3378fb2fa7980306eb3338f33098ce148e76d9ebf73", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_f74dfcaf102cf2fa8063.table.json", "sum__eval/loss": 0.0003927958896383643, "sum__pred/test_acc_25": 0.126, "sum__pred/test_acc_28": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__eval/samples_per_second": 101.032, "sum__pred/test_editDistance_25": 0, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_9": 0, "sum__eval/precision": 0.6079, "sum__pred/valid_runtime": 74.5775, "sum__pred/valid_precision": 0.6081, "sum__pred/test_samples_per_second": 65.955, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc": 0.6596, "sum__pred/test_editDistance_31": 1.4, "sum__pred/valid_editDistance_8": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_agg_146317", "created_at": "2023-03-20T06:34:21", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___runtime": 17, "sum___step": 8, "sum___wandb#runtime": 32, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum___timestamp": 1679293956, "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_agg_234054", "created_at": "2023-03-20T06:34:11", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___timestamp": 1679293918, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___wandb#runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___runtime": 16, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_2_256788", "created_at": "2023-03-20T06:34:01", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum___runtime": 27, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum___wandb#runtime": 65, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum___timestamp": 1679293684, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336__146317", "created_at": "2023-03-20T06:33:36", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_12": 1, "sum__pred/valid_acc_14": 1, "sum__pred/valid_runtime": 74.7269, "sum__pred/valid_precision": 0.608, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_steps_per_second": 3.145, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_11": 1, "sum__pred/test_editDistance_39": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/test_samples_per_second": 67.972, "sum__pred/test_acc_36": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_samples_per_second": 100.285, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_acc_25": 0.268, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_38": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_f1": 0.2163, "sum__pred/test_acc_26": 0.02, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_16": 0.9891, "sum__pred/valid_acc_17": 0.9975, "sum__pred/test_acc_24": 0.764, "sum__pred/test_editDistance_35": 1, "sum__pred/valid_editDistance_6": 0, "sum__pred/test_editDistance_33": 0.8, "sum__pred/valid_acc_19": 0.9868, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_29": 0.8, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_acc_32": 0, "sum__pred/test_recall": 0.2621, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_20": 0.9799, "sum__pred/valid_seq_acc": 0.9968, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_28": 0.2, "sum__pred/test_acc": 0.6604, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_acc_7": 1, "sum__pred/test_precision": 0.1841, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_31": 2.6, "sum__pred/test_acc_21": 0.972, "sum__pred/test_acc_23": 0.932, "sum__pred/valid_acc_18": 0.9903, "sum__pred/test_editDistance_32": 1.6, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_acc": 0.9298, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_9": 1, "sum__pred/test_runtime": 147.1185, "sum__pred/test_seq_acc": 0.1957, "sum__pred/test_acc_overall": 0.1957, "sum__pred/valid_loss": 0.0004922517109662294, "sum__pred/test_steps_per_second": 2.128, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_acc_overall": 0.9968, "sum__pred/valid_acc_8": 1, "sum__pred/test_editDistance_30": 1.4, "sum__pred/test_editDistance_34": 0.4, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_loss": 2.184295415878296, "sum__pred/valid_recall": 0.9991, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_22": 0.958, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_15": 0.9948, "sum__pred/test_editDistance_38": 0, "sum__pred/test_editDistance_overall": 0.44, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_f1": 0.756, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_acc_33": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_agg_256788", "created_at": "2023-03-20T06:33:26", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum___runtime": 21, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___wandb#runtime": 39, "sum___timestamp": 1679293878, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336__234054", "created_at": "2023-03-20T06:33:01", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/epoch": 25.59, "sum__pred/test_acc_22": 0.934, "sum__train/global_step": 0, "sum__pred/valid_seq_acc": 0.9976, "sum__pred/test_acc_33": 0, "sum__pred/valid_recall": 0.9995, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_editDistance_3": 0, "sum___timestamp": 1679286668, "sum__pred/test_acc_36": 0, "sum__train/train_loss": 0.33323957165545437, "sum__pred/valid_acc_19": 0.9903, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/test_acc_25": 0.136, "sum__pred/test_recall": 0.2052, "sum__pred/test_editDistance_39": 7, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_24": 0.536, "sum__pred/test_acc_28": 0, "sum__auto_computed_batch_size_predict": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__train/recall": 1, "sum__train/total_flos": 1.2680591398708838e+17, "sum__computed_num_process": 1, "sum__pred/test_editDistance_32": 6.8, "sum__pred/valid_editDistance_19": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_acc": 0.9296, "sum__train/train_runtime": 6588.2012, "sum__pred/valid_editDistance_7": 0, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__train/precision": 0.4045, "sum__pred/valid_acc_6": 1, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "bc248cc917831ad2563363e2c2644516ffa3a9a4887210124f96a1950b97eb37", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_bc248cc917831ad25633.table.json", "sum__evaluated_acc/valid/table#size": 2219988, "sum__pred/test_editDistance_36": 7.4, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__eval/samples_per_second": 99.582, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_samples_per_second": 24.032, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_15": 0.9972, "sum__train/loss": 0.0004, "sum__pred/test_runtime": 416.1141, "sum__pred/test_seq_acc": 0.1732, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_16": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_033e2415601e786f56b0.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "033e2415601e786f56b031b96d68cc954880a5e361a4316d0eda407be3b5e1bd", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__eval/acc": 0.9295, "sum__pred/valid_acc_7": 1, "sum__eval/steps_per_second": 3.123, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_40": 4.6, "sum__eval/loss": 0.0006415443494915962, "sum__pred/valid_acc_overall": 0.9976, "sum__eval/runtime": 75.2543, "sum__pred/test_acc_overall": 0.1732, "sum__pred/valid_editDistance_10": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__eval/precision": 0.6082, "sum__pred/valid_acc_10": 0.9974, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_15": 0, "sum___wandb#runtime": 7342, "sum__pred/test_acc_23": 0.888, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_steps_per_second": 3.14, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_0a6197f25f6700866b91.table.json", "sum__evaluated_acc/test/plot_table#size": 333, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "0a6197f25f6700866b916a142bf6494a44fcb4fe4e2ef8198df79dd258932048", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__pred/valid_acc_2": 1, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_acc_17": 1, "sum__pred/valid_runtime": 74.8338, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_9": 0, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "a6fea7dc359dbde9b8fd944cb93dd92966f5710ba0f68cbc85b621f2c2ba861f", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_a6fea7dc359dbde9b8fd.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_16": 0.9974, "sum__num_trainable_params": 109607040, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_6": 0, "sum___step": 4146, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_samples_per_second": 100.142, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_9": 0.9975, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_37": 5.4, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_fe8a0a36bc3c141b0f26.table.json", "sum__evaluated_acc/valid/plot_table#size": 327, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "fe8a0a36bc3c141b0f26b023a0758213996050abbfb57574e490040c643a3567", "sum__pred/test_editDistance_31": 5.8, "sum__pred/test_editDistance_overall": 3.29, "sum__train/acc": 0.4045, "sum__pred/test_acc_37": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_12": 1, "sum__pred/valid_precision": 0.6085, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_loss": 0.00032902753446251154, "sum__pred/valid_acc_11": 0.9976, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "3791928a1e881a518102fe3f77041b5a59ba898e97a6ee8bbe1ec12f3d09f979", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_3791928a1e881a518102.table.json", "sum__evaluated_acc/test/table#size": 7282346, "sum__evaluated_acc/test/table#_type": "table-file", "sum__pred/test_editDistance_34": 8, "sum__train/train_steps_per_second": 6.071, "sum__train/seq_acc": 1, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_34": 0, "sum__pred/test_editDistance_33": 7, "sum__computed_per_device_train_batch_size": 64, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc": 0.61, "sum__pred/test_loss": 2.2513351440429688, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_28": 0, "sum__pred/test_steps_per_second": 0.752, "sum__pred/test_f1": 0.1593, "sum__num_total_params": 137927808, "sum__pred/test_acc_35": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__pred/test_editDistance_30": 1.8, "sum__pred/valid_editDistance_5": 0, "sum__train/f1": 0.576, "sum__eval/recall": 0.9989, "sum__pred/test_acc_26": 0.004, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_20": 0.9828, "sum__pred/test_editDistance_23": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 103397, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_18": 0.9973, "sum__pred/test_precision": 0.1301, "sum__pred/test_editDistance_35": 6.2, "sum__pred/valid_editDistance_11": 0, "sum__num_train_samples": 100000, "sum__pred/valid_acc_13": 0.9974, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_overall": 0, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "cad984a6289f0c6099ccd52893532e8f90f1df7392663ecf48ff2c1bb26e5a1f", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_cad984a6289f0c6099cc.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8278, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__eval/seq_acc": 0.9955, "sum__pred/valid_f1": 0.7565, "sum__pred/test_acc_21": 0.966, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_29": 1.2, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__eval/f1": 0.756, "sum___runtime": 7341, "sum__pred/test_editDistance_38": 4.6, "sum__pred/valid_editDistance_18": 0, "sum__train/train_samples_per_second": 388.573, "sum__ds_examples/ExperimentStage.TEST#size": 256163, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "b57cde4ea4d7dae961986f4a7c8b69d79e4735d4175ae9baecb529a0f8948a49", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_b57cde4ea4d7dae96198.table.json"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_146317", "created_at": "2023-03-20T06:26:03", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum___timestamp": 1679293401, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum___wandb#runtime": 34, "sum___runtime": 18, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_256788", "created_at": "2023-03-20T06:25:53", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum___wandb#runtime": 37, "sum___runtime": 18, "sum___timestamp": 1679293317, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_234054", "created_at": "2023-03-20T06:25:43", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___runtime": 21, "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum___wandb#runtime": 38, "sum___timestamp": 1679293361, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_2_256788", "created_at": "2023-03-20T06:25:32", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___step": 8, "sum___wandb#runtime": 74, "sum___runtime": 35, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum___timestamp": 1679293122, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_2_146317", "created_at": "2023-03-20T06:25:22", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum___runtime": 18, "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum___wandb#runtime": 58, "sum___timestamp": 1679293254, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba__234054", "created_at": "2023-03-20T06:24:55", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_f1": 0.7557, "sum__pred/test_acc_22": 0.982, "sum__pred/test_acc_23": 0.98, "sum__pred/valid_acc_6": 1, "sum__pred/valid_editDistance_6": 0, "sum__eval/acc": 0.9294, "sum__eval/loss": 0.0011247930815443397, "sum__pred/test_acc_30": 0.6, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_36": 0, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "65116f577a7b20d5459cbca90d739b620217fd760e60c7b5893e3603752c9a27", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_65116f577a7b20d5459c.table.json", "sum__evaluated_acc/valid/plot_table#size": 324, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__pred/test_recall": 0.4496, "sum__pred/valid_acc_10": 0.9974, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_33": 0, "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__train/total_flos": 1.2680591398708838e+17, "sum__num_train_samples": 100000, "sum__pred/test_steps_per_second": 1.884, "sum__pred/valid_editDistance_overall": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_16": 0, "sum__eval/recall": 0.9978, "sum__pred/test_f1": 0.3611, "sum__train/precision": 0.4045, "sum__pred/test_acc_26": 0.894, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_acc_19": 0.9951, "sum__pred/test_editDistance_25": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__evaluated_acc/test/plot_table#sha256": "b1eafef1f0b90482c13c59fce140dd7f725e105fa029a1c474038deaf4ef5fc0", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_b1eafef1f0b90482c13c.table.json", "sum__evaluated_acc/test/plot_table#size": 349, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__train/train_samples_per_second": 387.06, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_37": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_15": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc_24": 0.938, "sum__pred/test_seq_acc": 0.4738, "sum__pred/valid_recall": 0.9985, "sum__num_non_trainable_params": 28320768, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_20": 0.9901, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "ce72e9c59ca40d31b99a059e51f1dbcc9f295c7213ae2e47b1fa6ef3c772a2e7", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_ce72e9c59ca40d31b99a.table.json", "sum__evaluated_acc/valid/table#size": 2270317, "sum__evaluated_acc/valid/during_training_table#sha256": "63d91279c57b5088eafc75a849a3c9bfcfdea26ea28ad11ad1e99619a36c9a08", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_63d91279c57b5088eafc.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8174, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__eval/steps_per_second": 3.126, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_40": 0, "sum__train/acc": 0.4045, "sum__eval/seq_acc": 0.9979, "sum__train/recall": 1, "sum__pred/test_acc_33": 0.128, "sum__pred/valid_acc_8": 1, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 105971, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum___runtime": 6981, "sum__pred/test_runtime": 166.1682, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_13": 0, "sum__eval/f1": 0.7552, "sum__eval/precision": 0.6075, "sum__pred/test_acc_34": 0.06, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_35": 0.004, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_5": 1, "sum__train/train_loss": 0.2937523799817049, "sum__pred/valid_acc_16": 0.9974, "sum__pred/test_acc": 0.7094, "sum__pred/valid_acc_4": 1, "sum__pred/test_editDistance_30": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__pred/test_acc_31": 0.398, "sum__pred/valid_acc_12": 0.9976, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__pred/test_acc_38": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_7": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_samples_per_second": 60.18, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_precision": 0.6079, "sum__pred/test_acc_overall": 0.4738, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_12": 0, "sum__train/epoch": 25.59, "sum__pred/valid_seq_acc": 0.9983, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_steps_per_second": 3.137, "sum__pred/valid_editDistance_17": 0, "sum___timestamp": 1679286104, "sum__pred/test_acc_27": 0.826, "sum__pred/valid_acc_18": 1, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_acc_32": 0.248, "sum__train/train_runtime": 6613.9622, "sum__eval/samples_per_second": 99.685, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_21": 0.978, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_acc_25": 0.924, "sum__pred/test_acc_28": 0.802, "sum__pred/valid_acc_11": 0.9976, "sum__pred/valid_runtime": 74.9097, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__pred/valid_acc_13": 0.9948, "sum__train/global_step": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_editDistance_18": 0, "sum___step": 4146, "sum__train/learning_rate": 1e-07, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_39": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__train/loss": 0.0006, "sum__pred/valid_loss": 0.0007509407587349415, "sum__pred/valid_acc_overall": 0.9983, "sum__train/train_steps_per_second": 6.048, "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__pred/test_acc_36": 0.008, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_14": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_3": 1, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__train/f1": 0.576, "sum__train/seq_acc": 1, "sum__pred/test_loss": 0.42476707696914673, "sum__pred/valid_acc_9": 1, "sum__pred/test_precision": 0.3018, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_samples_per_second": 100.04, "sum__eval/runtime": 75.1771, "sum__num_total_params": 137927808, "sum__pred/valid_acc_15": 1, "sum__train/gen_max_length": 256, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_da4cfdceef443b3ca699.table.json", "sum__evaluated_acc/test/table#size": 7374627, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "da4cfdceef443b3ca6994c579c3f43c01dc11e3c214a1a65261cc6bff022240f", "sum__pred/valid_editDistance_8": 0, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__pred/valid_acc": 0.9294, "sum__pred/test_acc_29": 0.706, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_22": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba__256788", "created_at": "2023-03-20T06:24:30", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_acc_12": 1, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_17": 0, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.PREDICTION#size": 108887, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_b1f4042d51f1c9582b32.table.json", "sum__eval/acc": 0.9296, "sum__train/seq_acc": 1, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__pred/test_acc_28": 0.83, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_7": 0.9974, "sum__pred/valid_recall": 0.9985, "sum__pred/test_acc_overall": 0.4795, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_17": 0.9975, "sum__train/f1": 0.5631, "sum__eval/seq_acc": 0.9984, "sum__pred/test_f1": 0.3583, "sum__pred/valid_acc": 0.9296, "sum__pred/test_acc_26": 0.92, "sum__pred/test_acc_38": 0, "sum__pred/valid_runtime": 74.1586, "sum__pred/valid_editDistance_14": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__pred/test_loss": 0.5796347856521606, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_16": 0, "sum__eval/precision": 0.6077, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_samples_per_second": 60.873, "sum__train/train_samples_per_second": 387.842, "sum__pred/test_acc_31": 0.376, "sum__pred/valid_acc_16": 0.9949, "sum__computed_num_process": 1, "sum__pred/valid_num_samples": 7494, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_28": 0, "sum__pred/test_acc_25": 0.938, "sum__pred/test_acc_27": 0.868, "sum__num_train_samples": 100000, "sum__pred/test_runtime": 164.277, "sum__pred/valid_acc_14": 0.9975, "sum__pred/test_precision": 0.2997, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_editDistance_overall": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_55f7a83185fd3c64bad9.table.json", "sum__evaluated_acc/test/plot_table#size": 347, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "55f7a83185fd3c64bad95b8101168cef3443f4491c9b724a15e8b62e72ed4483", "sum__pred/test_recall": 0.4454, "sum__train/train_runtime": 6600.6284, "sum__pred/valid_acc_overall": 0.9984, "sum__eval/samples_per_second": 100.641, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_f1": 0.7556, "sum__evaluated_acc/valid/table#size": 2258378, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "67e0ce4234078bcb8a2d1807cc1e89afd4cb6b9463fd0d44999d315caea291e2", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_67e0ce4234078bcb8a2d.table.json", "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_acc_34": 0.052, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_3": 1, "sum__auto_computed_eval_batch_size": 32, "sum__train/acc": 0.3919, "sum__pred/test_acc_30": 0.582, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_7": 0, "sum__num_total_params": 137927808, "sum__pred/valid_acc_15": 1, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_37": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/test_acc_37": 0, "sum__pred/valid_seq_acc": 0.9984, "sum__pred/test_editDistance_35": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_acc_24": 0.958, "sum__pred/test_acc_32": 0.256, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_11": 0.9976, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__eval/runtime": 74.4628, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_acc_21": 0.984, "sum__pred/test_acc_22": 0.98, "sum__pred/test_acc_33": 0.124, "sum__pred/valid_acc_6": 1, "sum__train/global_step": 0, "sum__pred/test_steps_per_second": 1.905, "sum__eval/recall": 0.9985, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_steps_per_second": 3.169, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc_20": 0.9919, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_acc_13": 1, "sum__pred/valid_acc_18": 0.9976, "sum__eval/loss": 0.000934914918616414, "sum__train/recall": 1, "sum__pred/test_acc_23": 0.974, "sum__pred/valid_acc_4": 1, "sum__train/total_flos": 1.2680741464930714e+17, "sum__pred/test_seq_acc": 0.4795, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_samples_per_second": 101.054, "sum__num_trainable_params": 109607040, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_27": 0, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "2c67f33029cf991be8928689e9a22cb58dc76eab4ea1d7f670dde6007dff35ad", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_2c67f33029cf991be892.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8162, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__pred/test_acc_35": 0.008, "sum__pred/valid_acc_5": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum___timestamp": 1679279117, "sum__train/loss": 0.0007, "sum__pred/test_acc_29": 0.74, "sum__pred/test_editDistance_24": 0, "sum__train/train_steps_per_second": 6.06, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 4146, "sum__pred/valid_acc_8": 0.9973, "sum__train/train_loss": 0.3028521230422484, "sum__pred/valid_precision": 0.6077, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "5164503e6c1495f464654bb62e070de437cddc5e72af6457bea79758e2ab7bee", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_5164503e6c1495f46465.table.json", "sum__evaluated_acc/test/table#size": 7368110, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_34": 0, "sum__auto_computed_batch_size_predict": 32, "sum__eval/f1": 0.7556, "sum__pred/valid_loss": 0.000934914918616414, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/test_acc": 0.7084, "sum__pred/valid_editDistance_13": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_c4621c91b7e612de2819.table.json", "sum__evaluated_acc/valid/plot_table#size": 327, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "c4621c91b7e612de28190a5ef1233a5dd96daa8d4d3b247b1b926e3a685a19f9", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_6": 0, "sum___runtime": 6976, "sum__train/epoch": 25.59, "sum__train/precision": 0.3919, "sum__eval/steps_per_second": 3.156, "sum__pred/test_editDistance_23": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba__146317", "created_at": "2023-03-20T06:24:05", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/acc": 0.9295, "sum__pred/valid_acc_4": 1, "sum__pred/test_editDistance_38": 0, "sum__pred/test_editDistance_39": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum___timestamp": 1679293064, "sum__pred/test_seq_acc": 0.4662, "sum__pred/valid_acc_11": 0.9949, "sum__pred/test_editDistance_25": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_18": 0, "sum__pred/test_samples_per_second": 61.234, "sum___runtime": 6953, "sum__train/epoch": 25.59, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_37": 0, "sum__pred/test_acc_38": 0, "sum__auto_computed_batch_size_predict": 32, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_28": 0.782, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_steps_per_second": 3.159, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_fd823fdad5362424ea22.table.json", "sum__evaluated_acc/test/plot_table#size": 350, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "fd823fdad5362424ea22b2c627e8eb20e1647179f4cfd79d380ff306669d8bda", "sum__pred/test_f1": 0.3497, "sum__pred/test_acc_21": 0.984, "sum__pred/test_precision": 0.2929, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "e1f6ea4cd5c08536d8852e7652c1f37ef58268ec888a2684d26d94cb8e84327c", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_e1f6ea4cd5c08536d885.table.json", "sum__evaluated_acc/valid/plot_table#size": 330, "sum__pred/test_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "67f4a878ce6cd5cce2e8202032cee1711e2ac41673d7511fd660aa01229cbe4c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_67f4a878ce6cd5cce2e8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 160688, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__pred/test_acc_34": 0.032, "sum__train/train_loss": 0.3021487637192302, "sum__pred/valid_runtime": 74.3944, "sum__pred/valid_editDistance_10": 0, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 107357, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__pred/test_acc_27": 0.854, "sum__pred/test_acc_35": 0.012, "sum__pred/valid_acc_8": 1, "sum__pred/test_editDistance_31": 0, "sum__eval/recall": 0.9968, "sum__pred/test_acc_40": 0, "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__pred/valid_acc_20": 0.9899, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_40": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 45.99592, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_26": 0.892, "sum__pred/valid_acc_6": 1, "sum__eval/samples_per_second": 98.808, "sum__pred/test_steps_per_second": 1.917, "sum__auto_computed_grad_acc_steps": 1, "sum__eval/seq_acc": 0.9965, "sum__pred/valid_acc_14": 0.99, "sum__train/train_steps_per_second": 6.077, "sum__train/acc": 0.4067, "sum__pred/valid_f1": 0.7542, "sum__pred/test_acc_25": 0.922, "sum__pred/test_acc_30": 0.55, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_15": 0.9974, "sum__pred/valid_precision": 0.6066, "sum__eval/steps_per_second": 3.098, "sum__pred/test_editDistance_33": 0, "sum__auto_computed_eval_batch_size": 32, "sum__train/train_samples_per_second": 388.933, "sum__train/loss": 0.0001, "sum__train/global_step": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_22": 0, "sum__train/recall": 1, "sum__train/seq_acc": 1, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_15": 0, "sum__eval/runtime": 75.844, "sum__computed_num_process": 1, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_editDistance_overall": 0, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "f9be532becc7a12d8b0833025815040b34c0482b72c1c37fba03b4c5e3b42904", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_f9be532becc7a12d8b08.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8251, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_13": 0.995, "sum__pred/valid_acc_16": 0.9891, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "12dfa3aecaadeb7c10d159bd81c42b6b40c3115abaa390a6559808ef1a0fe580", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_12dfa3aecaadeb7c10d1.table.json", "sum__evaluated_acc/test/table#size": 7357255, "sum__pred/test_editDistance_36": 0, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__eval/loss": 0.002201882656663656, "sum__pred/test_loss": 0.6487463116645813, "sum__pred/test_recall": 0.434, "sum__pred/test_runtime": 163.3082, "sum__pred/valid_acc_17": 0.9975, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_6": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_c8cd88bbe0413ecc6309.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 258548, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "c8cd88bbe0413ecc63093edb6fc34a79f6467d3c0502016b659e1addfd96815c", "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc_19": 0.9947, "sum__pred/valid_seq_acc": 0.9965, "sum__pred/valid_editDistance_11": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__pred/valid_loss": 0.002201882656663656, "sum__pred/valid_acc_2": 1, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_19": 0, "sum___step": 4146, "sum__num_total_params": 137927808, "sum__num_trainable_params": 109607040, "sum__train/gen_max_length": 256, "sum__evaluated_acc/valid/table#sha256": "ea80f2574f0eff7edefd691a39e35846c6ca6fcfa8896a8edb719f871e22390e", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_ea80f2574f0eff7edefd.table.json", "sum__evaluated_acc/valid/table#size": 2257453, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_acc": 0.9295, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_3": 0, "sum__eval/f1": 0.7542, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_12": 0.9976, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_14": 0, "sum__train/precision": 0.4067, "sum__train/learning_rate": 1e-07, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_samples_per_second": 100.733, "sum__train/total_flos": 1.2681315631344845e+17, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_7": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 16.428411467746965, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 45.99592, "sum__train/f1": 0.5782, "sum__pred/test_acc_23": 0.968, "sum__pred/test_acc_31": 0.356, "sum__num_train_samples": 100000, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_acc_5": 1, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__pred/test_acc": 0.7054, "sum__pred/test_acc_33": 0.118, "sum__pred/test_acc_overall": 0.4662, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_acc_24": 0.942, "sum__pred/test_acc_32": 0.242, "sum__pred/valid_recall": 0.9968, "sum__pred/valid_num_samples": 7494, "sum__eval/precision": 0.6066, "sum__pred/test_acc_22": 0.972, "sum__pred/test_acc_29": 0.698, "sum__pred/valid_acc_10": 0.9974, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_acc_18": 0.9903, "sum__train/train_runtime": 6582.1122, "sum__pred/valid_acc_overall": 0.9965}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_2_234054", "created_at": "2023-03-20T06:23:54", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679293191, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum___wandb#runtime": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum___runtime": 24}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854__256788", "created_at": "2023-03-20T05:57:39", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum___timestamp": 1679278560, "sum__eval/runtime": 78.6894, "sum__pred/test_editDistance_35": 0, "sum__train/total_flos": 8.337870676190822e+16, "sum__pred/test_seq_acc": 0.028, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_89f01eac47a7556c42d8.table.json", "sum__evaluated_acc/test/table#size": 2891775, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "89f01eac47a7556c42d8d2c32ac2e92962aef2491c50467ce7b20dba40768c82", "sum__evaluated_acc/valid/plot_table#sha256": "7e0992967c4c807987036894bba4b5ee282492a781957c1b921953f6349a1c4e", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_7e0992967c4c80798703.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__auto_computed_batch_size_predict": 32, "sum__computed_per_device_train_batch_size": 64, "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__eval/recall": 1, "sum__pred/valid_acc_12": 1, "sum__pred/test_precision": 0.0541, "sum__train/f1": 0.4097, "sum__pred/valid_seq_acc": 1, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "ce7078b2dcb07b35d8b23f9307f8a905cb5b1940220eaabb167e81ad5548f2e1", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_ce7078b2dcb07b35d8b2.table.json", "sum__evaluated_acc/valid/table#size": 1108887, "sum__evaluated_acc/valid/table#_type": "table-file", "sum___step": 4146, "sum__pred/test_acc": 0.7422, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__pred/test_editDistance_38": 0, "sum__train/train_steps_per_second": 6.551, "sum__pred/valid_acc_2": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_14": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__eval/precision": 0.3998, "sum__pred/valid_loss": 1.2952106771990655e-05, "sum__pred/valid_runtime": 79.4623, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_samples_per_second": 94.309, "sum__pred/valid_acc_16": 1, "sum__pred/valid_acc_17": 1, "sum__train/train_runtime": 6106.1017, "sum__pred/test_editDistance_29": 0, "sum__train/acc": 0.2576, "sum__pred/valid_f1": 0.5712, "sum__train/precision": 0.2576, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_18": 1, "sum__pred/valid_recall": 1, "sum__pred/valid_editDistance_12": 0, "sum___wandb#runtime": 6420, "sum__pred/valid_acc": 0.9298, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_33": 0, "sum__pred/test_recall": 0.0955, "sum__pred/valid_acc_6": 1, "sum__train/train_loss": 0.2895669592711434, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_13": 1, "sum__pred/test_num_samples": 10000, "sum__train/epoch": 25.59, "sum__train/seq_acc": 1, "sum__auto_computed_batch_size": 64, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_22": 0, "sum__eval/steps_per_second": 2.986, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_19": 0, "sum__num_total_params": 137927808, "sum__pred/valid_acc_7": 1, "sum__pred/valid_precision": 0.3998, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/test_steps_per_second": 2.753, "sum__pred/valid_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 75108, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_34": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_8": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_editDistance_13": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__eval/seq_acc": 1, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_8": 1, "sum__train/gen_max_length": 256, "sum__num_non_trainable_params": 28320768, "sum___runtime": 6419, "sum__pred/test_f1": 0.0691, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_34": 0, "sum__train/train_samples_per_second": 419.253, "sum__pred/test_acc_21": 0.56, "sum__pred/valid_editDistance_18": 0, "sum__evaluated_acc/test/plot_table#size": 321, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "03f41b59799cb6f35b572037fdd84ae61fc0245e85cc9d01c3b83c2c4c863df5", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_03f41b59799cb6f35b57.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__train/recall": 1, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_14": 1, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_overall": 0.028, "sum__pred/valid_editDistance_5": 0, "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__pred/test_loss": 10.185630798339844, "sum__pred/valid_acc_19": 1, "sum__train/global_step": 0, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_17": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__pred/valid_acc_15": 1, "sum__eval/samples_per_second": 95.235, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_11": 0, "sum__train/loss": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__pred/test_editDistance_22": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__eval/acc": 0.9298, "sum__pred/test_acc_38": 0, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/test_samples_per_second": 87.968, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_62701f7d6424adad8470.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7638, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "62701f7d6424adad8470bc013cfe5df1e1488f2a4d1f697080337a30bcf526e3", "sum__eval/loss": 1.8168599353884929e-06, "sum__pred/test_acc_29": 0, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_steps_per_second": 2.957, "sum__auto_computed_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__pred/test_acc_39": 0, "sum__pred/test_runtime": 113.6772, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_40": 0, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_10": 0, "sum__eval/f1": 0.5712, "sum__pred/valid_acc_9": 1, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_21": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_2_256788", "created_at": "2023-03-20T05:57:29", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum___runtime": 22, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___wandb#runtime": 64, "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1679291393, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854__234054", "created_at": "2023-03-20T05:57:00", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__evaluated_acc/test/table#sha256": "991361e198a97f28179c4568679106b9510a88681884f72734c55413318176ee", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_991361e198a97f28179c.table.json", "sum__evaluated_acc/test/table#size": 3069622, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/test_editDistance_39": 0, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "2c8e68dc93c12d729d822a39caeb1076e846010cafe69918ce0180fe60e11b9c", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_2c8e68dc93c12d729d82.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7623, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum___runtime": 6392, "sum__pred/valid_runtime": 78.2207, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_14": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__pred/valid_acc_12": 1, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_samples_per_second": 95.806, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__train/loss": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_9": 1, "sum__pred/test_runtime": 128.0554, "sum__pred/valid_editDistance_18": 0, "sum__eval/acc": 0.9296, "sum__pred/valid_acc_10": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_acc_25": 0.014, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_16": 1, "sum__pred/valid_acc_19": 1, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_22": 0, "sum___timestamp": 1679284959, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/test_steps_per_second": 2.444, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__pred/test_acc_38": 0, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_8": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_f1": 0.5715, "sum__pred/test_precision": 0.2234, "sum__computed_num_process": 1, "sum__num_non_trainable_params": 28320768, "sum__pred/test_seq_acc": 0.1635, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__pred/valid_editDistance_10": 0, "sum__train/train_samples_per_second": 420.974, "sum__pred/valid_acc_18": 1, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_15": 1, "sum__eval/steps_per_second": 2.996, "sum__pred/valid_editDistance_8": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_loss": 4.464292049407959, "sum__pred/valid_acc_7": 1, "sum__train/global_step": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/test_samples_per_second": 78.091, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__train/epoch": 25.59, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_6": 1, "sum__pred/valid_recall": 1, "sum__pred/valid_steps_per_second": 3.004, "sum__train/train_steps_per_second": 6.578, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_acc_33": 0, "sum__eval/loss": 1.459081431676168e-06, "sum__pred/test_acc_24": 0.396, "sum__pred/test_acc_37": 0, "sum__pred/test_acc_39": 0, "sum__eval/samples_per_second": 95.531, "sum__evaluated_acc/test/plot_table#size": 331, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "8ff82eb4de5d8d4ebf6c408154d113ecc7e8ec6333f69fe7742eacafc937cf6f", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_8ff82eb4de5d8d4ebf6c.table.json", "sum___step": 4146, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_36": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__train/recall": 1, "sum__pred/test_acc": 0.7818, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_15": 0, "sum___wandb#runtime": 6394, "sum__pred/test_recall": 0.4169, "sum__pred/valid_acc_13": 1, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_7": 0, "sum__eval/f1": 0.5715, "sum__pred/valid_editDistance_overall": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_acc_31": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__pred/valid_acc": 0.9296, "sum__train/learning_rate": 1e-07, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_34": 0, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "4988761410031d078bf07f9732e9422184083698737b6d0ab121b5a6b00e78a3", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_4988761410031d078bf0.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__computed_per_device_train_batch_size": 64, "sum__train/f1": 0.4218, "sum__pred/test_acc_21": 0.996, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_32": 0, "sum__eval/recall": 1, "sum__num_total_params": 137927808, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_editDistance_17": 0, "sum__train/acc": 0.2673, "sum__train/precision": 0.2673, "sum__train/train_runtime": 6081.1392, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_5": 0, "sum__train/seq_acc": 1, "sum__pred/valid_loss": 9.866471373243256e-06, "sum__pred/test_acc_22": 0.982, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_5": 1, "sum__num_train_samples": 100000, "sum__pred/valid_precision": 0.4001, "sum__eval/precision": 0.4001, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_acc_28": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_16": 0, "sum__eval/runtime": 78.4461, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_33": 0, "sum__pred/test_editDistance_40": 0, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__pred/test_acc_23": 0.882, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_9e358064088059c1c45d.table.json", "sum__evaluated_acc/valid/table#size": 1113883, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "9e358064088059c1c45d5647ddd9049a6d2211a96d481f2410728ad47ef76976", "sum__pred/valid_editDistance_6": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__eval/seq_acc": 1, "sum__pred/test_editDistance_38": 0, "sum__pred/test_acc_overall": 0.1635, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_12": 0, "sum__auto_computed_batch_size_predict": 32, "sum__ds_examples/ExperimentStage.PREDICTION#size": 71740, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_6a37961b5e0df848ea35.table.json", "sum__pred/test_f1": 0.291, "sum__train/total_flos": 8.337770632042906e+16, "sum__train/train_loss": 0.27821840881071913, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_acc_3": 1}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854__146317", "created_at": "2023-03-20T05:56:35", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/seq_acc": 1, "sum__pred/test_acc_37": 0, "sum__train/train_runtime": 6097.6348, "sum__pred/test_editDistance_27": 0, "sum__pred/test_acc_28": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_12": 1, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_f1": 0.0807, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_13": 1, "sum__pred/valid_runtime": 78.4419, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_9": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_16": 0, "sum__eval/recall": 1, "sum__train/precision": 0.2689, "sum__pred/test_acc_36": 0, "sum__computed_num_process": 1, "sum__num_trainable_params": 109607040, "sum___wandb#runtime": 6398, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_acc_25": 0, "sum__pred/valid_editDistance_9": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__train/train_steps_per_second": 6.56, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_6": 0, "sum__auto_computed_batch_size_predict": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__train/train_loss": 0.2933081566997411, "sum__pred/valid_acc_19": 1, "sum__train/learning_rate": 1e-07, "sum__eval/loss": 1.5371698509625276e-06, "sum__eval/runtime": 78.2225, "sum__pred/test_acc_21": 0.812, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_5793e1d129e60f13e81d.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7702, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "5793e1d129e60f13e81dc0e9657d740b3c4150bc608b1776e29b579e946dfb6e", "sum__eval/samples_per_second": 95.804, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_30": 0, "sum__train/loss": 0, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_3": 1, "sum__pred/test_runtime": 111.3952, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_39": 0, "sum___timestamp": 1679291364, "sum__pred/valid_acc_7": 1, "sum__pred/test_seq_acc": 0.0406, "sum__eval/steps_per_second": 3.004, "sum__pred/test_steps_per_second": 2.81, "sum__pred/test_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__eval/precision": 0.3997, "sum__pred/valid_acc_20": 1, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "3df35b92a45514b3803f419fc381536c84a7f470cf5b9f015e85aba683d349b4", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_3df35b92a45514b3803f.table.json", "sum__evaluated_acc/valid/table#size": 1104805, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_8": 0, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "6c9d25a880a0c2f3e490a77c620c1eec00bfaf901a567ac1d5fe3d3d56823d7d", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_6c9d25a880a0c2f3e490.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc": 0.9299, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_12": 0, "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "d5ff735dcc9124c03f9278d0fb2ae0dc0c9b5cd2d2da16cc7ce22eec7551a68c", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_d5ff735dcc9124c03f92.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum___step": 4146, "sum__pred/test_loss": 13.214398384094238, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/test_samples_per_second": 89.771, "sum__eval/f1": 0.5711, "sum__pred/test_acc": 0.7443, "sum__train/global_step": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_recall": 0.1121, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_4": 0, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum___runtime": 6398, "sum__train/f1": 0.4239, "sum__train/epoch": 25.59, "sum__pred/valid_loss": 5.264560968498699e-06, "sum__pred/valid_acc_18": 1, "sum__pred/valid_acc_6": 1, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__train/train_samples_per_second": 419.835, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_40": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_17": 1, "sum__pred/test_precision": 0.063, "sum__pred/valid_editDistance_19": 0, "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_37": 0, "sum__eval/acc": 0.9299, "sum__eval/seq_acc": 1, "sum__pred/test_acc_34": 0, "sum__train/total_flos": 8.338253453800243e+16, "sum__pred/valid_acc_11": 1, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_15": 0, "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 73922, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__pred/valid_samples_per_second": 95.536, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_16": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_38": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_34": 0, "sum__train/acc": 0.2689, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_10": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__num_total_params": 137927808, "sum__pred/valid_precision": 0.3997, "sum__pred/test_acc_overall": 0.0406, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_8b3ea9f599b2bafa82c7.table.json", "sum__evaluated_acc/test/table#size": 2913251, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "8b3ea9f599b2bafa82c78780c81560d85ca8eaaeb25ce475540211e5a0d47dcd", "sum__pred/valid_editDistance_7": 0, "sum__train/recall": 1, "sum__pred/valid_acc_2": 1, "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__pred/valid_f1": 0.5711, "sum__num_train_samples": 100000, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_22": 0, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_steps_per_second": 2.996, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_agg_146317", "created_at": "2023-03-20T05:56:25", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 58, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679291693, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum___runtime": 21, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_agg_256788", "created_at": "2023-03-20T05:56:14", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679291585, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum___runtime": 17, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___step": 8, "sum___wandb#runtime": 44, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_2_234054", "created_at": "2023-03-20T05:56:03", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 19, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___timestamp": 1679291459, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum___wandb#runtime": 60, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_agg_234054", "created_at": "2023-03-20T05:55:52", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 49, "sum___timestamp": 1679291633, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum___step": 8, "sum___runtime": 15, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_2_146317", "created_at": "2023-03-20T05:55:42", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum___wandb#runtime": 58, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum___step": 8, "sum___timestamp": 1679291522, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum___runtime": 17}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_agg_256788", "created_at": "2023-03-20T04:22:12", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 260, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum___runtime": 16, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum___timestamp": 1679285146, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c__234054", "created_at": "2023-03-20T04:21:46", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_37": 0, "sum__num_train_samples": 100000, "sum__pred/valid_editDistance_16": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__eval/recall": 0.9997, "sum__pred/valid_editDistance_19": 0, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "a778d92c760429c2342dfb39034235ada068c80b1498e77d12a2a854859c4578", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_a778d92c760429c2342d.table.json", "sum__evaluated_acc/test/plot_table#size": 339, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__pred/test_editDistance_overall": 0.41, "sum__pred/test_editDistance_32": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_editDistance_10": 0, "sum__eval/acc": 0.9296, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_20": 0.9975, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_38": 0.8, "sum__pred/test_steps_per_second": 3.486, "sum___step": 4146, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_8": 1, "sum__train/train_runtime": 3975.8308, "sum__pred/test_editDistance_39": 2.2, "sum__pred/valid_editDistance_14": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__pred/test_acc_21": 0.996, "sum__train/learning_rate": 1e-07, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__pred/valid_runtime": 37.7758, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_precision": 0.4, "sum__pred/valid_seq_acc": 0.9996, "sum__train/gen_max_length": 256, "sum__pred/valid_acc_overall": 0.9996, "sum__pred/valid_editDistance_15": 0, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 71740, "sum__eval/f1": 0.5714, "sum__train/f1": 0.4218, "sum__eval/runtime": 37.7326, "sum__pred/test_acc_22": 0.982, "sum__pred/test_acc_26": 0.486, "sum__pred/test_acc_27": 0.228, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_7": 0, "sum___wandb#runtime": 4228, "sum__pred/test_samples_per_second": 111.375, "sum__pred/test_editDistance_34": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__train/total_flos": 8.337770632042906e+16, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_steps_per_second": 6.221, "sum__train/train_steps_per_second": 10.061, "sum__pred/valid_acc_7": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/test_loss": 1.887954831123352, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_12": 0, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__pred/test_recall": 0.2371, "sum__eval/precision": 0.4, "sum__train/precision": 0.2673, "sum__auto_computed_grad_acc_steps": 1, "sum__train/acc": 0.2673, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_12": 1, "sum__evaluated_acc/valid/plot_table#size": 309, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "a930ed2c6ab8c3b52d47118c198f31eec4f115d519fe0ea9cdd85742cbf07a7b", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_a930ed2c6ab8c3b52d47.table.json", "sum___runtime": 4227, "sum__pred/test_acc_24": 0.894, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_9": 1, "sum__train/train_loss": 0.34377421585239065, "sum__pred/valid_acc_15": 1, "sum__pred/test_precision": 0.1128, "sum__pred/test_f1": 0.1528, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_acc_13": 1, "sum__train/global_step": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_37": 0.4, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/test_acc_34": 0, "sum__eval/seq_acc": 0.9996, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_18": 0, "sum__eval/loss": 0.0002555337268859148, "sum__pred/test_acc_38": 0, "sum__computed_num_process": 1, "sum__pred/test_acc_30": 0, "sum__pred/test_seq_acc": 0.2686, "sum__num_trainable_params": 109607040, "sum__pred/test_acc_overall": 0.2686, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_loss": 0.00036468420876190066, "sum__pred/test_acc_28": 0.038, "sum__pred/valid_acc_14": 0.9975, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_36": 0.2, "sum__pred/valid_editDistance_3": 0, "sum__train/loss": 0.0002, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_16": 1, "sum__eval/samples_per_second": 198.608, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_acc": 0.9296, "sum__pred/test_acc_33": 0, "sum__pred/test_runtime": 89.7871, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_recall": 0.9996, "sum__pred/test_editDistance_40": 4.2, "sum__pred/valid_editDistance_20": 0, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__pred/valid_f1": 0.5713, "sum__train/seq_acc": 1, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_29": 0, "sum__train/epoch": 25.59, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_acc_2": 1, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_81576240c1658b1fd9a3.table.json", "sum__evaluated_acc/test/table#size": 3509469, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "81576240c1658b1fd9a3f612057022c6166ecee56139eb180455d1ffeee1c7a0", "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "8472b3896fcaf45650d0493ed93356215dedca14926c4ff4eaeb73535fdc4440", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_8472b3896fcaf45650d0.table.json", "sum__evaluated_acc/valid/table#size": 1113858, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__pred/valid_editDistance_4": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_79eecfc726cfc921db98.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8232, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "79eecfc726cfc921db98f81bbe86c1bc0f73cf66584a7b043ac4937b12d8899a", "sum__pred/test_acc_25": 0.768, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_11": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__pred/test_acc_29": 0.016, "sum__eval/steps_per_second": 6.228, "sum__pred/test_editDistance_33": 0.2, "sum__pred/test_editDistance_35": 0.2, "sum__train/recall": 1, "sum__pred/test_acc": 0.7596, "sum__num_total_params": 137927808, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_19": 1, "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_overall": 0, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum___timestamp": 1679280611, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_samples_per_second": 198.381, "sum__pred/valid_editDistance_6": 0, "sum__pred/test_editDistance_25": 0, "sum__train/train_samples_per_second": 643.891, "sum__auto_computed_batch_size_predict": 32, "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "8fd23544d83ef513c107e4aa6bf3db59e31d75937d51c30f641f6b497039d05f", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_8fd23544d83ef513c107.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__pred/valid_num_samples": 7494, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_acc_23": 0.964}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_agg_234054", "created_at": "2023-03-20T04:21:36", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum___wandb#runtime": 274, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum___runtime": 16, "sum___timestamp": 1679285412, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c__146317", "created_at": "2023-03-20T04:21:08", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_26": 0.258, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_5": 1, "sum__eval/steps_per_second": 6.263, "sum__pred/test_acc_25": 0.522, "sum__pred/valid_acc_20": 1, "sum__pred/valid_editDistance_18": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 73922, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__pred/test_acc_37": 0, "sum__pred/test_acc_overall": 0.2298, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_c95a9d95093afc932ebe.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8181, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "c95a9d95093afc932ebe2d2ba360ce8638d2b4aa9b9dbf93c1ec7b41aedce1df", "sum__pred/test_editDistance_39": 87.4, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_overall": 0, "sum__eval/recall": 0.9993, "sum__eval/samples_per_second": 199.734, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_15": 0, "sum___wandb#runtime": 4332, "sum__eval/f1": 0.5707, "sum__eval/loss": 0.000520165718626231, "sum__train/recall": 1, "sum__pred/test_editDistance_37": 75.6, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_34": 0, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_15": 0.9974, "sum__pred/valid_acc_16": 0.9973, "sum___runtime": 4330, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_3": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_16": 0, "sum__train/acc": 0.2689, "sum__pred/test_precision": 0.0934, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_loss": 0.000520165718626231, "sum__pred/test_seq_acc": 0.2298, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_5": 0, "sum__eval/seq_acc": 0.9992, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_7": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__pred/valid_f1": 0.5707, "sum__pred/test_editDistance_31": 18.2, "sum__pred/test_editDistance_34": 52.4, "sum__train/train_steps_per_second": 10.023, "sum__pred/valid_acc_6": 1, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_dfe49c49d8a7c529bf32.table.json", "sum__evaluated_acc/test/table#size": 4298212, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "dfe49c49d8a7c529bf325b956f2360dccc67395442403d65e46518881a1e7db8", "sum__pred/valid_editDistance_2": 0, "sum__pred/test_steps_per_second": 1.718, "sum__pred/valid_steps_per_second": 6.201, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "3ee8ee2e28d7fe7df06f0bc88239fddd0e4eb78b6212ef582679b2e44d3d4269", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_3ee8ee2e28d7fe7df06f.table.json", "sum__evaluated_acc/valid/plot_table#size": 315, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_24": 0.814, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_30": 8.6, "sum__pred/test_editDistance_33": 43.4, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_29": 3.2, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_13": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum___timestamp": 1679284948, "sum__pred/test_f1": 0.1298, "sum__train/global_step": 0, "sum__pred/valid_seq_acc": 0.9992, "sum__pred/valid_precision": 0.3994, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__train/f1": 0.4239, "sum__pred/valid_acc_9": 1, "sum__pred/valid_editDistance_17": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "292699659672e43bf14016ca6b6302bf783bbea5f082289727e0e2ce46e76232", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_292699659672e43bf140.table.json", "sum__evaluated_acc/test/plot_table#size": 336, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__pred/test_editDistance_38": 77.4, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_recall": 0.2127, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_18": 0.9952, "sum__pred/valid_acc_overall": 0.9992, "sum__pred/test_editDistance_22": 0, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_65ee8644f07efa5c82e5.table.json", "sum__evaluated_acc/valid/table#size": 1104783, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "65ee8644f07efa5c82e5c04e252d5715671840da788c836edbf6279ad8f1bcce", "sum__pred/valid_editDistance_19": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__eval/acc": 0.9298, "sum__pred/test_acc_21": 0.994, "sum__pred/test_acc_23": 0.954, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_19": 1, "sum__pred/test_editDistance_overall": 30.8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__auto_computed_batch_size_predict": 32, "sum__train/precision": 0.2689, "sum__pred/test_acc_29": 0, "sum__num_train_samples": 100000, "sum__pred/valid_acc_17": 0.9975, "sum__pred/valid_editDistance_3": 0, "sum__train/total_flos": 8.338253453800243e+16, "sum__train/train_samples_per_second": 641.457, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_94a2cf995ea0e4eccca0.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 330, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "94a2cf995ea0e4eccca0045f6065894d2e7c97955f6dd66f559abb866f6ab7da", "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_36": 73.6, "sum__pred/valid_editDistance_20": 0, "sum__pred/valid_editDistance_14": 0, "sum__train/train_loss": 0.3560665373325173, "sum__computed_num_process": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_28": 0.4, "sum__pred/valid_editDistance_12": 0, "sum___step": 4146, "sum__pred/test_acc_32": 0, "sum__pred/valid_runtime": 37.8997, "sum__pred/test_samples_per_second": 54.88, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_32": 27.4, "sum__pred/test_editDistance_35": 61, "sum__train/seq_acc": 1, "sum__num_total_params": 137927808, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_14": 1, "sum__pred/valid_recall": 0.9993, "sum__pred/valid_editDistance_11": 0, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__eval/runtime": 37.5198, "sum__pred/test_runtime": 182.2149, "sum__train/learning_rate": 1e-07, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc": 0.7404, "sum__pred/valid_acc": 0.9298, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_10": 0.9974, "sum__pred/test_acc_22": 0.988, "sum__pred/valid_acc_12": 1, "sum__pred/valid_samples_per_second": 197.733, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__pred/valid_editDistance_10": 0, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__train/epoch": 25.59, "sum__pred/test_acc_28": 0.01, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_13": 1, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_40": 87.4, "sum__train/loss": 0.0001, "sum__eval/precision": 0.3994, "sum__pred/test_loss": 1.767033934593201, "sum__pred/test_acc_27": 0.056, "sum__train/train_runtime": 3990.9146}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_2_256788", "created_at": "2023-03-20T04:20:58", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum___step": 8, "sum___wandb#runtime": 52, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___runtime": 19, "sum___timestamp": 1679284975, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_2_234054", "created_at": "2023-03-20T04:20:46", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___step": 8, "sum___timestamp": 1679285033, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum___wandb#runtime": 54, "sum___runtime": 19, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c__256788", "created_at": "2023-03-20T04:20:19", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_runtime": 92.1473, "sum__pred/valid_acc_17": 0.9975, "sum__pred/test_editDistance_38": 5.6, "sum__eval/loss": 0.0005435700295493007, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_10": 1, "sum__train/train_runtime": 3970.4257, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_31": 0.2, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_6": 1, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__pred/test_acc_32": 0, "sum__pred/valid_editDistance_14": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_54cbbba6ea75fc0643da.table.json", "sum__evaluated_acc/test/plot_table#size": 336, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "54cbbba6ea75fc0643da0402ad53f0a77c0c0182731ff2d164e2dc6ec8e1eae4", "sum__eval/seq_acc": 0.9992, "sum__pred/test_acc": 0.756, "sum__pred/test_editDistance_35": 1.4, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_bfed2575cf9a1fd5392b.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8099, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "bfed2575cf9a1fd5392bf5c498d803aa7886fba3d498d9f41654a2ff413f6102", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__train/acc": 0.2576, "sum__pred/valid_acc_15": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__pred/test_acc_26": 0.196, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_acc_13": 1, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc": 0.9298, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/epoch": 25.59, "sum__pred/test_f1": 0.1332, "sum__eval/steps_per_second": 6.286, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_33": 0.8, "sum__pred/test_editDistance_34": 1, "sum__pred/test_editDistance_36": 3, "sum__pred/valid_editDistance_10": 0, "sum__eval/recall": 0.9994, "sum__pred/valid_acc_7": 1, "sum__pred/valid_editDistance_17": 0, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__pred/test_recall": 0.2078, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_3": 0, "sum__eval/acc": 0.9298, "sum__train/recall": 1, "sum__pred/test_acc_38": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__auto_computed_eval_batch_size": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__eval/f1": 0.5709, "sum__train/f1": 0.4097, "sum__pred/test_acc_30": 0, "sum__evaluated_acc/test/table#sha256": "60e9fb635f744c31057c3f224e1adf710c0f46de177c4410ef96dc7cf643ef99", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_60e9fb635f744c31057c.table.json", "sum__evaluated_acc/test/table#size": 3514049, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/valid_editDistance_2": 0, "sum___wandb#runtime": 4237, "sum__train/seq_acc": 1, "sum__pred/valid_precision": 0.3996, "sum__pred/valid_editDistance_20": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_editDistance_8": 0, "sum__train/learning_rate": 1e-07, "sum__pred/valid_num_samples": 7494, "sum__train/train_loss": 0.3479212044812186, "sum__num_train_samples": 100000, "sum__pred/valid_recall": 0.9996, "sum__pred/test_samples_per_second": 108.522, "sum__train/train_steps_per_second": 10.074, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum___timestamp": 1679276377, "sum__pred/test_acc_24": 0.828, "sum__pred/test_editDistance_37": 2.8, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_steps_per_second": 6.238, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_8": 1, "sum__train/global_step": 0, "sum__pred/valid_runtime": 37.6748, "sum__pred/test_editDistance_40": 7.6, "sum___runtime": 4236, "sum__pred/valid_acc_4": 1, "sum__train/train_samples_per_second": 644.767, "sum__eval/runtime": 37.3822, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_32": 0.2, "sum__pred/test_editDistance_39": 3, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_acc_40": 0, "sum__num_non_trainable_params": 28320768, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__auto_computed_batch_size_predict": 32, "sum___step": 4146, "sum__pred/valid_acc_9": 1, "sum__eval/samples_per_second": 200.47, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_20": 1, "sum__pred/test_steps_per_second": 3.397, "sum__pred/test_editDistance_overall": 1.28, "sum__pred/test_acc_25": 0.534, "sum__pred/valid_acc_overall": 0.9995, "sum__pred/test_seq_acc": 0.2284, "sum__pred/test_acc_overall": 0.2284, "sum__pred/valid_editDistance_7": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/valid_samples_per_second": 198.913, "sum__train/precision": 0.2576, "sum__num_total_params": 137927808, "sum__pred/valid_seq_acc": 0.9995, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_18": 0.9952, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "7c8fd697d3fd08c21d0249f0cba1db71defd2470a691c3b5b8eb247e2a3bbe5e", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_7c8fd697d3fd08c21d02.table.json", "sum__evaluated_acc/valid/table#size": 1108869, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__eval/precision": 0.3996, "sum__pred/test_precision": 0.098, "sum__pred/test_acc_28": 0.01, "sum__pred/test_acc_35": 0, "sum__train/total_flos": 8.337870676190822e+16, "sum__computed_num_process": 1, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_12": 0, "sum__train/loss": 0.0003, "sum__pred/test_acc_21": 0.992, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 75108, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__pred/valid_loss": 0.0004378089215606451, "sum__pred/test_num_samples": 10000, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_f1": 0.571, "sum__pred/test_acc_27": 0.068, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_18": 0, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "e6aa68e8b0e89893cf5481ce4eb1888ad3162f0f6213a3973ca378375f74db50", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_e6aa68e8b0e89893cf54.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__pred/test_loss": 2.2653307914733887, "sum__pred/test_acc_23": 0.954, "sum__pred/test_editDistance_30": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_22": 0.986, "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_11": 0, "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__pred/test_acc_31": 0, "sum__pred/test_acc_33": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_9": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_15": 0, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "d82395c881d710cb85ce3f9b5cb1db11734bb580182c2c7b8862bff00f7c639b", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_d82395c881d710cb85ce.table.json", "sum__evaluated_acc/valid/plot_table#size": 309, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_16": 0.9974}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_agg_146317", "created_at": "2023-03-20T04:20:08", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 20, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum___timestamp": 1679285696, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___wandb#runtime": 285, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_2_146317", "created_at": "2023-03-20T04:19:58", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679285090, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___step": 8, "sum___wandb#runtime": 51, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum___runtime": 16, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_146317", "created_at": "2023-03-20T04:13:15", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___wandb#runtime": 52, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum___runtime": 17, "sum___timestamp": 1679284609, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb__146317", "created_at": "2023-03-20T04:12:51", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_27": 0, "sum__pred/test_acc_33": 0, "sum__pred/test_recall": 0.1343, "sum__num_trainable_params": 109607040, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_ccd72ee08683835ddca0.table.json", "sum__evaluated_acc/test/table#size": 3438719, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "ccd72ee08683835ddca0d5aa4569a4decf60bdc79a5c696d99bf9d6df92f51c3", "sum__pred/test_editDistance_32": 16.6, "sum__pred/test_editDistance_33": 12, "sum__eval/f1": 0.5709, "sum__train/epoch": 25.59, "sum__pred/test_acc_21": 0.996, "sum__pred/test_editDistance_38": 1, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_editDistance_overall": 11.12, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 4082, "sum__pred/test_acc_23": 0.932, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_overall": 0.1654, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/test_acc_25": 0.02, "sum__pred/test_acc_34": 0, "sum__pred/test_editDistance_23": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ff4ccfab533b0ce44011.table.json", "sum__evaluated_acc/test/plot_table#size": 328, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ff4ccfab533b0ce44011313ee569c63d85f1b70d0b19a2b2b873bb6b7fb7d332", "sum__train/acc": 0.2689, "sum__eval/runtime": 36.9117, "sum__train/train_loss": 0.31161269122846713, "sum__pred/valid_recall": 0.9997, "sum__pred/valid_acc_15": 1, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_30": 43.6, "sum__pred/test_editDistance_39": 1.2, "sum__pred/test_steps_per_second": 4.741, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_samples_per_second": 206.266, "sum__train/train_samples_per_second": 663.484, "sum__pred/test_acc_24": 0.37, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_5": 1, "sum__train/global_step": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_27": 18.4, "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__eval/acc": 0.9298, "sum__train/f1": 0.4239, "sum__pred/valid_loss": 0.000423293182393536, "sum__pred/test_acc_22": 0.99, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_12": 1, "sum__pred/valid_runtime": 36.3317, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_acc": 0.747, "sum__pred/valid_acc_8": 1, "sum__train/learning_rate": 1e-07, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__pred/test_f1": 0.092, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_35": 5.6, "sum__eval/seq_acc": 0.9996, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_32": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_acc_9": 1, "sum__num_train_samples": 100000, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_34": 7.8, "sum__train/recall": 1, "sum__pred/valid_editDistance_20": 0, "sum__evaluated_acc/valid/during_training_table#sha256": "652de88c0ea92c64fd0020adf997961d8975e62c07cb44014aef22709e5c2e62", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_652de88c0ea92c64fd00.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8167, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_74a7f8c4dedbc2f6a113.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 328, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "74a7f8c4dedbc2f6a113be168e5a516f70214e42f64939c98c7faeeea532c55d", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__pred/valid_editDistance_12": 0, "sum___step": 4146, "sum__eval/loss": 0.000423293182393536, "sum__eval/recall": 0.9997, "sum__computed_num_process": 1, "sum__eval/steps_per_second": 6.367, "sum__pred/test_editDistance_28": 33.8, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_f1": 0.5709, "sum__eval/precision": 0.3995, "sum__pred/valid_acc": 0.9298, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_overall": 0.9996, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_6": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_19": 1, "sum__pred/valid_precision": 0.3995, "sum__pred/test_editDistance_31": 29.6, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_13": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_20": 1, "sum__train/train_runtime": 3858.419, "sum__auto_computed_batch_size": 64, "sum__pred/test_samples_per_second": 151.472, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum___runtime": 4082, "sum__train/seq_acc": 1, "sum__train/precision": 0.2689, "sum__pred/valid_acc_13": 1, "sum__pred/test_editDistance_24": 0, "sum__auto_computed_grad_acc_steps": 1, "sum___timestamp": 1679284453, "sum__pred/test_loss": 10.256260871887209, "sum__pred/test_acc_29": 0, "sum__pred/test_editDistance_36": 3.6, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_31": 0, "sum__pred/test_editDistance_37": 1.6, "sum__pred/valid_editDistance_10": 0, "sum__evaluated_acc/valid/plot_table#size": 306, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "76df854fabdb7a92f67e7f92475c648f5ed9a0be638d9d2d45a46873d247e1d7", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_76df854fabdb7a92f67e.table.json", "sum__pred/test_acc_38": 0, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_overall": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_acc_3": 1, "sum__eval/samples_per_second": 203.025, "sum__evaluated_acc/valid/table#size": 1104793, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "aa5ccc25bf9d446561c37770e1a406e9e05bba46d9590003197099c9ae526f9b", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_aa5ccc25bf9d446561c3.table.json", "sum__pred/valid_editDistance_3": 0, "sum__pred/test_runtime": 66.019, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_seq_acc": 0.9996, "sum__pred/test_editDistance_26": 1.2, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_19": 0, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__pred/valid_acc_10": 1, "sum__pred/test_editDistance_40": 0.6, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_16": 0.9946, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_29": 45.8, "sum__pred/valid_editDistance_7": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__train/train_steps_per_second": 10.367, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 73922, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__train/loss": 0.0001, "sum__pred/valid_acc_4": 1, "sum__pred/test_precision": 0.07, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_seq_acc": 0.1654, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_steps_per_second": 6.468, "sum__computed_per_device_train_batch_size": 64, "sum__num_total_params": 137927808, "sum__train/total_flos": 8.338253453800243e+16, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_146317", "created_at": "2023-03-20T04:12:40", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___timestamp": 1679285208, "sum___runtime": 16, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum___wandb#runtime": 256, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_256788", "created_at": "2023-03-20T04:12:31", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___step": 8, "sum___wandb#runtime": 267, "sum___runtime": 17, "sum___timestamp": 1679284667, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb__234054", "created_at": "2023-03-20T04:12:05", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/runtime": 37.1199, "sum__num_train_samples": 100000, "sum__pred/valid_recall": 0.9999, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_27": 0.2, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_num_samples": 7494, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/valid_editDistance_12": 0, "sum__auto_computed_batch_size_predict": 32, "sum___step": 4146, "sum__pred/test_editDistance_31": 0.4, "sum__pred/test_editDistance_32": 0.2, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_overall": 0.9999, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_29": 0.4, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_precision": 0.0661, "sum__pred/test_editDistance_24": 0, "sum___timestamp": 1679280365, "sum__pred/test_acc_37": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_steps_per_second": 4.777, "sum__train/recall": 1, "sum__eval/precision": 0.4001, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_20": 1, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_20": 0, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_e9af9e8099fbcad43c50.table.json", "sum__evaluated_acc/test/plot_table#size": 328, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "e9af9e8099fbcad43c508b07f430918b30239a115d858c1b082bc5eb6f65b16d", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__eval/recall": 0.9999, "sum__pred/test_acc_34": 0, "sum__train/precision": 0.2673, "sum__pred/valid_seq_acc": 0.9999, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/test_samples_per_second": 152.606, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_8": 1, "sum__eval/samples_per_second": 201.886, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_13": 0, "sum___wandb#runtime": 4069, "sum__eval/acc": 0.9296, "sum__pred/valid_acc": 0.9296, "sum__pred/test_acc_28": 0, "sum__pred/valid_editDistance_15": 0, "sum__auto_computed_eval_batch_size": 32, "sum__eval/seq_acc": 0.9999, "sum__auto_computed_batch_size": 64, "sum__train/train_steps_per_second": 10.374, "sum__pred/valid_acc_9": 1, "sum__train/total_flos": 8.337770632042906e+16, "sum__pred/valid_acc_15": 1, "sum__train/global_step": 0, "sum__pred/valid_editDistance_3": 0, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f27dbacf6a79a7ea11cb.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f27dbacf6a79a7ea11cbe0f9d348b64ba24966c1b339e1154e28e636fe65c77f", "sum__train/acc": 0.2673, "sum__pred/valid_acc_16": 1, "sum__pred/test_editDistance_39": 0, "sum__evaluated_acc/valid/plot_table#sha256": "ea6dcf588152ecf616c4c7fa6a5b0b1e4d40ee3be969362bd7c36a3e075eb9cb", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_ea6dcf588152ecf616c4.table.json", "sum__evaluated_acc/valid/plot_table#size": 303, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__pred/valid_acc_14": 0.9975, "sum__pred/test_acc_overall": 0.1632, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/valid_steps_per_second": 6.413, "sum__train/train_samples_per_second": 663.944, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 71740, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__pred/test_acc_24": 0.354, "sum__pred/valid_acc_7": 1, "sum__train/train_runtime": 3855.7494, "sum__pred/test_editDistance_28": 0.6, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__train/f1": 0.4218, "sum__pred/valid_loss": 0.00010953106539091095, "sum__num_trainable_params": 109607040, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_30": 0.8, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_editDistance_overall": 0.14, "sum__pred/test_acc_21": 1, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_ac655331278a8b25df4d.table.json", "sum__evaluated_acc/test/table#size": 3350381, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "ac655331278a8b25df4df0aee05f6af70557f1e886a1bcd18ce9fb161b540076", "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_17": 0, "sum___runtime": 4068, "sum__pred/test_acc_38": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc": 0.7467, "sum__train/seq_acc": 1, "sum__pred/test_acc_25": 0.01, "sum__train/train_loss": 0.30141095548051816, "sum__pred/valid_acc_10": 1, "sum__pred/test_editDistance_35": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__pred/test_loss": 11.550493240356444, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_12": 1, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_971bd3e0a8fdc19ccb9d.table.json", "sum__evaluated_acc/valid/table#size": 1113876, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "971bd3e0a8fdc19ccb9d3387ad9ccaefeb2052ad70ccf4ff917e0bf6bce08a67", "sum__pred/test_editDistance_33": 0.2, "sum__pred/test_editDistance_40": 0, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__pred/test_acc_33": 0, "sum__pred/valid_runtime": 36.6432, "sum__train/learning_rate": 1e-07, "sum__pred/valid_samples_per_second": 204.513, "sum__pred/valid_acc_3": 1, "sum__pred/test_runtime": 65.5284, "sum__pred/valid_acc_17": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "6b8ff956717b40c4bac6f25f3cca773c8b32188a9af841b581dc73ca6acf601a", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_6b8ff956717b40c4bac6.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8228, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__pred/test_recall": 0.132, "sum__pred/valid_acc_4": 1, "sum__computed_num_process": 1, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_14": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_editDistance_18": 0, "sum__eval/loss": 0.00012510789383668453, "sum__pred/valid_f1": 0.5715, "sum__num_total_params": 137927808, "sum__pred/valid_acc_13": 1, "sum__eval/steps_per_second": 6.331, "sum__pred/valid_editDistance_8": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__pred/test_f1": 0.0881, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_19": 1, "sum__pred/valid_precision": 0.4001, "sum__eval/f1": 0.5715, "sum__train/epoch": 25.59, "sum__pred/test_acc_22": 0.986, "sum__pred/test_acc_23": 0.914, "sum__pred/test_seq_acc": 0.1632, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/loss": 0.0001}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_234054", "created_at": "2023-03-20T04:11:53", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum___step": 8, "sum___timestamp": 1679284554, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___wandb#runtime": 53, "sum___runtime": 20, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_256788", "created_at": "2023-03-20T04:11:41", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679284492, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 33, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___wandb#runtime": 69, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb__256788", "created_at": "2023-03-20T04:11:15", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_recall": 0.1419, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_27": 78.4, "sum__pred/test_editDistance_32": 100, "sum__pred/test_editDistance_37": 100, "sum__pred/test_editDistance_overall": 69.79, "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__pred/test_runtime": 61.005, "sum__pred/valid_acc_18": 0.9976, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "a5e44c016f2df62ff074b253cc65d7a72ffc5af8ef393252e9efce147c1f2599", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_a5e44c016f2df62ff074.table.json", "sum__evaluated_acc/valid/table#size": 1108867, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__pred/test_editDistance_34": 100, "sum__pred/valid_editDistance_4": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_loss": 11.26963996887207, "sum__train/precision": 0.2576, "sum__pred/valid_acc_7": 0.9974, "sum__pred/test_acc_30": 0, "sum__train/train_loss": 0.30375108472830614, "sum__pred/valid_acc_17": 1, "sum__eval/loss": 0.0003418357518967241, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_4": 1, "sum__eval/steps_per_second": 6.366, "sum__pred/valid_editDistance_11": 0, "sum__pred/test_acc_38": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_40": 100, "sum__pred/valid_editDistance_2": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__computed_per_device_eval_batch_size": 32, "sum__eval/f1": 0.571, "sum__pred/test_f1": 0.1161, "sum__pred/test_acc_26": 0.002, "sum__pred/test_editDistance_39": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__train/recall": 1, "sum__pred/test_editDistance_29": 99, "sum__pred/test_editDistance_36": 100, "sum__train/acc": 0.2576, "sum__pred/test_acc_32": 0, "sum__num_train_samples": 100000, "sum__pred/valid_seq_acc": 0.9993, "sum__pred/valid_editDistance_12": 0, "sum__eval/seq_acc": 0.9993, "sum__pred/valid_acc_14": 1, "sum__pred/valid_acc_20": 0.9973, "sum__train/learning_rate": 1e-07, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "647a491b22148a1775dd8819860a55a2075013bde01e5b5ae2d0b867dc9ac0fc", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_647a491b22148a1775dd.table.json", "sum__evaluated_acc/valid/plot_table#size": 315, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum___runtime": 4150, "sum___timestamp": 1679276291, "sum__pred/valid_loss": 0.0003418357518967241, "sum__pred/valid_runtime": 36.4035, "sum___step": 4146, "sum___wandb#runtime": 4150, "sum__train/loss": 0.0001, "sum__pred/test_acc_28": 0, "sum__pred/test_seq_acc": 0.184, "sum__pred/test_editDistance_30": 99.8, "sum__eval/precision": 0.3996, "sum__pred/valid_acc_10": 0.9974, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_cc586e67ee609830fdf2.table.json", "sum__evaluated_acc/test/plot_table#size": 331, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "cc586e67ee609830fdf2aa766f7f8558528d1d094b8cf005c7ea42070640eee3", "sum__pred/valid_samples_per_second": 205.859, "sum__train/seq_acc": 1, "sum__pred/test_precision": 0.0983, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__auto_computed_batch_size": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__pred/test_acc_24": 0.63, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_steps_per_second": 5.131, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "c973708ec88db6c9cceddc55a1f9cdff064df7828e00fb1f7a20bc037bbc4abb", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_c973708ec88db6c9cced.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 346, "sum__eval/acc": 0.9298, "sum__pred/valid_f1": 0.571, "sum__pred/test_acc_33": 0, "sum__pred/test_editDistance_33": 100, "sum__pred/test_acc_39": 0, "sum__pred/test_acc_overall": 0.184, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_16": 0, "sum__train/train_steps_per_second": 10.368, "sum__pred/valid_acc_2": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_samples_per_second": 163.921, "sum__pred/test_acc_25": 0.104, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_36": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_11": 1, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_35": 100, "sum__train/epoch": 25.59, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_7": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__eval/recall": 0.9996, "sum__pred/valid_acc_5": 1, "sum__pred/valid_recall": 0.9996, "sum__pred/valid_precision": 0.3996, "sum__pred/valid_acc_overall": 0.9993, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_acc_37": 0, "sum__train/global_step": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__pred/test_acc": 0.7479, "sum__pred/test_acc_21": 0.994, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_13": 1, "sum__pred/valid_editDistance_14": 0, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/test/table#sha256": "5a9d776f7139128f3cbe3c1c0319beddda5683093fc8045695300c020c0e23ba", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_5a9d776f7139128f3cbe.table.json", "sum__evaluated_acc/test/table#size": 3903331, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__pred/test_editDistance_26": 24, "sum__pred/test_editDistance_31": 100, "sum__pred/test_editDistance_38": 100, "sum__evaluated_acc/valid/during_training_table#size": 8268, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "6f4d37236d29ba76677e8bebd1ca360cc270218caf5b92d0d286f5dc8ea2c242", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_6f4d37236d29ba76677e.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__pred/valid_acc": 0.9298, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_16": 0.9974, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_10": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 75108, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__train/f1": 0.4097, "sum__pred/test_acc_23": 0.968, "sum__pred/test_acc_27": 0, "sum__train/train_runtime": 3857.9646, "sum__computed_num_process": 1, "sum__train/train_samples_per_second": 663.562, "sum__pred/valid_acc_8": 1, "sum__train/total_flos": 8.337870676190822e+16, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_28": 94.6, "sum__pred/valid_steps_per_second": 6.455, "sum__pred/valid_editDistance_overall": 0, "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__eval/runtime": 36.915, "sum__num_total_params": 137927808, "sum__pred/test_acc_31": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_acc_22": 0.982, "sum__pred/valid_acc_19": 1, "sum__eval/samples_per_second": 203.007, "sum__computed_per_device_train_batch_size": 64, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_5": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_234054", "created_at": "2023-03-20T04:11:02", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum___wandb#runtime": 265, "sum___runtime": 17, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum___timestamp": 1679284939, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74__234054", "created_at": "2023-03-20T04:09:42", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_16": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_35": 0, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_8": 1, "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_34": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_15": 1, "sum__pred/valid_recall": 1, "sum__pred/test_precision": 0.0102, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_acc_14": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_32": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_4": 1, "sum__pred/test_runtime": 59.5023, "sum__pred/valid_acc_18": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_37": 0, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_samples_per_second": 168.061, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_steps_per_second": 6.674, "sum__pred/valid_loss": 5.734534170187544e-06, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_acc_overall": 0.0148, "sum__pred/valid_acc_overall": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/test_acc_21": 0.296, "sum__pred/valid_acc_17": 1, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_32": 0, "sum__pred/test_recall": 0.0157, "sum__pred/test_editDistance_26": 0, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_acc_24": 0, "sum__pred/valid_runtime": 35.2127, "sum__pred/test_loss": 13.232285499572754, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_28": 0, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_39": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_f1": 0.0123, "sum__pred/valid_f1": 0.5715, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_acc_19": 1, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_samples_per_second": 212.821, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc_7": 1, "sum__pred/valid_acc_13": 1, "sum__pred/test_editDistance_36": 0, "sum__pred/test_steps_per_second": 5.26, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_acc": 0.7318, "sum__pred/valid_acc": 0.9296, "sum__pred/test_editDistance_27": 0, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_precision": 0.4001, "sum__pred/test_acc_37": 0, "sum__pred/test_seq_acc": 0.0148, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_30": 0, "sum__pred/test_editDistance_40": 0, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_33": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_256788", "created_at": "2023-03-20T04:09:32", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum___wandb#runtime": 26, "sum___runtime": 15, "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1679285175, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74__256788", "created_at": "2023-03-20T04:09:06", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/loss": 3.837914846371859e-06, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_acc_10": 1, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_edb10652e107509c5b4b.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "edb10652e107509c5b4b297be119618e397314ba01856760291e4f3703b24702", "sum___runtime": 4529, "sum__eval/acc": 0.9298, "sum__pred/valid_acc": 0.9298, "sum__pred/test_editDistance_32": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__train/train_steps_per_second": 10.541, "sum__evaluated_acc/valid/plot_table#sha256": "7e0992967c4c807987036894bba4b5ee282492a781957c1b921953f6349a1c4e", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_7e0992967c4c80798703.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__pred/test_acc_37": 0, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_8": 0, "sum__pred/test_steps_per_second": 0.713, "sum__pred/valid_loss": 1.1066363185818773e-05, "sum__pred/test_acc_32": 0, "sum__pred/test_editDistance_30": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_35": 0, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_11": 0, "sum__train/seq_acc": 1, "sum__pred/test_acc_24": 0, "sum__pred/valid_acc_4": 1, "sum__num_non_trainable_params": 40903680, "sum__evaluated_acc/valid/table#sha256": "ce7078b2dcb07b35d8b23f9307f8a905cb5b1940220eaabb167e81ad5548f2e1", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_ce7078b2dcb07b35d8b2.table.json", "sum__evaluated_acc/valid/table#size": 1108887, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__pred/test_editDistance_35": 0, "sum__eval/recall": 1, "sum__pred/test_f1": 0.0214, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_28": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__train/f1": 0.4097, "sum__pred/test_acc_23": 0, "sum__train/total_flos": 8.337870676190822e+16, "sum__pred/valid_acc_overall": 1, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_29": 0, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_10": 0, "sum__pred/test_editDistance_39": 0, "sum__eval/seq_acc": 1, "sum__eval/precision": 0.3998, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_19": 1, "sum__train/global_step": 0, "sum__auto_computed_batch_size": 64, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "600045d7dd1ac8b66754e89a003932ec6525412ead00d80c363407e0c19cb400", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_600045d7dd1ac8b66754.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8032, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_18": 1, "sum__pred/valid_samples_per_second": 213.083, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 75108, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__num_total_params": 150510720, "sum__pred/valid_acc_3": 1, "sum__pred/test_runtime": 439.1314, "sum__pred/test_seq_acc": 0.0363, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_37": 0, "sum__pred/test_editDistance_38": 0, "sum__pred/test_acc_31": 0, "sum__num_train_samples": 100000, "sum__pred/valid_acc_13": 1, "sum__train/train_samples_per_second": 674.6, "sum__pred/test_acc_30": 0, "sum__train/train_loss": 0.2848329897573305, "sum__train/learning_rate": 1e-07, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_26": 0, "sum__train/train_runtime": 3794.8417, "sum__eval/samples_per_second": 213.782, "sum__pred/test_acc": 0.6366, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_16": 1, "sum__pred/test_precision": 0.0149, "sum__pred/valid_editDistance_14": 0, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_12": 1, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_20": 0, "sum___wandb#runtime": 4530, "sum__pred/test_acc_27": 0, "sum___timestamp": 1679276671, "sum__pred/valid_editDistance_3": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__pred/test_acc_40": 0, "sum__train/epoch": 25.59, "sum__train/recall": 1, "sum__pred/test_acc_21": 0.726, "sum__pred/valid_acc_6": 1, "sum__train/gen_max_length": 256, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_20": 1, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_15": 0, "sum__train/loss": 0.0001, "sum__pred/test_acc_overall": 0.0363, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "1f7d493cf3662ce19d904ecef46e032b77c52b93fb4fb5611349555f33f856a5", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_1f7d493cf3662ce19d90.table.json", "sum__evaluated_acc/test/table#size": 4299835, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_2": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_36": 0, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__pred/test_loss": 12.39707851409912, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_steps_per_second": 6.682, "sum__pred/test_samples_per_second": 22.772, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum___step": 4146, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_26": 0, "sum__pred/test_acc_28": 0, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_6": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_f554a7676d64ac9a6895.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 319, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "f554a7676d64ac9a6895ff4eb008d4924956556de95ad7ec05d2838abacf7c4c", "sum__eval/f1": 0.5712, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_12": 0, "sum__pred/test_editDistance_overall": 0, "sum__pred/valid_editDistance_5": 0, "sum__eval/runtime": 35.0544, "sum__train/precision": 0.2576, "sum__pred/test_recall": 0.0379, "sum__pred/valid_acc_7": 1, "sum__pred/valid_precision": 0.3998, "sum__eval/steps_per_second": 6.704, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_editDistance_19": 0, "sum__auto_computed_batch_size_predict": 32, "sum__train/acc": 0.2576, "sum__pred/valid_f1": 0.5712, "sum__pred/test_acc_33": 0, "sum__pred/valid_runtime": 35.1694, "sum__pred/test_editDistance_33": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_256788", "created_at": "2023-03-20T04:08:55", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___timestamp": 1679285026, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___step": 8, "sum___runtime": 22, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 50}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_146317", "created_at": "2023-03-20T04:08:45", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 15, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum___timestamp": 1679285238, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___step": 8, "sum___wandb#runtime": 26, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74__146317", "created_at": "2023-03-20T04:08:21", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/recall": 1, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_13": 0, "sum__num_total_params": 150510720, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_13": 1, "sum__train/global_step": 0, "sum__pred/valid_samples_per_second": 209.385, "sum__pred/valid_editDistance_15": 0, "sum__num_train_samples": 100000, "sum__pred/valid_acc_11": 1, "sum__computed_num_process": 1, "sum__pred/test_editDistance_26": 0.2, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_acc_23": 0, "sum__pred/test_editDistance_21": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_6c9d25a880a0c2f3e490.table.json", "sum__evaluated_acc/valid/plot_table#size": 297, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "6c9d25a880a0c2f3e490a77c620c1eec00bfaf901a567ac1d5fe3d3d56823d7d", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 73922, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_2": 1, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "a2d798dca1ef92e64d849e09e7fa1eae47e5490b985802e17ac09c4460c2c799", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_a2d798dca1ef92e64d84.table.json", "sum__evaluated_acc/test/plot_table#size": 321, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__pred/test_editDistance_overall": 0.02, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__pred/test_editDistance_40": 0, "sum__pred/valid_editDistance_5": 0, "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "bbeff38b61aeecbece3ae151c1499160e1e8c96ee7326a6b99b77e00f46a4f21", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_bbeff38b61aeecbece3a.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__pred/test_f1": 0.0168, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_16": 1, "sum__pred/test_acc_overall": 0.018, "sum__eval/precision": 0.3997, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_7": 1, "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_15": 1, "sum__num_trainable_params": 109607040, "sum__eval/samples_per_second": 200.887, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_editDistance_16": 0, "sum__eval/acc": 0.9299, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_32": 0, "sum__train/total_flos": 8.338253453800243e+16, "sum__pred/test_editDistance_29": 0, "sum__pred/test_acc_27": 0, "sum__pred/test_recall": 0.0233, "sum__pred/test_editDistance_31": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_845aa31781b591f6da97.table.json", "sum__evaluated_acc/test/table#size": 2908399, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "845aa31781b591f6da972aa8288063c25303641c21a7f2d87af27f461a7faa02", "sum__pred/test_editDistance_30": 0, "sum__pred/valid_editDistance_19": 0, "sum___wandb#runtime": 4323, "sum__eval/f1": 0.5711, "sum__eval/seq_acc": 1, "sum__pred/test_acc_28": 0, "sum__eval/steps_per_second": 6.299, "sum__train/train_steps_per_second": 10.459, "sum__train/seq_acc": 1, "sum__pred/valid_acc_3": 1, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_steps_per_second": 1.012, "sum__pred/test_acc_24": 0, "sum__num_non_trainable_params": 40903680, "sum__pred/test_editDistance_35": 0, "sum__auto_computed_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__pred/test_samples_per_second": 32.346, "sum__auto_computed_batch_size_predict": 32, "sum__train/epoch": 25.59, "sum__pred/valid_recall": 1, "sum__pred/valid_seq_acc": 1, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_3df35b92a45514b3803f.table.json", "sum__evaluated_acc/valid/table#size": 1104805, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "3df35b92a45514b3803f419fc381536c84a7f470cf5b9f015e85aba683d349b4", "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_acc": 0.9299, "sum__pred/valid_acc_4": 1, "sum__pred/test_num_samples": 10000, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__pred/valid_acc_14": 1, "sum__pred/test_precision": 0.0131, "sum__pred/valid_editDistance_3": 0, "sum__train/recall": 1, "sum__pred/test_seq_acc": 0.018, "sum__pred/valid_acc_10": 1, "sum__pred/valid_acc_20": 1, "sum__train/gen_max_length": 256, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_40": 0, "sum__train/train_loss": 0.2998052793995477, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_f1": 0.5711, "sum__pred/test_editDistance_36": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_acc_5": 1, "sum__pred/test_editDistance_24": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_32": 0, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_38": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__eval/runtime": 37.3046, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_19": 1, "sum__pred/valid_runtime": 35.7904, "sum__pred/valid_acc_6": 1, "sum__pred/test_editDistance_37": 0, "sum__eval/loss": 6.117839348007692e-06, "sum__train/acc": 0.2689, "sum__train/loss": 0.0001, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_35": 0, "sum__train/f1": 0.4239, "sum__pred/test_acc_21": 0.36, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_steps_per_second": 6.566, "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__pred/test_loss": 12.487271308898926, "sum__train/precision": 0.2689, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_editDistance_20": 0, "sum___runtime": 4322, "sum__pred/test_runtime": 309.156, "sum__pred/valid_precision": 0.3997, "sum__pred/test_editDistance_34": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_cfb1bb2dea813ce59703.table.json", "sum__evaluated_acc/valid/during_training_table#size": 7989, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "cfb1bb2dea813ce59703ee9f25dee7fa724bba254b3a8061ceba088d8aa69195", "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_18": 1, "sum__pred/valid_acc_overall": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__train/train_samples_per_second": 669.377, "sum__pred/valid_acc_9": 1, "sum__pred/valid_acc_12": 1, "sum__train/train_runtime": 3824.4517, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_14": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc": 0.713, "sum__pred/test_editDistance_23": 0, "sum__pred/test_editDistance_33": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__pred/valid_loss": 6.407761702575954e-06, "sum__pred/test_acc_34": 0, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__pred/valid_editDistance_17": 0, "sum___step": 4146, "sum___timestamp": 1679284997, "sum__pred/test_editDistance_25": 0.2, "sum__pred/test_editDistance_39": 0, "sum__pred/valid_editDistance_2": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_234054", "created_at": "2023-03-20T04:08:10", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 47, "sum___runtime": 20, "sum__computed_num_process": 1, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum___timestamp": 1679285079, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_234054", "created_at": "2023-03-20T04:08:00", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 15, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum___timestamp": 1679285207, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum___wandb#runtime": 26, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_146317", "created_at": "2023-03-20T04:07:50", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___runtime": 15, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum___wandb#runtime": 43, "sum___timestamp": 1679285127, "sum__computed_num_process": 1, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_2_146317", "created_at": "2023-03-20T04:01:28", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 49, "sum___timestamp": 1679284605, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum___runtime": 20, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_agg_234054", "created_at": "2023-03-20T04:01:18", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum___timestamp": 1679284692, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 28, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___runtime": 16}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_2_256788", "created_at": "2023-03-20T04:01:08", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 30, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum___timestamp": 1679284491, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___step": 8, "sum___wandb#runtime": 61, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67__234054", "created_at": "2023-03-20T04:00:42", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/acc": 0.9296, "sum__pred/test_loss": 1.5641900300979614, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_30e66780524f9cd2e49d.table.json", "sum__evaluated_acc/test/table#size": 3842422, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "30e66780524f9cd2e49d5ce357abd38a2c9a9a2e5f077a39f956502db45288a9", "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_15": 0, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_77fc2deec99accac962f.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 326, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "77fc2deec99accac962f5542ec7db4631490b430a72d992fd737afd6442b62d7", "sum__train/f1": 0.4218, "sum__train/acc": 0.2673, "sum__eval/seq_acc": 0.9989, "sum__pred/test_acc_27": 0.094, "sum__train/train_loss": 0.3458920944745623, "sum__pred/test_seq_acc": 0.2355, "sum__pred/valid_acc_16": 0.9974, "sum__train/global_step": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_editDistance_16": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 71740, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__eval/recall": 0.9992, "sum__pred/test_acc_39": 0, "sum__train/total_flos": 8.337770632042906e+16, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_20": 0, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_editDistance_overall": 9.65, "sum__train/loss": 0.0002, "sum__pred/valid_acc_17": 1, "sum__num_total_params": 137927808, "sum__computed_num_process": 1, "sum__pred/test_acc_overall": 0.2355, "sum__pred/test_editDistance_32": 0.8, "sum__pred/test_editDistance_37": 24.8, "sum__pred/valid_editDistance_14": 0, "sum__pred/valid_acc_4": 1, "sum__train/train_runtime": 3798.601, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_10": 0, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "f5cb581dff5055846f67bb496ab882d9dd65153d97f6faf6c30aa99eae4352af", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_f5cb581dff5055846f67.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum___runtime": 4063, "sum__pred/test_acc_25": 0.582, "sum__pred/valid_acc_8": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_6": 0, "sum___wandb#runtime": 4064, "sum__pred/test_acc_26": 0.268, "sum__pred/test_steps_per_second": 2.987, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_overall": 0.9989, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__pred/test_acc_33": 0, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_editDistance_2": 0, "sum__evaluated_acc/valid/plot_table#sha256": "6c6f64eda3788f5bb86adefd367eb1ec06b78cb6472e9dac57d01496e759af4d", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_6c6f64eda3788f5bb86a.table.json", "sum__evaluated_acc/valid/plot_table#size": 318, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__computed_per_device_train_batch_size": 64, "sum__pred/valid_acc_7": 1, "sum__train/learning_rate": 1e-07, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_40": 53.8, "sum__pred/valid_runtime": 35.0387, "sum__computed_per_device_eval_batch_size": 32, "sum__eval/runtime": 35.3682, "sum__pred/test_acc_24": 0.82, "sum__pred/test_acc_30": 0, "sum__pred/test_runtime": 104.8029, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_recall": 0.9992, "sum__pred/test_acc_37": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_9": 0, "sum__pred/valid_editDistance_12": 0, "sum__train/epoch": 25.59, "sum__pred/test_precision": 0.1006, "sum__pred/valid_precision": 0.3998, "sum__pred/test_editDistance_38": 33, "sum__pred/test_acc_40": 0, "sum__pred/test_recall": 0.2156, "sum__pred/valid_acc_20": 0.9951, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_29": 0, "sum__pred/test_editDistance_30": 0, "sum__train/train_steps_per_second": 10.53, "sum__train/train_samples_per_second": 673.932, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__pred/valid_acc": 0.9296, "sum__pred/valid_loss": 0.0004584506095852703, "sum__pred/test_acc_28": 0.032, "sum__pred/test_num_samples": 10000, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/test_editDistance_33": 3.8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_13": 0, "sum__pred/test_samples_per_second": 95.417, "sum__pred/valid_acc_12": 0.9976, "sum__pred/valid_acc_14": 0.9949, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_29": 0.002, "sum__pred/test_acc_34": 0, "sum__pred/valid_seq_acc": 0.9989, "sum__eval/steps_per_second": 6.644, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_31": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_19": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__pred/test_acc_22": 0.976, "sum__num_train_samples": 100000, "sum__pred/valid_acc_15": 1, "sum__evaluated_acc/valid/table#size": 1113835, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "38e811f84731825cb39b055f4cec9f41bfab9b6270ccc2f5c9b6b4339fd67122", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_38e811f84731825cb39b.table.json", "sum__pred/test_editDistance_34": 5.2, "sum__pred/test_editDistance_36": 16.4, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "e6f626e157335e6c78d0c20efe3c53340ed13fdd96170105abea4db7ae494eb5", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_e6f626e157335e6c78d0.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8257, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__pred/valid_f1": 0.5711, "sum__pred/test_acc_21": 0.99, "sum__pred/test_editDistance_28": 0, "sum__pred/valid_steps_per_second": 6.707, "sum__pred/valid_samples_per_second": 213.878, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___timestamp": 1679280231, "sum__eval/precision": 0.3998, "sum__train/precision": 0.2673, "sum__pred/valid_acc_2": 1, "sum__train/recall": 1, "sum__pred/test_acc_31": 0, "sum__pred/test_editDistance_26": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__eval/f1": 0.5711, "sum__evaluated_acc/test/plot_table#sha256": "ca9db2d22d4306c89808e2aae507d41d6541682ac9bb93a3d72c3b3485c992c6", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ca9db2d22d4306c89808.table.json", "sum__evaluated_acc/test/plot_table#size": 337, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__pred/valid_acc_13": 1, "sum__pred/test_editDistance_35": 11, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/test_acc": 0.755, "sum__pred/test_acc_38": 0, "sum__train/gen_max_length": 256, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_22": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__pred/test_acc_23": 0.946, "sum__pred/valid_editDistance_4": 0, "sum___step": 4146, "sum__train/seq_acc": 1, "sum__pred/test_acc_32": 0, "sum__num_trainable_params": 109607040, "sum__auto_computed_grad_acc_steps": 1, "sum__eval/loss": 0.0004584506095852703, "sum__pred/valid_acc_11": 0.9976, "sum__pred/valid_acc_19": 1, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_f1": 0.1372, "sum__pred/valid_acc_18": 1, "sum__eval/samples_per_second": 211.885, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_9": 1, "sum__pred/test_editDistance_39": 44.2}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_agg_256788", "created_at": "2023-03-20T04:00:32", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum___step": 8, "sum___wandb#runtime": 31, "sum___timestamp": 1679284657, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 17, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_2_234054", "created_at": "2023-03-20T04:00:21", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum___runtime": 22, "sum___timestamp": 1679284549, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum___wandb#runtime": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67__256788", "created_at": "2023-03-20T03:59:52", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__eval/acc": 0.9298, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_8": 1, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__pred/test_acc_24": 0.738, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 75108, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__pred/test_editDistance_31": 0, "sum__pred/test_editDistance_33": 0, "sum__pred/valid_acc_20": 1, "sum__computed_num_process": 1, "sum__pred/valid_acc_overall": 0.9996, "sum__pred/test_editDistance_30": 0.2, "sum__eval/precision": 0.3997, "sum__pred/valid_acc_19": 1, "sum__pred/test_precision": 0.1101, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_overall": 0, "sum__pred/valid_acc_18": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_ae3ca44c43b58fa7d81a.table.json", "sum__evaluated_acc/test/table#size": 3479239, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "ae3ca44c43b58fa7d81a983a5e84b32da4df686a4d7303612cf39c499f9bbd8d", "sum__num_non_trainable_params": 28320768, "sum___wandb#runtime": 4021, "sum__pred/valid_editDistance_9": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__pred/test_samples_per_second": 120.642, "sum__pred/valid_num_samples": 7494, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_22": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "fd30f2b4765e7d177e183fb3107798394f513d130bb6c50b5abf830b489c9b96", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_fd30f2b4765e7d177e18.table.json", "sum__evaluated_acc/valid/plot_table#size": 309, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__eval/seq_acc": 0.9995, "sum__pred/test_acc_21": 0.986, "sum__pred/valid_acc_17": 0.9975, "sum__pred/valid_editDistance_2": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___step": 4146, "sum__pred/valid_acc_2": 1, "sum__train/train_loss": 0.3516530638868862, "sum__evaluated_acc/valid/table#size": 1108881, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "83dd4eba6c7625f49329351ba0defe690876d1ac2e7f71b9d83067d3833fd5f9", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_83dd4eba6c7625f49329.table.json", "sum__pred/test_editDistance_36": 0.2, "sum__pred/valid_editDistance_5": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/test_editDistance_overall": 0.15, "sum__eval/f1": 0.5711, "sum__pred/test_f1": 0.1497, "sum__pred/test_acc_30": 0, "sum__pred/test_editDistance_24": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_samples_per_second": 218.32, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "30d097eaef6711528f28d56ed07d87e5d99dbc73ddfee41fdfcde6a733048e80", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_30d097eaef6711528f28.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8119, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "6b28b02882f0a8af8e02cb30ad4fcc9cb3384388ad7c77528d0387bf170f9ebd", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_6b28b02882f0a8af8e02.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__pred/test_acc_28": 0.012, "sum__train/learning_rate": 1e-07, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__pred/test_editDistance_38": 0.6, "sum__pred/valid_f1": 0.5711, "sum__pred/test_acc_34": 0, "sum__pred/test_editDistance_26": 0, "sum__pred/test_editDistance_27": 0, "sum__pred/test_editDistance_29": 0, "sum__eval/runtime": 34.76, "sum__pred/test_loss": 1.850765585899353, "sum__pred/valid_loss": 0.0001612335763638839, "sum__pred/valid_acc_16": 0.9974, "sum__eval/loss": 0.0002689311804715544, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_steps_per_second": 6.846, "sum__pred/test_acc_25": 0.472, "sum__pred/valid_editDistance_3": 0, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__pred/valid_acc_11": 1, "sum__pred/test_editDistance_32": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__pred/valid_acc": 0.9298, "sum__pred/test_acc_40": 0, "sum__pred/test_seq_acc": 0.2187, "sum__pred/valid_acc_10": 1, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_15": 1, "sum__eval/steps_per_second": 6.761, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_editDistance_37": 1, "sum__train/seq_acc": 1, "sum__train/total_flos": 8.337870676190822e+16, "sum__pred/valid_precision": 0.3997, "sum__eval/samples_per_second": 215.592, "sum__pred/test_acc_22": 0.978, "sum__pred/test_editDistance_25": 0, "sum__train/train_samples_per_second": 678.906, "sum__pred/test_acc": 0.7591, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_acc_13": 1, "sum___runtime": 4021, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_40": 0.2, "sum__pred/valid_editDistance_7": 0, "sum__pred/test_acc_32": 0, "sum__pred/valid_seq_acc": 0.9996, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_11": 0, "sum__train/recall": 1, "sum__train/precision": 0.2576, "sum__pred/test_acc_26": 0.18, "sum__pred/test_acc_31": 0, "sum__pred/valid_editDistance_19": 0, "sum__train/acc": 0.2576, "sum___timestamp": 1679276162, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_editDistance_28": 0, "sum__pred/test_editDistance_35": 0.4, "sum__pred/valid_editDistance_14": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_6": 1, "sum__pred/test_num_samples": 10000, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_18": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__eval/recall": 0.9997, "sum__num_total_params": 137927808, "sum__pred/valid_acc_4": 1, "sum__pred/test_acc_overall": 0.2187, "sum__train/train_runtime": 3770.7751, "sum__pred/test_editDistance_23": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__pred/test_acc_27": 0.068, "sum__pred/test_recall": 0.2334, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_9": 1, "sum__pred/test_acc_23": 0.94, "sum__pred/test_runtime": 82.8898, "sum__pred/valid_acc_14": 1, "sum__train/global_step": 0, "sum__evaluated_acc/test/plot_table#size": 335, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "3a756417e820163d817c20717db9218b936fa053d2f0d4b6cf915f1a672df6cb", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_3a756417e820163d817c.table.json", "sum__train/loss": 0.0002, "sum__pred/test_acc_37": 0, "sum__pred/valid_recall": 0.9998, "sum__train/train_steps_per_second": 10.608, "sum__pred/test_steps_per_second": 3.776, "sum__train/epoch": 25.59, "sum__num_train_samples": 100000, "sum__pred/valid_acc_12": 1, "sum__pred/test_editDistance_39": 0.4, "sum__pred/valid_editDistance_12": 0, "sum__pred/valid_editDistance_16": 0, "sum__pred/valid_editDistance_20": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__train/f1": 0.4097, "sum__pred/valid_acc_7": 0.9974, "sum__pred/valid_runtime": 34.3257, "sum__num_trainable_params": 109607040, "sum__auto_computed_batch_size_predict": 32, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_81ed066e27c845b20343.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "81ed066e27c845b20343121d4e4d8198dc0c5a3e7ea2f768b43a224fbf2db4ad"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_agg_146317", "created_at": "2023-03-20T03:59:41", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 28, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum___timestamp": 1679284726, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___runtime": 17, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67__146317", "created_at": "2023-03-20T03:59:16", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/acc": 0.2689, "sum__pred/test_acc_34": 0, "sum__pred/test_editDistance_34": 90.6, "sum__pred/test_editDistance_35": 92.2, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_b14aee62119d5c1bcd8c.table.json", "sum__evaluated_acc/valid/plot_table#size": 315, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "b14aee62119d5c1bcd8c96ec962dcbbeebbe8f11e304075cb9f989542d02ac63", "sum__train/recall": 1, "sum__pred/test_acc_22": 0.984, "sum__pred/test_acc_39": 0, "sum__train/total_flos": 8.338253453800243e+16, "sum__pred/valid_acc_14": 1, "sum__pred/test_editDistance_26": 0, "sum__ds_examples/ExperimentStage.TEST#sha256": "bb54a2d92888f27a3570477de1840f0f251b3e19c3b2abf0e26d937227bf8112", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_bb54a2d92888f27a3570.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 171502, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#size": 73922, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_e1002327a02991274a9f.table.json", "sum__pred/test_acc_24": 0.856, "sum__pred/valid_acc_3": 1, "sum__pred/test_editDistance_38": 98.2, "sum__pred/test_editDistance_40": 99, "sum__pred/valid_editDistance_11": 0, "sum__pred/valid_editDistance_13": 0, "sum__pred/valid_samples_per_second": 206.704, "sum__pred/test_editDistance_25": 0, "sum___step": 4146, "sum__train/train_loss": 0.35958030346398007, "sum__pred/test_seq_acc": 0.236, "sum__train/learning_rate": 1e-07, "sum__pred/test_samples_per_second": 43.339, "sum__train/train_samples_per_second": 672.096, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__pred/valid_editDistance_15": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__train/train_steps_per_second": 10.502, "sum__pred/test_editDistance_overall": 47.53, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__eval/loss": 0.0005331767606548965, "sum__pred/test_editDistance_37": 97.8, "sum__pred/valid_editDistance_5": 0, "sum__pred/test_steps_per_second": 1.357, "sum__pred/valid_editDistance_12": 0, "sum__eval/seq_acc": 0.9992, "sum__pred/valid_f1": 0.5708, "sum__train/precision": 0.2689, "sum__pred/test_precision": 0.0811, "sum__pred/test_editDistance_32": 72.6, "sum__pred/test_editDistance_39": 99, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "132b8bb2a3ec3587d5cd111c15a8a6329619e2727414f6b4cb15255c3f76717c", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_132b8bb2a3ec3587d5cd.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 298, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__eval/f1": 0.5708, "sum__train/loss": 0.0003, "sum__pred/valid_acc_18": 0.9952, "sum__train/gen_max_length": 256, "sum__auto_computed_eval_batch_size": 32, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "3604906af55d2faf021389d6da22d59fa353bc437a54c9d693afbbf8ff5a29a5", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_3604906af55d2faf0213.table.json", "sum__evaluated_acc/test/plot_table#size": 338, "sum__pred/test_loss": 1.6418863534927368, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_9": 1, "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "1a582ea5afe344f03bf57e8649d6007e757b861f4bb855909ec224f95ab4c6fd", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_1a582ea5afe344f03bf5.table.json", "sum__evaluated_acc/valid/table#size": 1104778, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__pred/test_editDistance_30": 42, "sum__pred/valid_editDistance_7": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_acc_26": 0.258, "sum__pred/valid_acc_20": 0.9975, "sum__pred/valid_seq_acc": 0.9992, "sum__pred/test_editDistance_28": 5.4, "sum__pred/valid_recall": 0.9994, "sum__pred/valid_acc_overall": 0.9992, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_25": 0.572, "sum__pred/test_editDistance_29": 18.2, "sum__pred/valid_editDistance_4": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_24": 0, "sum__pred/valid_steps_per_second": 6.482, "sum__train/f1": 0.4239, "sum__num_total_params": 137927808, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_38": 0, "sum__pred/test_recall": 0.2128, "sum__eval/steps_per_second": 6.718, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 29.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 12, "sum__pred/valid_acc": 0.9298, "sum__pred/test_acc_28": 0.014, "sum__pred/test_acc_33": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_18": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "6e21ccc8066610d09d561e10462de53dd9d88bb0cb12b6b251705f98b78898a3", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_6e21ccc8066610d09d56.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 333, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum___timestamp": 1679284454, "sum__train/epoch": 25.59, "sum__pred/valid_acc_12": 1, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_27": 1, "sum__pred/test_editDistance_36": 95.8, "sum__eval/acc": 0.9298, "sum__pred/test_acc_23": 0.972, "sum__pred/valid_acc_15": 0.9974, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_19": 0, "sum__pred/valid_editDistance_9": 0, "sum__train/train_runtime": 3808.9779, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__eval/samples_per_second": 214.246, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_8": 0, "sum__pred/valid_acc_5": 1, "sum__pred/valid_editDistance_6": 0, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_9c3e34cdd0dcb0b95cc0.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8228, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "9c3e34cdd0dcb0b95cc0917c794cfdfe161d0831b7fb6aadf13ef5adfe41708c", "sum__eval/precision": 0.3995, "sum__pred/test_runtime": 230.7408, "sum__pred/test_editDistance_33": 82.2, "sum__pred/test_acc_35": 0, "sum__num_trainable_params": 109607040, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_16": 0, "sum__computed_per_device_train_batch_size": 64, "sum__eval/runtime": 34.9785, "sum__pred/test_f1": 0.1175, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_7": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__pred/valid_editDistance_10": 0, "sum__pred/valid_loss": 0.0005331767606548965, "sum__pred/valid_acc_13": 1, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_22": 0, "sum__pred/test_editDistance_23": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_17": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 12, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 29.99728, "sum___wandb#runtime": 4216, "sum__pred/test_acc_27": 0.066, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_69cbc975f89c90c1c1ff.table.json", "sum__evaluated_acc/test/table#size": 4840745, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "69cbc975f89c90c1c1ffe1b93a71069c475e812a96f6cae01d769c1d4e1027c3", "sum__pred/test_acc_30": 0, "sum__num_train_samples": 100000, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_14": 0, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_875c03ae3aef089cb710.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 98183, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "875c03ae3aef089cb71003d5ccf3459015b310548f4accd2413180311625d14e", "sum__pred/test_acc": 0.7013, "sum__pred/valid_acc_16": 0.9973, "sum__pred/test_acc_overall": 0.236, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_editDistance_31": 56.6, "sum__eval/recall": 0.9994, "sum__pred/test_acc_21": 0.996, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_8": 1, "sum__pred/valid_acc_10": 0.9974, "sum__train/global_step": 0, "sum__pred/valid_runtime": 36.2548, "sum__pred/test_acc_29": 0.002, "sum__pred/valid_acc_11": 1, "sum__pred/valid_acc_19": 1, "sum___runtime": 4216, "sum__train/seq_acc": 1, "sum__pred/valid_acc_6": 1, "sum__computed_num_process": 1, "sum__pred/valid_precision": 0.3995, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/valid_editDistance_overall": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "h5n0jkrr", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/h5n0jkrr", "created_at": "2023-03-20T00:26:01", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "19efz8aq", "state": "finished", "id": "19efz8aq", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/19efz8aq", "created_at": "2023-03-20T00:25:39", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "3ezymwp4", "state": "finished", "id": "3ezymwp4", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/3ezymwp4", "created_at": "2023-03-20T00:25:17", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "37hqgskh", "state": "finished", "id": "37hqgskh", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/37hqgskh", "created_at": "2023-03-20T00:24:56", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "3fexvpj1", "state": "finished", "id": "3fexvpj1", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/3fexvpj1", "created_at": "2023-03-20T00:24:34", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "2ijbxa8r", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/2ijbxa8r", "created_at": "2023-03-20T00:24:11", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "34t0u7u1", "state": "finished", "id": "34t0u7u1", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/34t0u7u1", "created_at": "2023-03-20T00:23:49", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "gw0nmt8x", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/gw0nmt8x", "created_at": "2023-03-20T00:23:27", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "378yqbey", "state": "finished", "id": "378yqbey", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/378yqbey", "created_at": "2023-03-20T00:23:06", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "26mysblr", "state": "finished", "id": "26mysblr", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/26mysblr", "created_at": "2023-03-20T00:22:44", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "1b0vsw7u", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1b0vsw7u", "created_at": "2023-03-20T00:22:22", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "1vz1bvp7", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1vz1bvp7", "created_at": "2023-03-20T00:21:59", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "3faxjiub", "state": "finished", "id": "3faxjiub", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/3faxjiub", "created_at": "2023-03-20T00:21:37", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "1h077p9m", "state": "finished", "id": "1h077p9m", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1h077p9m", "created_at": "2023-03-20T00:21:16", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_reverse"], "launcher_id": "mftmnm89", "state": "finished", "id": "mftmnm89", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/mftmnm89", "created_at": "2023-03-20T00:20:54", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "1k4jxy1s", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1k4jxy1s", "created_at": "2023-03-20T00:15:52", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "1ezj9mh0", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1ezj9mh0", "created_at": "2023-03-20T00:15:30", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "1eyotkmn", "state": "finished", "id": "1eyotkmn", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1eyotkmn", "created_at": "2023-03-20T00:15:08", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "2r1okmta", "state": "finished", "id": "2r1okmta", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/2r1okmta", "created_at": "2023-03-20T00:14:46", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "37azcexf", "state": "finished", "id": "37azcexf", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/37azcexf", "created_at": "2023-03-20T00:14:25", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "adxrs562", "state": "finished", "id": "adxrs562", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/adxrs562", "created_at": "2023-03-20T00:14:02", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "eleguhcp", "state": "finished", "id": "eleguhcp", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/eleguhcp", "created_at": "2023-03-20T00:13:39", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "nl8spvbv", "state": "finished", "id": "nl8spvbv", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/nl8spvbv", "created_at": "2023-03-20T00:13:16", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "2zf5f3cv", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/2zf5f3cv", "created_at": "2023-03-20T00:12:54", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "28nujgdx", "state": "finished", "id": "28nujgdx", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/28nujgdx", "created_at": "2023-03-20T00:12:32", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "1cf3wek1", "state": "finished", "id": "1cf3wek1", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1cf3wek1", "created_at": "2023-03-20T00:12:09", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "3lmh0moj", "state": "finished", "id": "3lmh0moj", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/3lmh0moj", "created_at": "2023-03-20T00:11:46", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "2x50hzn7", "state": "finished", "id": "2x50hzn7", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/2x50hzn7", "created_at": "2023-03-20T00:11:23", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "3azyvsm8", "state": "finished", "id": "3azyvsm8", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/3azyvsm8", "created_at": "2023-03-20T00:10:59", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "1pdt47bo", "state": "finished", "id": "1pdt47bo", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1pdt47bo", "created_at": "2023-03-20T00:10:34", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "2l5qreh3", "state": "finished", "id": "2l5qreh3", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/2l5qreh3", "created_at": "2023-03-20T00:10:12", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "8awa5jme", "state": "finished", "id": "8awa5jme", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/8awa5jme", "created_at": "2023-03-20T00:09:50", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "23ea0skj", "state": "finished", "id": "23ea0skj", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/23ea0skj", "created_at": "2023-03-20T00:09:28", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "24m5wbpc", "state": "finished", "id": "24m5wbpc", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/24m5wbpc", "created_at": "2023-03-20T00:09:05", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "1yzksrv0", "state": "finished", "id": "1yzksrv0", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1yzksrv0", "created_at": "2023-03-20T00:08:43", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be_2_256788", "created_at": "2023-03-17T14:32:18", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum___timestamp": 1679062725, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___step": 8, "sum___wandb#runtime": 107, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-4000"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be_2_234054", "created_at": "2023-03-17T14:32:03", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 30, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-2000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___timestamp": 1679062839, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___step": 8, "sum___wandb#runtime": 109, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be__256788", "created_at": "2023-03-17T14:31:32", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum___runtime": 16537, "sum__num_total_params": 137927808, "sum__pred/test_acc_overall": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-4000", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__pred/valid_acc_6": 0.9975, "sum__pred/valid_acc_11": 0.9929, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_5": 0.2611, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_8": 0.9973, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_22": 0.2, "sum__pred/test_editDistance_30": 0.4, "sum__train/train_samples_per_second": 160.446, "sum__pred/valid_acc_10": 0.9894, "sum__pred/test_editDistance_24": 0.6, "sum__pred/valid_editDistance_6": 0.2475, "sum__eval/f1": 0.5852, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_37": 0.6, "sum__pred/test_editDistance_38": 0.4, "sum__pred/test_steps_per_second": 1.515, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__pred/valid_acc": 0.9337, "sum__pred/valid_acc_4": 0.9974, "sum__pred/valid_runtime": 144.1328, "sum__pred/valid_acc_7": 0.9922, "sum__pred/valid_acc_9": 0.9898, "sum__evaluated_acc/valid/table#size": 1462115, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "08a49f369327d66a504f24fdb2f5952f15803e60be14102e6848c1c35366dbce", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_08a49f369327d66a504f.table.json", "sum__pred/valid_editDistance_3": 0.2532, "sum___timestamp": 1679029411, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_12": 0.9974, "sum__computed_num_process": 1, "sum__pred/test_editDistance_33": 0.6, "sum__pred/test_acc": 0.7975, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_37": 0, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_32": 0.2, "sum__pred/valid_steps_per_second": 1.63, "sum__train/epoch": 25.59, "sum__train/total_flos": 8.163935225546342e+16, "sum__eval/samples_per_second": 52.097, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_editDistance_8": 0.2688, "sum__pred/valid_editDistance_17": 0, "sum__train/recall": 1, "sum__pred/test_acc_34": 0, "sum__train/train_loss": 0.0651048053424216, "sum__pred/valid_acc_19": 0.9973, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.PREDICTION#size": 91606, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_099b24250f40b2f49371.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__eval/acc": 0.9337, "sum__pred/test_f1": 0.3796, "sum__pred/valid_acc_17": 1, "sum__train/learning_rate": 1e-07, "sum__train/train_runtime": 15955.5355, "sum__pred/test_editDistance_27": 1, "sum__pred/test_editDistance_29": 0.8, "sum__pred/valid_editDistance_12": 0.2564, "sum__eval/runtime": 143.8474, "sum__train/seq_acc": 1, "sum__pred/test_loss": 2.7736964225769043, "sum__pred/test_acc_30": 0, "sum__train/global_step": 0, "sum__pred/test_editDistance_39": 0.8, "sum__pred/valid_editDistance_7": 0.7772, "sum__pred/valid_editDistance_14": 0.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__pred/test_editDistance_28": 0.6, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_33": 0, "sum__pred/test_runtime": 206.6003, "sum__pred/valid_acc_20": 0.9973, "sum__pred/valid_seq_acc": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_34": 0, "sum__auto_computed_eval_batch_size": 32, "sum__train/acc": 0.2632, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_31": 0, "sum__pred/valid_precision": 0.4136, "sum__pred/valid_editDistance_overall": 0.3603, "sum__computed_per_device_eval_batch_size": 32, "sum__train/precision": 0.2632, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_2": 1, "sum__pred/test_seq_acc": 0, "sum__pred/valid_acc_14": 0.995, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-4000", "sum__pred/valid_editDistance_18": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__pred/valid_acc_overall": 0.9964, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_15": 0, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum___step": 4146, "sum__pred/valid_loss": 0.0003303435514681041, "sum__pred/valid_acc_16": 0.9974, "sum__pred/valid_acc_18": 1, "sum__pred/test_editDistance_36": 0.4, "sum__pred/valid_editDistance_9": 1.0204, "sum__pred/test_editDistance_overall": 0.42, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-4000", "sum__pred/valid_f1": 0.5852, "sum__eval/precision": 0.4136, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_13": 0.9952, "sum__pred/test_num_samples": 10000, "sum__train/f1": 0.4168, "sum__pred/test_acc_28": 0, "sum__pred/test_recall": 0.5131, "sum__pred/valid_acc_3": 0.9975, "sum__pred/test_editDistance_23": 0.2, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_15": 1, "sum__pred/valid_editDistance_11": 0.7143, "sum__train/train_steps_per_second": 2.507, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_10": 1.0582, "sum__eval/seq_acc": 1, "sum__pred/valid_acc_5": 0.9974, "sum__auto_computed_batch_size_predict": 32, "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__eval/loss": 1.3786172985419398e-06, "sum__train/loss": 0, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "292ff0ed5b9d07a154c10d0fdc58c4a75cd4a28c1b75acf41bc5b6c2ccfb6de5", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_292ff0ed5b9d07a154c1.table.json", "sum__evaluated_acc/test/table#size": 3885128, "sum__pred/test_editDistance_26": 0.4, "sum__pred/test_editDistance_35": 0.2, "sum__pred/test_samples_per_second": 48.403, "sum__pred/test_acc_21": 0, "sum__pred/test_acc_24": 0, "sum__pred/valid_editDistance_13": 0.4751, "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__eval/recall": 1, "sum__pred/test_acc_38": 0, "sum__eval/steps_per_second": 1.634, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-4000", "sum__pred/valid_editDistance_16": 0.2564, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_precision": 0.3012, "sum__pred/valid_editDistance_4": 0.2646, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_46debd9781b50cd4c303.table.json", "sum__evaluated_acc/valid/plot_table#size": 344, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "46debd9781b50cd4c303d34ade949c81e5f63b723f28c85203ec2b2856ecc1dd", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_a2b64203148b4d0ac4cb.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8298, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "a2b64203148b4d0ac4cbec529ee28fa69d2fc72ee8adbb9e84a2dd538930c4a8", "sum___wandb#runtime": 16537, "sum__pred/valid_editDistance_19": 0.2667, "sum__pred/valid_editDistance_20": 0.271, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "9729733d4bdecf6d675a8b55832072710812f7eea33a50ccc3b5ab4834ddd66a", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_9729733d4bdecf6d675a.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 342, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_40": 0.4, "sum__pred/valid_samples_per_second": 51.994, "sum__pred/test_acc_32": 0, "sum__pred/valid_editDistance_2": 0}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be_agg_234054", "created_at": "2023-03-17T14:31:17", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum___wandb#runtime": 93, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-2000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___step": 8, "sum___timestamp": 1679063169, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum___runtime": 30, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be_agg_146317", "created_at": "2023-03-17T14:31:01", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 91, "sum___runtime": 29, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679063269, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be__146317", "created_at": "2023-03-17T14:30:29", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_36": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_21": 0, "sum__auto_computed_batch_size_predict": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__pred/test_acc_35": 0, "sum__pred/valid_precision": 0.4135, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_36": 0.4, "sum__pred/test_editDistance_37": 0.6, "sum__pred/test_editDistance_38": 0.4, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__pred/valid_acc_3": 0.9975, "sum__computed_per_device_eval_batch_size": 32, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_40": 0, "sum__pred/test_editDistance_27": 1, "sum__pred/valid_editDistance_11": 0.7614, "sum__auto_computed_eval_batch_size": 32, "sum___runtime": 16592, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_22": 0.2, "sum__pred/valid_editDistance_3": 0.2545, "sum__pred/valid_editDistance_12": 0.7335, "sum__pred/valid_editDistance_15": 0.5249, "sum__pred/test_acc_22": 0, "sum__pred/test_editDistance_39": 0.8, "sum__pred/test_editDistance_40": 0.4, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_5c3ca69985015b4c7cf8.table.json", "sum__evaluated_acc/valid/table#size": 1461705, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "5c3ca69985015b4c7cf8fe882f45c3852589c7e47d5dbdd757d241121af1cbf9", "sum__pred/valid_loss": 0.00027952634263783693, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_25": 0, "sum__train/recall": 1, "sum__eval/steps_per_second": 1.622, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_editDistance_18": 0.4843, "sum__pred/test_editDistance_overall": 0.42, "sum__pred/valid_f1": 0.5851, "sum__pred/test_acc_23": 0, "sum__pred/valid_acc_7": 0.9903, "sum__train/gen_max_length": 256, "sum__eval/samples_per_second": 51.725, "sum__pred/valid_editDistance_10": 0.2618, "sum__train/precision": 0.2748, "sum__pred/test_precision": 0.3018, "sum__pred/test_editDistance_32": 0.2, "sum__pred/valid_editDistance_7": 0.9709, "sum__pred/test_steps_per_second": 1.511, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__eval/precision": 0.4135, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_5": 0.9974, "sum__num_total_params": 137927808, "sum__eval/recall": 1, "sum__pred/valid_acc_20": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__pred/test_samples_per_second": 48.273, "sum___step": 4146, "sum__eval/runtime": 144.8804, "sum__pred/valid_acc_13": 0.9875, "sum__pred/valid_seq_acc": 1, "sum__pred/test_acc_overall": 0.0006, "sum__auto_computed_batch_size": 64, "sum___timestamp": 1679062687, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_16": 0.9946, "sum__pred/test_editDistance_23": 0.2, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "e774f4995cbd11b207fea31bb5c3cf26f27186e776b4c268847c76f175c64265", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_e774f4995cbd11b207fe.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8321, "sum__train/loss": 0, "sum__pred/valid_recall": 1, "sum__pred/valid_acc_9": 0.9922, "sum__pred/test_acc_39": 0, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_14": 0.2488, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_overall": 0.9959, "sum__pred/test_editDistance_29": 0.8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__eval/loss": 2.1869373085792176e-06, "sum__train/f1": 0.4311, "sum__pred/test_acc_27": 0, "sum__train/total_flos": 8.164318003155763e+16, "sum__pred/valid_acc_15": 0.9948, "sum__pred/valid_editDistance_9": 0.7792, "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__eval/f1": 0.5851, "sum__pred/test_acc_24": 0, "sum__pred/valid_editDistance_13": 1.2531, "sum__pred/valid_acc": 0.9338, "sum__train/train_loss": 0.06666405112377834, "sum__computed_num_process": 1, "sum__pred/valid_editDistance_2": 0, "sum__train/train_samples_per_second": 159.534, "sum__eval/acc": 0.9338, "sum__pred/valid_editDistance_17": 0.2525, "sum__pred/valid_acc_18": 0.9952, "sum__pred/test_acc_38": 0, "sum__train/learning_rate": 1e-07, "sum__train/acc": 0.2748, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_34": 0, "sum__pred/test_recall": 0.5146, "sum__pred/test_seq_acc": 0.0006, "sum__pred/valid_acc_11": 0.9924, "sum__pred/valid_samples_per_second": 51.546, "sum__pred/test_f1": 0.3805, "sum__pred/valid_editDistance_8": 0.2695, "sum__train/epoch": 25.59, "sum__pred/valid_acc_12": 0.9927, "sum__pred/test_editDistance_26": 0.4, "sum__pred/valid_editDistance_20": 0, "sum__eval/seq_acc": 1, "sum__pred/valid_editDistance_5": 0.2632, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__pred/test_runtime": 207.1569, "sum__pred/test_acc_28": 0, "sum__pred/test_editDistance_30": 0.4, "sum__pred/test_editDistance_33": 0.6, "sum__pred/valid_editDistance_4": 0, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 84299, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__pred/test_acc_21": 0.012, "sum__pred/valid_acc_8": 0.9973, "sum__pred/valid_acc_19": 0.9974, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_81c1e39448c05ec0cce2.table.json", "sum__evaluated_acc/test/table#size": 3889149, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "81c1e39448c05ec0cce2e036e79ba83c73a0bb5206893e309879198acefc6609", "sum__pred/valid_editDistance_16": 0.5435, "sum__pred/test_acc_25": 0, "sum__pred/test_editDistance_35": 0.2, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ef4d4c0b9aa8662732fc.table.json", "sum__evaluated_acc/test/plot_table#size": 323, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ef4d4c0b9aa8662732fc867f6b29b8b57feefceac555b6d5e6379cf77809d8df", "sum__pred/valid_acc_17": 0.9975, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_6": 1, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_19": 0.2639, "sum__pred/valid_steps_per_second": 1.616, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__train/seq_acc": 1, "sum__pred/valid_acc_14": 0.9975, "sum__train/global_step": 0, "sum__pred/valid_runtime": 145.3857, "sum__pred/test_editDistance_24": 0.6, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_2aeaecdd9a75872ec200.table.json", "sum__evaluated_acc/valid/plot_table#size": 345, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "2aeaecdd9a75872ec20052bf9a4905691826101c1947c61cdd4a6262d4f11ca9", "sum__pred/valid_editDistance_overall": 0.4137, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__pred/valid_acc_2": 1, "sum__pred/test_acc_31": 0, "sum__pred/valid_acc_10": 0.9974, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__pred/test_acc": 0.7977, "sum__pred/test_loss": 3.503061056137085, "sum__pred/test_acc_26": 0, "sum__train/train_runtime": 16046.7663, "sum__pred/test_editDistance_28": 0.6, "sum__train/train_steps_per_second": 2.493, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "271629a72a0f17f2c5582097414376abbcb402fe0966e0ec3298be0a6748c30e", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_271629a72a0f17f2c558.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 346, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum___wandb#runtime": 16592}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be__234054", "created_at": "2023-03-17T14:29:51", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_21": 0, "sum__pred/valid_acc_10": 0.9895, "sum__pred/valid_recall": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__pred/valid_acc_9": 0.9975, "sum__pred/valid_acc_18": 0.9973, "sum__pred/valid_acc_12": 0.9976, "sum__pred/test_editDistance_32": 0.2, "sum__pred/valid_editDistance_15": 0.2755, "sum__train/train_samples_per_second": 158.785, "sum__pred/test_editDistance_40": 0.4, "sum__pred/valid_editDistance_4": 0, "sum__eval/f1": 0.5855, "sum__train/global_step": 0, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-2000", "sum__pred/test_editDistance_29": 0.8, "sum__pred/test_editDistance_30": 0.4, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-2000", "sum__pred/valid_editDistance_13": 1.0336, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_acc_2": 0.9976, "sum__computed_num_process": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-2000", "sum__pred/test_editDistance_23": 0.2, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_20": 0.2463, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "3543e81324deecad6634b7d1a886fa908a0321cea5e66667dfd639b5e2fe90b7", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_3543e81324deecad6634.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8317, "sum__pred/test_f1": 0.3841, "sum__pred/test_acc_31": 0, "sum__pred/test_runtime": 207.2356, "sum__pred/test_recall": 0.5207, "sum__pred/valid_runtime": 144.744, "sum__pred/test_acc_overall": 0, "sum__pred/test_editDistance_27": 1, "sum__pred/valid_editDistance_9": 0.2481, "sum__pred/valid_editDistance_2": 0.241, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_14": 0.2525, "sum__train/precision": 0.2731, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_overall": 0.42, "sum__pred/valid_editDistance_7": 0.9901, "sum__pred/valid_editDistance_8": 0.5405, "sum__eval/acc": 0.9335, "sum__train/seq_acc": 1, "sum__pred/test_loss": 3.1802122592926025, "sum__pred/test_acc_23": 0, "sum__pred/test_num_samples": 10000, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_30": 0, "sum__train/train_loss": 0.06579627462862336, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_38": 0.4, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_6": 1, "sum__pred/test_precision": 0.3043, "sum__eval/samples_per_second": 51.688, "sum__pred/test_editDistance_37": 0.6, "sum__num_total_params": 137927808, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_13": 0.9897, "sum__pred/valid_acc_15": 0.9972, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_33": 0, "sum__pred/valid_acc_4": 1, "sum__train/f1": 0.429, "sum__train/recall": 1, "sum__pred/test_acc_40": 0, "sum__pred/valid_editDistance_5": 0.8174, "sum__pred/valid_editDistance_19": 0.2433, "sum__pred/test_editDistance_39": 0.8, "sum__train/epoch": 25.59, "sum__eval/seq_acc": 1, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_7": 0.9901, "sum__pred/valid_acc_16": 0.9974, "sum__eval/runtime": 144.9844, "sum__pred/test_acc_28": 0, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_acc_17": 1, "sum__train/train_runtime": 16122.4098, "sum__pred/test_steps_per_second": 1.51, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___wandb#runtime": 16666, "sum__pred/valid_editDistance_10": 1.0499, "sum__pred/valid_f1": 0.5855, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_33": 0.6, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_22": 0, "sum__train/gen_max_length": 256, "sum__pred/test_editDistance_28": 0.6, "sum__pred/test_editDistance_36": 0.4, "sum__pred/valid_editDistance_12": 0.2358, "sum__pred/valid_samples_per_second": 51.774, "sum__evaluated_acc/valid/plot_table#sha256": "950daacb7675f9db72cc505f4f5ca695ef0d82bc9cb5f44648cd1cbbed9e6a3c", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_950daacb7675f9db72cc.table.json", "sum__evaluated_acc/valid/plot_table#size": 345, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__pred/valid_acc_11": 0.9951, "sum__pred/valid_acc_19": 0.9976, "sum__pred/valid_precision": 0.4139, "sum__eval/steps_per_second": 1.621, "sum__train/train_steps_per_second": 2.481, "sum___runtime": 16666, "sum__pred/valid_acc_8": 0.9946, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__train/learning_rate": 1e-07, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_22": 0.2, "sum__pred/valid_editDistance_18": 0.2695, "sum__train/acc": 0.2731, "sum__pred/valid_acc_3": 1, "sum__train/total_flos": 8.163835181398426e+16, "sum__pred/test_seq_acc": 0, "sum__auto_computed_batch_size": 64, "sum___step": 4146, "sum__pred/test_acc_37": 0, "sum__pred/valid_editDistance_11": 0.4878, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-2000", "sum__pred/valid_acc": 0.9335, "sum__pred/valid_steps_per_second": 1.624, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__pred/valid_editDistance_overall": 0.3736, "sum__eval/recall": 1, "sum__pred/valid_acc_5": 0.9918, "sum__pred/valid_acc_20": 0.9975, "sum__pred/valid_editDistance_16": 0.2604, "sum__train/loss": 0, "sum__pred/test_acc": 0.7984, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_a5a08efd705fe6d3e2eb.table.json", "sum__evaluated_acc/valid/table#size": 1472322, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "a5a08efd705fe6d3e2eba5cf43788d43893cc4710a5792e1cb95d575d9d8c2e1", "sum__pred/test_editDistance_35": 0.2, "sum__pred/test_acc_24": 0, "sum__num_trainable_params": 109607040, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_305732fe922107cf231d.table.json", "sum__evaluated_acc/test/table#size": 3903352, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "305732fe922107cf231d75c8e4354d14fa1652115f58db10702e0d26a52d1b92", "sum__pred/test_editDistance_26": 0.4, "sum__pred/test_samples_per_second": 48.254, "sum__pred/valid_acc_14": 0.9975, "sum__pred/test_editDistance_24": 0.6, "sum__computed_per_device_train_batch_size": 64, "sum__evaluated_acc/valid/editDistance_plot_table#size": 345, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "2828c4e7c52ffff852b88e07400b4a1e099d111eb8e295e0be961b68380e9cc6", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_2828c4e7c52ffff852b8.table.json", "sum__eval/precision": 0.4139, "sum__pred/valid_loss": 0.006684727966785431, "sum__pred/test_acc_34": 0, "sum__pred/test_editDistance_34": 0, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 86747, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__pred/test_editDistance_31": 0.6, "sum__auto_computed_grad_acc_steps": 1, "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__eval/loss": 2.0393986233102623e-06, "sum___timestamp": 1679046086, "sum__pred/test_acc_27": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_overall": 0.9963}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be_2_146317", "created_at": "2023-03-17T14:29:36", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___timestamp": 1679062956, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 107, "sum___runtime": 30, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be_agg_256788", "created_at": "2023-03-17T14:29:22", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___timestamp": 1679063070, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-4000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___step": 8, "sum___runtime": 29, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum___wandb#runtime": 91, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752__256788", "created_at": "2023-03-17T11:44:15", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_samples_per_second": 11.315, "sum___timestamp": 1679026608, "sum__train/global_step": 0, "sum__pred/valid_runtime": 73.0327, "sum__pred/valid_seq_acc": 1, "sum__auto_computed_batch_size": 64, "sum___runtime": 13154, "sum__train/acc": 0.2632, "sum__pred/valid_acc_3": 0.9975, "sum__num_trainable_params": 109607040, "sum__num_non_trainable_params": 40903680, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__pred/valid_editDistance_10": 1.0582, "sum__pred/valid_acc_13": 0.9952, "sum__train/learning_rate": 1e-07, "sum__eval/steps_per_second": 3.19, "sum__pred/valid_acc_8": 0.9973, "sum__train/gen_max_length": 256, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum___wandb#runtime": 13154, "sum__pred/test_acc": 0.219, "sum__pred/valid_f1": 0.5852, "sum__pred/test_editDistance_29": 0.8, "sum__pred/valid_editDistance_4": 0.2646, "sum__pred/valid_acc_2": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__pred/test_editDistance_26": 0.4, "sum__pred/valid_acc_17": 1, "sum__computed_num_process": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_12": 0.2564, "sum__train/precision": 0.2632, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_6": 0.9975, "sum__pred/valid_editDistance_9": 1.0204, "sum__pred/valid_editDistance_13": 0.4751, "sum__pred/valid_steps_per_second": 3.218, "sum__auto_computed_grad_acc_steps": 1, "sum__train/recall": 1, "sum__pred/test_acc_27": 0, "sum__pred/test_editDistance_23": 0.2, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "08a49f369327d66a504f24fdb2f5952f15803e60be14102e6848c1c35366dbce", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_08a49f369327d66a504f.table.json", "sum__evaluated_acc/valid/table#size": 1462115, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__pred/test_editDistance_30": 0.4, "sum__pred/valid_editDistance_20": 0.271, "sum__auto_computed_batch_size_predict": 32, "sum__eval/loss": 7.508141152356984e-06, "sum__train/train_loss": 0.06935016121162044, "sum__num_train_samples": 100000, "sum__eval/samples_per_second": 101.715, "sum__pred/test_editDistance_33": 0.6, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 91606, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__train/epoch": 25.59, "sum__eval/precision": 0.4136, "sum__pred/test_acc_32": 0, "sum__pred/valid_editDistance_11": 0.7143, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_6962eefd4e1da947c30e.table.json", "sum__evaluated_acc/test/table#size": 17518111, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "6962eefd4e1da947c30e95cf96f753a345dab35fb148608748cb76f9890ce407", "sum__pred/test_editDistance_37": 0.6, "sum__pred/test_editDistance_38": 0.4, "sum__pred/test_editDistance_22": 0.2, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__pred/valid_samples_per_second": 102.612, "sum__eval/runtime": 73.6764, "sum__pred/test_acc_26": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_11": 0.9929, "sum__pred/valid_editDistance_18": 0, "sum__evaluated_acc/valid/during_training_table#sha256": "a7ba8c737ac7e16d7527b5e530a5d0df44c88926f273586e53d64bf564bfffb9", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_a7ba8c737ac7e16d7527.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8315, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__pred/valid_acc_5": 0.9974, "sum__pred/valid_acc_18": 1, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_editDistance_17": 0, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_16": 0.9974, "sum__pred/valid_editDistance_3": 0.2532, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__pred/test_editDistance_overall": 0.42, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__pred/test_precision": 0.1317, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_recall": 1, "sum__pred/test_editDistance_36": 0.4, "sum__pred/test_editDistance_40": 0.4, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_19": 0.2667, "sum__eval/f1": 0.5852, "sum__eval/acc": 0.9337, "sum__pred/test_runtime": 883.7958, "sum__pred/valid_acc_4": 0.9974, "sum__pred/valid_editDistance_6": 0.2475, "sum__pred/valid_editDistance_14": 0.5, "sum__train/f1": 0.4168, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_overall": 0, "sum__pred/test_editDistance_34": 0, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__pred/test_acc_30": 0, "sum__pred/test_acc_35": 0, "sum__pred/valid_acc_14": 0.995, "sum__train/loss": 0.0001, "sum__pred/valid_precision": 0.4136, "sum__pred/test_editDistance_35": 0.2, "sum__pred/valid_acc_15": 1, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_editDistance_16": 0.2564, "sum__computed_per_device_train_batch_size": 64, "sum___step": 4146, "sum__pred/test_acc_25": 0, "sum__pred/test_seq_acc": 0, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__pred/test_acc_23": 0, "sum__pred/test_editDistance_39": 0.8, "sum__pred/valid_editDistance_7": 0.7772, "sum__pred/valid_acc": 0.9337, "sum__pred/test_acc_21": 0, "sum__pred/test_steps_per_second": 0.354, "sum__pred/test_acc_33": 0, "sum__train/train_runtime": 11991.9309, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "9729733d4bdecf6d675a8b55832072710812f7eea33a50ccc3b5ab4834ddd66a", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_9729733d4bdecf6d675a.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 342, "sum__pred/valid_acc_20": 0.9973, "sum__pred/test_editDistance_24": 0.6, "sum__train/seq_acc": 1, "sum__pred/valid_loss": 0.0001281306758755818, "sum__pred/valid_acc_19": 0.9973, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_overall": 0.9964, "sum__eval/seq_acc": 1, "sum__pred/test_acc_36": 0, "sum__pred/test_acc_37": 0, "sum__pred/valid_editDistance_8": 0.2688, "sum__train/train_samples_per_second": 213.477, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_38": 0, "sum__pred/valid_editDistance_5": 0.2611, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__eval/recall": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__pred/test_editDistance_32": 0.2, "sum__pred/test_acc_39": 0, "sum__pred/valid_acc_7": 0.9922, "sum__pred/valid_acc_9": 0.9898, "sum__train/train_steps_per_second": 3.336, "sum__pred/valid_editDistance_overall": 0.3603, "sum__pred/test_f1": 0.2316, "sum__pred/test_loss": 0.5380772948265076, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_acc_10": 0.9894, "sum__pred/valid_acc_12": 0.9974, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_27": 1, "sum__pred/test_editDistance_28": 0.6, "sum__num_total_params": 150510720, "sum__pred/test_recall": 0.9615, "sum__train/total_flos": 8.163935225546342e+16, "sum__evaluated_acc/valid/plot_table#size": 344, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "46debd9781b50cd4c303d34ade949c81e5f63b723f28c85203ec2b2856ecc1dd", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_46debd9781b50cd4c303.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752_agg_146317", "created_at": "2023-03-17T11:44:02", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679053262, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-14000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum___wandb#runtime": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___runtime": 29, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752_agg_256788", "created_at": "2023-03-17T11:43:48", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum___runtime": 29, "sum___timestamp": 1679053149, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___wandb#runtime": 49}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752_2_256788", "created_at": "2023-03-17T11:43:33", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 80, "sum___runtime": 29, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___timestamp": 1679052883, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752__146317", "created_at": "2023-03-17T11:43:02", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_samples_per_second": 11.437, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_loss": 6.072226824471727e-05, "sum__pred/test_acc_23": 0, "sum__pred/test_steps_per_second": 0.358, "sum__auto_computed_grad_acc_steps": 1, "sum__num_total_params": 150510720, "sum__pred/test_acc_overall": 0, "sum__pred/test_editDistance_31": 0.6, "sum__auto_computed_eval_batch_size": 32, "sum__train/total_flos": 8.164318003155763e+16, "sum__pred/valid_seq_acc": 1, "sum__eval/steps_per_second": 3.245, "sum__pred/valid_editDistance_8": 0.2695, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_40": 0.4, "sum__pred/valid_editDistance_18": 0.4843, "sum__eval/seq_acc": 1, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_3": 0.9975, "sum__pred/valid_acc_14": 0.9975, "sum__train/f1": 0.4312, "sum__pred/test_editDistance_29": 0.8, "sum__pred/valid_editDistance_10": 0.2618, "sum__pred/test_seq_acc": 0, "sum__pred/test_editDistance_24": 0.6, "sum__pred/test_editDistance_overall": 0.42, "sum__pred/valid_steps_per_second": 3.207, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_18": 0.9952, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-14000", "sum__pred/test_editDistance_32": 0.2, "sum__pred/valid_acc_10": 0.9974, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__train/recall": 1, "sum__pred/valid_f1": 0.5851, "sum__pred/test_acc_37": 0, "sum__pred/test_acc_39": 0, "sum__eval/f1": 0.5851, "sum__pred/valid_acc_4": 1, "sum__pred/valid_acc_15": 0.9948, "sum__pred/test_editDistance_38": 0.4, "sum__pred/test_editDistance_33": 0.6, "sum__pred/valid_editDistance_11": 0.7614, "sum___step": 4146, "sum__train/acc": 0.2751, "sum__pred/valid_num_samples": 7494, "sum__pred/valid_editDistance_9": 0.7792, "sum__pred/valid_editDistance_14": 0.2488, "sum__ds_examples/ExperimentStage.PREDICTION#size": 84299, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_6c9a47a6e2765e78fac8.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__pred/valid_acc_8": 0.9973, "sum__pred/test_editDistance_28": 0.6, "sum__pred/test_editDistance_36": 0.4, "sum__pred/valid_editDistance_6": 0, "sum__eval/recall": 1, "sum__pred/valid_editDistance_7": 0.9709, "sum__pred/valid_editDistance_17": 0.2525, "sum__eval/runtime": 72.4129, "sum__pred/test_acc_25": 0, "sum__pred/test_acc_34": 0, "sum__train/gen_max_length": 256, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__eval/loss": 6.587616553588305e-06, "sum__pred/valid_acc_9": 0.9922, "sum__pred/valid_precision": 0.4135, "sum__pred/valid_editDistance_20": 0, "sum__eval/precision": 0.4135, "sum__pred/valid_acc": 0.9338, "sum__train/train_samples_per_second": 214.566, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_b8512678925cce44bb13.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8349, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "b8512678925cce44bb137bb4dd14973a632f9a63c66cc93abcf532e59d4c656d", "sum__pred/test_acc_31": 0, "sum__pred/test_precision": 0.1423, "sum__train/learning_rate": 1e-07, "sum__train/train_steps_per_second": 3.353, "sum__train/train_runtime": 11931.0454, "sum__pred/test_editDistance_22": 0.2, "sum__pred/valid_editDistance_15": 0.5249, "sum__pred/test_editDistance_39": 0.8, "sum__pred/valid_samples_per_second": 102.255, "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__pred/test_acc_29": 0, "sum__pred/test_recall": 0.9339, "sum__pred/valid_runtime": 73.2877, "sum__pred/valid_acc_5": 0.9974, "sum__pred/test_num_samples": 10000, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "2b060766004425e2cb8904a4b3ee29b702ef992a5b8cd426705171939fbc1224", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_2b060766004425e2cb89.table.json", "sum__evaluated_acc/test/table#size": 15728349, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__pred/test_loss": 0.4694282710552216, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_38": 0, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_271629a72a0f17f2c558.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 346, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "271629a72a0f17f2c5582097414376abbcb402fe0966e0ec3298be0a6748c30e", "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_5": 0.2632, "sum___runtime": 13071, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_27": 0, "sum__pred/valid_acc_7": 0.9903, "sum__train/loss": 0.0001, "sum__train/global_step": 0, "sum__pred/test_editDistance_27": 1, "sum__pred/valid_editDistance_16": 0.5435, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_23": 0.2, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-14000", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__pred/test_f1": 0.247, "sum__pred/test_runtime": 874.3367, "sum__pred/valid_acc_20": 1, "sum__pred/valid_recall": 1, "sum__pred/valid_acc_overall": 0.9959, "sum__pred/valid_editDistance_3": 0.2545, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-14000", "sum__eval/acc": 0.9338, "sum__train/epoch": 25.59, "sum__pred/test_acc": 0.3031, "sum__pred/test_acc_26": 0, "sum__pred/valid_acc_13": 0.9875, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-14000", "sum__num_non_trainable_params": 40903680, "sum__pred/valid_editDistance_12": 0.7335, "sum__train/precision": 0.2749, "sum__pred/test_acc_22": 0, "sum__pred/valid_acc_11": 0.9924, "sum__pred/valid_acc_12": 0.9927, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_16": 0.9946, "sum__eval/samples_per_second": 103.49, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "5c3ca69985015b4c7cf8fe882f45c3852589c7e47d5dbdd757d241121af1cbf9", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_5c3ca69985015b4c7cf8.table.json", "sum__evaluated_acc/valid/table#size": 1461705, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_30": 0.4, "sum__pred/valid_editDistance_2": 0, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum___wandb#runtime": 13071, "sum__train/seq_acc": 1, "sum__pred/test_acc_32": 0, "sum__pred/valid_acc_6": 1, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_editDistance_overall": 0.4137, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_19": 0.9974, "sum__pred/test_editDistance_26": 0.4, "sum__pred/test_editDistance_35": 0.2, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_13": 1.2531, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679052846, "sum__pred/test_acc_21": 0, "sum__train/train_loss": 0.07051914504674787, "sum__computed_num_process": 1, "sum__pred/test_acc_28": 0, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_37": 0.6, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_2aeaecdd9a75872ec200.table.json", "sum__evaluated_acc/valid/plot_table#size": 345, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "2aeaecdd9a75872ec20052bf9a4905691826101c1947c61cdd4a6262d4f11ca9", "sum__pred/valid_acc_17": 0.9975, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_19": 0.2639}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752_2_146317", "created_at": "2023-03-17T11:42:48", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679053061, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 81, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-14000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___runtime": 30, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752_agg_234054", "created_at": "2023-03-17T11:42:34", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-16000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___step": 8, "sum___timestamp": 1679053206, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum___wandb#runtime": 49, "sum___runtime": 29, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752_2_234054", "created_at": "2023-03-17T11:42:20", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 81, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum___runtime": 30, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum___timestamp": 1679052972, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-16000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752__234054", "created_at": "2023-03-17T11:41:49", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_6947f83ec75c9dbc9a58.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8343, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "6947f83ec75c9dbc9a58350e46b1cff5a640a9f38298d0a3622a1b814d502042", "sum__train/epoch": 25.59, "sum__eval/seq_acc": 1, "sum__train/precision": 0.2731, "sum__pred/test_acc_38": 0, "sum__pred/test_runtime": 892.5296, "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_29": 0.8, "sum__pred/test_loss": 0.532279372215271, "sum__pred/valid_acc_12": 0.9976, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_editDistance_9": 0.2481, "sum__train/train_steps_per_second": 3.337, "sum__pred/test_acc_26": 0, "sum__num_non_trainable_params": 40903680, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__pred/valid_editDistance_20": 0.2463, "sum__eval/acc": 0.9335, "sum__pred/test_acc_31": 0, "sum__pred/test_acc_32": 0, "sum__num_train_samples": 100000, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_27": 1, "sum__pred/test_editDistance_36": 0.4, "sum__pred/valid_steps_per_second": 3.139, "sum__auto_computed_grad_acc_steps": 1, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "ed4d960d3632f81bb1d4a075dc16d54f782792b173c1c42b6af79eb672ff25e1", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_ed4d960d3632f81bb1d4.table.json", "sum__evaluated_acc/test/plot_table#size": 318, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_15": 0.9972, "sum__num_trainable_params": 109607040, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-16000", "sum__pred/valid_acc_19": 0.9976, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_overall": 0.3736, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "2828c4e7c52ffff852b88e07400b4a1e099d111eb8e295e0be961b68380e9cc6", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_2828c4e7c52ffff852b8.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 345, "sum___step": 4146, "sum__eval/loss": 6.876729912619339e-06, "sum__pred/test_recall": 0.9476, "sum__pred/valid_acc_6": 1, "sum__pred/valid_acc_10": 0.9895, "sum__train/global_step": 0, "sum__train/seq_acc": 1, "sum__pred/valid_acc_8": 0.9946, "sum__pred/valid_acc_20": 0.9975, "sum__pred/valid_recall": 1, "sum__pred/valid_editDistance_10": 1.0499, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_26": 0.4, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__pred/test_acc_21": 0, "sum__pred/test_editDistance_38": 0.4, "sum__pred/valid_editDistance_8": 0.5405, "sum__pred/valid_editDistance_14": 0.2525, "sum__train/gen_max_length": 256, "sum__pred/test_acc_overall": 0, "sum__pred/test_editDistance_22": 0.2, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_editDistance_2": 0.241, "sum__pred/test_steps_per_second": 0.351, "sum__train/f1": 0.429, "sum__eval/runtime": 73.1125, "sum__pred/test_acc_25": 0, "sum__pred/valid_acc_5": 0.9918, "sum__pred/valid_acc_17": 1, "sum__pred/valid_runtime": 74.8666, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-16000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__pred/test_acc_27": 0, "sum__eval/steps_per_second": 3.214, "sum___runtime": 13150, "sum__eval/recall": 1, "sum__pred/valid_acc_18": 0.9973, "sum__pred/test_editDistance_30": 0.4, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-16000", "sum__train/total_flos": 8.163835181398426e+16, "sum__pred/test_editDistance_39": 0.8, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_7": 0.9901, "sum__pred/valid_editDistance_16": 0.2604, "sum__pred/valid_editDistance_17": 0, "sum__pred/test_samples_per_second": 11.204, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__train/recall": 1, "sum__pred/test_acc_35": 0, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_a5a08efd705fe6d3e2eb.table.json", "sum__evaluated_acc/valid/table#size": 1472322, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "a5a08efd705fe6d3e2eba5cf43788d43893cc4710a5792e1cb95d575d9d8c2e1", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_950daacb7675f9db72cc.table.json", "sum__evaluated_acc/valid/plot_table#size": 345, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "950daacb7675f9db72cc505f4f5ca695ef0d82bc9cb5f44648cd1cbbed9e6a3c", "sum___timestamp": 1679039767, "sum__pred/valid_acc_7": 0.9901, "sum__train/train_loss": 0.0705771905003814, "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "3bb512730d5f85142afdcc99af42280dc765932750e7026f1a3e02a28a024fee", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_3bb512730d5f85142afd.table.json", "sum__evaluated_acc/test/table#size": 16793017, "sum__evaluated_acc/test/table#_type": "table-file", "sum__eval/f1": 0.5855, "sum__pred/test_editDistance_23": 0.2, "sum__pred/test_editDistance_overall": 0.42, "sum__pred/valid_f1": 0.5855, "sum__pred/valid_acc_13": 0.9897, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_5": 0.8174, "sum__pred/valid_editDistance_12": 0.2358, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__pred/test_acc_33": 0, "sum__pred/test_seq_acc": 0, "sum__pred/valid_acc_overall": 0.9963, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_editDistance_19": 0.2433, "sum__pred/valid_acc_9": 0.9975, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_editDistance_13": 1.0336, "sum__pred/valid_editDistance_18": 0.2695, "sum__pred/valid_samples_per_second": 100.098, "sum__pred/test_acc_30": 0, "sum__pred/test_editDistance_35": 0.2, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_editDistance_21": 0, "sum__pred/test_acc": 0.2526, "sum__pred/test_acc_22": 0, "sum__pred/test_acc_36": 0, "sum__pred/valid_acc_2": 0.9976, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_11": 0.9951, "sum__pred/valid_precision": 0.4139, "sum__pred/test_editDistance_40": 0.4, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__eval/precision": 0.4139, "sum__num_total_params": 150510720, "sum__pred/valid_acc_4": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-16000", "sum__pred/test_editDistance_37": 0.6, "sum__pred/valid_editDistance_15": 0.2755, "sum__pred/test_acc_37": 0, "sum__auto_computed_batch_size": 64, "sum__pred/valid_acc": 0.9335, "sum__pred/valid_acc_16": 0.9974, "sum__pred/valid_editDistance_11": 0.4878, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_editDistance_33": 0.6, "sum__pred/test_f1": 0.2369, "sum__pred/test_acc_24": 0, "sum__pred/test_acc_29": 0, "sum__train/train_runtime": 11986.6088, "sum__computed_num_process": 1, "sum__eval/samples_per_second": 102.5, "sum__pred/test_editDistance_24": 0.6, "sum__pred/valid_loss": 4.269812052370981e-05, "sum__pred/test_acc_39": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_precision": 0.1354, "sum__pred/test_editDistance_32": 0.2, "sum___wandb#runtime": 13150, "sum__train/acc": 0.2731, "sum__train/loss": 0.0001, "sum__pred/test_acc_23": 0, "sum__pred/test_acc_34": 0, "sum__train/train_samples_per_second": 213.572, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 86747, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185_agg_234054", "created_at": "2023-03-17T11:39:23", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___wandb#runtime": 506, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum___timestamp": 1679051953, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185_agg_146317", "created_at": "2023-03-17T11:39:10", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum___wandb#runtime": 505, "sum___runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___step": 8, "sum___timestamp": 1679052466}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185__146317", "created_at": "2023-03-17T11:38:38", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/loss": 3.0065862119954545e-06, "sum__pred/test_acc_31": 0.87, "sum__pred/test_editDistance_24": 0.6, "sum__auto_computed_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__pred/valid_acc_9": 0.9922, "sum__pred/valid_runtime": 93.2346, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_11": 0.7614, "sum__pred/valid_editDistance_18": 0.4843, "sum__pred/valid_loss": 1.574316411279142e-05, "sum__pred/test_acc_24": 0.992, "sum__pred/valid_acc_17": 0.9975, "sum__pred/test_editDistance_23": 0.2, "sum__pred/test_editDistance_29": 0.8, "sum___wandb#runtime": 12904, "sum__pred/test_acc_25": 1, "sum__pred/valid_acc_6": 1, "sum__eval/runtime": 75.3534, "sum__pred/test_acc_33": 0.698, "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_6": 0, "sum__pred/test_acc_30": 0.916, "sum__pred/valid_acc_4": 1, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__pred/valid_editDistance_16": 0.5435, "sum__pred/test_acc_28": 0.978, "sum__pred/test_runtime": 202.8398, "sum__pred/valid_acc_11": 0.9924, "sum__train/gen_max_length": 256, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__train/train_steps_per_second": 3.224, "sum__train/train_loss": 0.08414407733101979, "sum__num_train_samples": 100000, "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_precision": 0.4135, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__pred/test_editDistance_32": 0.2, "sum__pred/test_editDistance_36": 0.4, "sum__pred/test_acc_23": 0.998, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_26": 0.4, "sum__pred/test_acc_40": 0.194, "sum__pred/valid_recall": 1, "sum__pred/test_samples_per_second": 49.3, "sum___runtime": 12904, "sum__pred/test_f1": 0.6264, "sum__pred/test_acc_26": 0.996, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_14": 0.2488, "sum__pred/test_acc_36": 0.446, "sum__pred/test_acc_37": 0.388, "sum__pred/test_acc_39": 0.224, "sum__train/total_flos": 8.164318003155763e+16, "sum__pred/valid_acc_19": 0.9974, "sum__pred/test_editDistance_39": 0.8, "sum__pred/test_acc_34": 0.622, "sum__pred/valid_acc_7": 0.9903, "sum__pred/valid_acc_15": 0.9948, "sum__train/train_runtime": 12407.1079, "sum__pred/test_editDistance_35": 0.2, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__auto_computed_batch_size_predict": 32, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum___timestamp": 1679051095, "sum__eval/recall": 1, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_37": 0.6, "sum__pred/valid_editDistance_8": 0.2695, "sum__pred/valid_editDistance_10": 0.2618, "sum__pred/valid_steps_per_second": 2.521, "sum__pred/valid_editDistance_15": 0.5249, "sum__pred/test_editDistance_33": 0.6, "sum__pred/test_recall": 0.9919, "sum__pred/valid_acc_8": 0.9973, "sum__computed_num_process": 1, "sum__evaluated_acc/test/table#size": 4999711, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "3d8567a957f3666e4d2db411e8e127743a59894756a2ce430deb425d920805a2", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_3d8567a957f3666e4d2d.table.json", "sum__pred/test_editDistance_27": 1, "sum__pred/test_steps_per_second": 1.543, "sum__train/epoch": 25.59, "sum__eval/precision": 0.4135, "sum__pred/test_loss": 0.02808966301381588, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_editDistance_4": 0, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_2aeaecdd9a75872ec200.table.json", "sum__evaluated_acc/valid/plot_table#size": 345, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "2aeaecdd9a75872ec20052bf9a4905691826101c1947c61cdd4a6262d4f11ca9", "sum__train/acc": 0.2748, "sum__pred/test_acc_27": 0.98, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_acc_18": 0.9952, "sum__eval/steps_per_second": 3.119, "sum__pred/test_editDistance_overall": 0.42, "sum__pred/valid_acc_overall": 0.9959, "sum__pred/test_seq_acc": 0.7452, "sum__pred/valid_editDistance_17": 0.2525, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_editDistance_19": 0.2639, "sum__pred/valid_f1": 0.5851, "sum__pred/valid_acc": 0.9338, "sum__train/precision": 0.2748, "sum__pred/valid_acc_13": 0.9875, "sum__pred/valid_acc_20": 1, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_editDistance_7": 0.9709, "sum__train/train_samples_per_second": 206.333, "sum__train/recall": 1, "sum__auto_computed_grad_acc_steps": 1, "sum__eval/acc": 0.9338, "sum__pred/valid_acc_2": 1, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_5c3ca69985015b4c7cf8.table.json", "sum__evaluated_acc/valid/table#size": 1461705, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "5c3ca69985015b4c7cf8fe882f45c3852589c7e47d5dbdd757d241121af1cbf9", "sum__pred/valid_editDistance_3": 0.2545, "sum__pred/valid_editDistance_9": 0.7792, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__eval/f1": 0.5851, "sum__train/f1": 0.4311, "sum__pred/test_num_samples": 10000, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_30": 0.4, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_editDistance_12": 0.7335, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_3dde454a66d638cac47f.table.json", "sum__evaluated_acc/test/plot_table#size": 355, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "3dde454a66d638cac47fe8d77571fb5c812e5d9f5481299b705882912abaf786", "sum__pred/valid_editDistance_overall": 0.4137, "sum__computed_per_device_train_batch_size": 64, "sum__eval/seq_acc": 1, "sum__pred/test_acc": 0.8554, "sum__pred/test_acc_35": 0.528, "sum__pred/valid_acc_3": 0.9975, "sum__pred/valid_acc_12": 0.9927, "sum__pred/test_acc_overall": 0.7423, "sum__pred/test_editDistance_34": 0, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__pred/test_precision": 0.4578, "sum__pred/valid_editDistance_5": 0.2632, "sum__pred/valid_samples_per_second": 80.378, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_217a1aee582487c2e8b1.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8355, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "217a1aee582487c2e8b1916b2e67ad3eb294bdc16b2f36c9b8c283b2fc73a1f4", "sum__train/seq_acc": 1, "sum__pred/test_acc_32": 0.794, "sum__pred/valid_acc_16": 0.9946, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_20": 0, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 84299, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__train/loss": 0.0002, "sum__pred/test_acc_38": 0.278, "sum__pred/test_editDistance_22": 0.2, "sum___step": 4146, "sum__pred/test_acc_29": 0.946, "sum__train/global_step": 0, "sum__eval/samples_per_second": 99.451, "sum__pred/test_editDistance_38": 0.4, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_271629a72a0f17f2c558.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 346, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "271629a72a0f17f2c5582097414376abbcb402fe0966e0ec3298be0a6748c30e", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__num_total_params": 137927808, "sum__pred/test_acc_21": 1, "sum__pred/test_acc_22": 0.998, "sum__pred/valid_acc_5": 0.9974, "sum__pred/test_editDistance_40": 0.4, "sum__pred/valid_editDistance_13": 1.2531}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185_2_146317", "created_at": "2023-03-17T11:38:22", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 29, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum___wandb#runtime": 88, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__computed_per_device_train_batch_size": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___timestamp": 1679051322, "sum__computed_num_process": 1, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185_agg_256788", "created_at": "2023-03-17T11:38:08", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 527, "sum___timestamp": 1679051417, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___step": 8, "sum___runtime": 30, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185_2_234054", "created_at": "2023-03-17T11:37:52", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum___wandb#runtime": 88, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___runtime": 30, "sum___timestamp": 1679051227, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185_2_256788", "created_at": "2023-03-17T11:37:37", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___runtime": 29, "sum___timestamp": 1679051132, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___step": 8, "sum___wandb#runtime": 87, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185__256788", "created_at": "2023-03-17T11:37:05", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/loss": 3.078909458054113e-06, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__auto_computed_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum___step": 4146, "sum___runtime": 12567, "sum__pred/valid_acc_19": 0.9973, "sum__pred/test_editDistance_30": 0.4, "sum__pred/test_steps_per_second": 1.624, "sum__pred/test_acc_35": 0.572, "sum__pred/valid_steps_per_second": 2.676, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__pred/test_acc_39": 0.208, "sum__pred/valid_acc_6": 0.9975, "sum__pred/test_seq_acc": 0.742, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_08a49f369327d66a504f.table.json", "sum__evaluated_acc/valid/table#size": 1462115, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "08a49f369327d66a504f24fdb2f5952f15803e60be14102e6848c1c35366dbce", "sum__pred/test_editDistance_40": 0.4, "sum__pred/valid_editDistance_overall": 0.3603, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "9729733d4bdecf6d675a8b55832072710812f7eea33a50ccc3b5ab4834ddd66a", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_9729733d4bdecf6d675a.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 342, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__pred/valid_acc": 0.9337, "sum__pred/test_editDistance_23": 0.2, "sum__pred/test_editDistance_32": 0.2, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_46debd9781b50cd4c303.table.json", "sum__evaluated_acc/valid/plot_table#size": 344, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "46debd9781b50cd4c303d34ade949c81e5f63b723f28c85203ec2b2856ecc1dd", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__num_total_params": 137927808, "sum__pred/valid_acc_3": 0.9975, "sum__num_train_samples": 100000, "sum__pred/valid_acc_13": 0.9952, "sum__pred/valid_runtime": 87.8129, "sum__train/gen_max_length": 256, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__train/train_steps_per_second": 3.315, "sum__pred/valid_acc_15": 1, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_f1": 0.5852, "sum__train/train_loss": 0.08365652634542202, "sum__computed_num_process": 1, "sum__pred/test_editDistance_22": 0.2, "sum__pred/test_editDistance_38": 0.4, "sum__pred/test_editDistance_39": 0.8, "sum__pred/valid_editDistance_3": 0.2532, "sum__pred/valid_acc_5": 0.9974, "sum__pred/valid_acc_7": 0.9922, "sum__pred/test_editDistance_34": 0, "sum__pred/test_editDistance_36": 0.4, "sum__eval/f1": 0.5852, "sum__pred/test_acc_22": 0.998, "sum__pred/valid_acc_10": 0.9894, "sum__pred/valid_recall": 1, "sum__pred/valid_editDistance_18": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_editDistance_6": 0.2475, "sum__pred/test_editDistance_overall": 0.42, "sum__eval/acc": 0.9337, "sum__train/epoch": 25.59, "sum__pred/test_acc_32": 0.788, "sum__eval/samples_per_second": 104.234, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_editDistance_5": 0.2611, "sum__pred/test_loss": 0.03258711099624634, "sum__pred/test_acc_36": 0.47, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_4": 0.2646, "sum__pred/valid_editDistance_11": 0.7143, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 91606, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__pred/valid_acc_11": 0.9929, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__pred/test_f1": 0.6264, "sum__eval/precision": 0.4136, "sum__pred/test_acc_overall": 0.7393, "sum__auto_computed_eval_batch_size": 32, "sum__train/acc": 0.2632, "sum__pred/valid_acc_12": 0.9974, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_24": 0.6, "sum__pred/test_samples_per_second": 51.879, "sum__train/precision": 0.2632, "sum__pred/test_acc_26": 0.986, "sum__pred/test_acc_40": 0.112, "sum__pred/test_num_samples": 10000, "sum__auto_computed_grad_acc_steps": 1, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "bc7ba92e5a8121fac6f65653729e15a2dde71a24f2dc554c9970ed16081c4ca2", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_bc7ba92e5a8121fac6f6.table.json", "sum__evaluated_acc/test/plot_table#size": 353, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__train/train_samples_per_second": 212.17, "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__pred/test_acc_29": 0.926, "sum__pred/test_runtime": 192.7562, "sum__pred/test_editDistance_29": 0.8, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "02418cece8f63f9c018afec24472079a304f9a31eb9eafbc0c58a618c0491efc", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_02418cece8f63f9c018a.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8391, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__pred/valid_acc_8": 0.9973, "sum__eval/steps_per_second": 3.269, "sum__pred/test_editDistance_28": 0.6, "sum__pred/test_editDistance_37": 0.6, "sum__pred/valid_editDistance_2": 0, "sum__pred/test_acc_25": 0.994, "sum__pred/test_acc_27": 0.98, "sum__pred/test_acc_28": 0.982, "sum__pred/test_acc_38": 0.3, "sum__pred/valid_acc_20": 0.9973, "sum__pred/valid_acc_overall": 0.9964, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__train/loss": 0.0004, "sum__pred/test_acc_24": 0.992, "sum__pred/valid_editDistance_7": 0.7772, "sum__pred/valid_editDistance_8": 0.2688, "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__train/train_runtime": 12065.8017, "sum__num_trainable_params": 109607040, "sum__pred/test_acc": 0.8554, "sum__pred/test_recall": 0.9918, "sum__pred/test_editDistance_25": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___timestamp": 1679025451, "sum__eval/runtime": 71.8957, "sum__computed_per_device_eval_batch_size": 32, "sum__eval/recall": 1, "sum__pred/test_acc_21": 1, "sum__pred/test_acc_37": 0.388, "sum__pred/valid_precision": 0.4136, "sum__train/recall": 1, "sum__pred/test_acc_34": 0.646, "sum__train/total_flos": 8.163935225546342e+16, "sum__pred/valid_num_samples": 7494, "sum__train/f1": 0.4168, "sum__train/seq_acc": 1, "sum__pred/valid_acc_18": 1, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_8b0f9b02d5dedebc7528.table.json", "sum__evaluated_acc/test/table#size": 4999863, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "8b0f9b02d5dedebc75288524bafb2c5e1d7b46006b1da94bcd52a0b5375b4bbc", "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_16": 0.2564, "sum__eval/seq_acc": 1, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_4": 0.9974, "sum__pred/valid_acc_9": 0.9898, "sum__pred/valid_acc_14": 0.995, "sum__pred/test_editDistance_26": 0.4, "sum__pred/test_editDistance_35": 0.2, "sum__pred/valid_editDistance_10": 1.0582, "sum__pred/valid_editDistance_20": 0.271, "sum__pred/test_acc_31": 0.82, "sum__pred/valid_acc_16": 0.9974, "sum__pred/test_precision": 0.4577, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__pred/test_editDistance_33": 0.6, "sum__pred/valid_editDistance_13": 0.4751, "sum__pred/valid_editDistance_14": 0.5, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 12567, "sum__pred/test_acc_30": 0.93, "sum__pred/test_acc_33": 0.698, "sum__pred/test_editDistance_27": 1, "sum__pred/valid_editDistance_9": 1.0204, "sum__pred/valid_samples_per_second": 85.341, "sum__pred/valid_loss": 1.8758155420073308e-05, "sum__pred/valid_editDistance_15": 0, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_19": 0.2667, "sum__pred/test_acc_23": 0.996, "sum__train/global_step": 0, "sum__pred/valid_editDistance_12": 0.2564, "sum__auto_computed_batch_size_predict": 32}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185__234054", "created_at": "2023-03-17T11:36:31", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_12": 0.9976, "sum__pred/test_editDistance_36": 0.4, "sum__pred/valid_editDistance_10": 1.0499, "sum__pred/valid_editDistance_17": 0, "sum__train/seq_acc": 1, "sum__pred/valid_acc_2": 0.9976, "sum__pred/test_editDistance_37": 0.6, "sum__pred/valid_editDistance_19": 0.2433, "sum__pred/valid_editDistance_20": 0.2463, "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__pred/valid_f1": 0.5855, "sum__pred/test_acc_30": 0.976, "sum__train/total_flos": 8.163835181398426e+16, "sum__num_train_samples": 100000, "sum__pred/valid_acc_20": 0.9975, "sum__pred/test_editDistance_overall": 0.42, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__pred/test_acc_29": 0.98, "sum__eval/runtime": 82.7105, "sum__pred/test_acc_21": 1, "sum__pred/test_acc_38": 0.486, "sum__pred/test_runtime": 201.735, "sum__eval/f1": 0.5855, "sum___timestamp": 1679038182, "sum__pred/valid_precision": 0.4139, "sum__pred/test_editDistance_32": 0.2, "sum___step": 4146, "sum__eval/steps_per_second": 2.841, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__pred/valid_editDistance_12": 0.2358, "sum__pred/valid_editDistance_13": 1.0336, "sum__pred/test_samples_per_second": 49.57, "sum__pred/test_acc_40": 0.33, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 86747, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__evaluated_acc/valid/during_training_table#size": 8349, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "2096231afc299a32ad35f4cac4cc1b06b548f080f117d155fd36d6ff9e636670", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_2096231afc299a32ad35.table.json", "sum__pred/valid_acc_8": 0.9946, "sum__pred/valid_acc_19": 0.9976, "sum__pred/valid_acc_7": 0.9901, "sum__num_total_params": 137927808, "sum__pred/valid_acc_16": 0.9974, "sum__evaluated_acc/test/plot_table#sha256": "b7fbe2f6e3a20f7fbe6adc15dc09e15914371cb290a3b96de55092d54f5f3a54", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_b7fbe2f6e3a20f7fbe6a.table.json", "sum__evaluated_acc/test/plot_table#size": 354, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___runtime": 12723, "sum__pred/test_acc_32": 0.926, "sum__pred/test_editDistance_25": 0, "sum__pred/test_acc_24": 0.994, "sum__pred/test_acc_28": 0.992, "sum__pred/test_acc_34": 0.802, "sum__train/train_runtime": 12251.2637, "sum__computed_num_process": 1, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_steps_per_second": 3.081, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__pred/test_acc_22": 0.998, "sum__pred/test_acc_23": 0.996, "sum__pred/test_editDistance_35": 0.2, "sum__pred/valid_editDistance_16": 0.2604, "sum__eval/seq_acc": 1, "sum__num_non_trainable_params": 28320768, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "a5a08efd705fe6d3e2eba5cf43788d43893cc4710a5792e1cb95d575d9d8c2e1", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_a5a08efd705fe6d3e2eb.table.json", "sum__evaluated_acc/valid/table#size": 1472322, "sum__pred/test_editDistance_39": 0.8, "sum__train/train_samples_per_second": 208.958, "sum__pred/valid_num_samples": 7494, "sum__pred/test_acc_39": 0.41, "sum__pred/valid_acc_18": 0.9973, "sum__pred/test_editDistance_40": 0.4, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc_36": 0.644, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__pred/test_steps_per_second": 1.552, "sum__pred/test_recall": 0.9947, "sum__pred/valid_editDistance_18": 0.2695, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_editDistance_14": 0.2525, "sum__pred/valid_acc": 0.9335, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_5": 0.8174, "sum__pred/valid_editDistance_9": 0.2481, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_2828c4e7c52ffff852b8.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 345, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "2828c4e7c52ffff852b88e07400b4a1e099d111eb8e295e0be961b68380e9cc6", "sum__pred/test_acc": 0.8561, "sum__pred/valid_loss": 2.222294278908521e-05, "sum__pred/test_acc_31": 0.95, "sum__pred/test_acc_37": 0.56, "sum__pred/test_f1": 0.6288, "sum__pred/valid_acc_11": 0.9951, "sum__train/gen_max_length": 256, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_30": 0.4, "sum__pred/test_editDistance_31": 0.6, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__pred/test_loss": 0.014769346453249454, "sum__pred/test_acc_33": 0.882, "sum__pred/valid_acc_4": 1, "sum__train/learning_rate": 1e-07, "sum__train/recall": 1, "sum__pred/valid_acc_6": 1, "sum__pred/test_editDistance_24": 0.6, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "950daacb7675f9db72cc505f4f5ca695ef0d82bc9cb5f44648cd1cbbed9e6a3c", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_950daacb7675f9db72cc.table.json", "sum__evaluated_acc/valid/plot_table#size": 345, "sum__train/loss": 0.0003, "sum__pred/test_editDistance_29": 0.8, "sum__pred/test_editDistance_38": 0.4, "sum__pred/valid_editDistance_7": 0.9901, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__train/epoch": 25.59, "sum__pred/valid_acc_overall": 0.9963, "sum__num_trainable_params": 109607040, "sum__pred/valid_acc_15": 0.9972, "sum__pred/test_acc_overall": 0.8321, "sum__pred/valid_editDistance_11": 0.4878, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_seq_acc": 0.8355, "sum__pred/test_editDistance_26": 0.4, "sum__pred/valid_editDistance_overall": 0.3736, "sum__pred/test_acc_25": 0.994, "sum__pred/valid_runtime": 76.2793, "sum__eval/samples_per_second": 90.605, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_2": 0.241, "sum__pred/valid_editDistance_15": 0.2755, "sum__train/f1": 0.429, "sum__pred/test_acc_27": 0.988, "sum__pred/test_acc_35": 0.738, "sum__pred/valid_acc_5": 0.9918, "sum__pred/test_editDistance_22": 0.2, "sum__pred/test_editDistance_27": 1, "sum__pred/test_editDistance_33": 0.6, "sum__pred/valid_editDistance_4": 0, "sum__train/precision": 0.2731, "sum__auto_computed_batch_size_predict": 32, "sum__train/train_steps_per_second": 3.265, "sum__pred/valid_acc_17": 1, "sum__pred/valid_recall": 1, "sum__pred/test_precision": 0.4597, "sum__computed_per_device_train_batch_size": 64, "sum__train/train_loss": 0.08366908486103639, "sum__eval/acc": 0.9335, "sum__pred/valid_acc_3": 1, "sum__train/global_step": 0, "sum___wandb#runtime": 12723, "sum__pred/test_acc_26": 0.996, "sum__pred/valid_acc_13": 0.9897, "sum__pred/valid_acc_14": 0.9975, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_editDistance_8": 0.5405, "sum__pred/valid_samples_per_second": 98.244, "sum__train/acc": 0.2731, "sum__eval/recall": 1, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_79415283e74ee8e65649.table.json", "sum__evaluated_acc/test/table#size": 4991631, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "79415283e74ee8e656498c6b0890388323ba4eaaecb719b2f397532e09aa4ac6", "sum__pred/test_editDistance_21": 0, "sum__pred/test_editDistance_23": 0.2, "sum__pred/valid_editDistance_6": 0, "sum__eval/loss": 3.287683966846089e-06, "sum__pred/valid_acc_9": 0.9975, "sum__pred/valid_acc_10": 0.9895, "sum__pred/valid_seq_acc": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__eval/precision": 0.4139}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692_2_234054", "created_at": "2023-03-17T11:14:48", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 89, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-10000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___runtime": 30, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___timestamp": 1679049902, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692_agg_256788", "created_at": "2023-03-17T11:14:34", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 29, "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum___wandb#runtime": 479, "sum___timestamp": 1679050092, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-8000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692_agg_234054", "created_at": "2023-03-17T11:14:20", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679050578, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___step": 8, "sum___wandb#runtime": 482, "sum___runtime": 29, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-10000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692_2_256788", "created_at": "2023-03-17T11:14:07", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 88, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-8000", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 30, "sum___timestamp": 1679049806, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692__146317", "created_at": "2023-03-17T11:13:36", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__eval/seq_acc": 1, "sum__pred/valid_acc_12": 0.9927, "sum__pred/test_editDistance_21": 0, "sum__train/train_samples_per_second": 215.929, "sum__eval/acc": 0.9338, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_overall": 0.42, "sum__eval/f1": 0.5851, "sum__eval/runtime": 71.0362, "sum__pred/test_seq_acc": 0.2797, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_23": 0.2, "sum__pred/valid_editDistance_12": 0.7335, "sum__train/f1": 0.4311, "sum__train/train_runtime": 11855.7425, "sum__pred/valid_acc_18": 0.9952, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_8": 0.2695, "sum__num_total_params": 137927808, "sum__pred/test_acc_36": 0, "sum__pred/valid_editDistance_18": 0.4843, "sum__eval/recall": 1, "sum__pred/test_f1": 0.5684, "sum__pred/test_acc_32": 0, "sum__eval/steps_per_second": 3.308, "sum__pred/test_editDistance_40": 0.4, "sum__train/acc": 0.2748, "sum__pred/valid_editDistance_7": 0.9709, "sum__pred/test_acc_30": 0, "sum__pred/test_acc_39": 0, "sum__train/total_flos": 8.164318003155763e+16, "sum__train/gen_max_length": 256, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_33": 0.6, "sum__pred/test_editDistance_37": 0.6, "sum__train/train_steps_per_second": 3.374, "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__eval/loss": 2.972297806991264e-06, "sum__pred/test_acc_24": 0.982, "sum__pred/test_acc_38": 0, "sum__pred/test_recall": 0.8662, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "5c3ca69985015b4c7cf8fe882f45c3852589c7e47d5dbdd757d241121af1cbf9", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_5c3ca69985015b4c7cf8.table.json", "sum__evaluated_acc/valid/table#size": 1461705, "sum__train/loss": 0.0001, "sum__train/recall": 1, "sum__pred/test_loss": 1.277310490608215, "sum__pred/valid_acc_13": 0.9875, "sum__pred/test_editDistance_26": 0.4, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum___wandb#runtime": 12270, "sum__pred/valid_acc": 0.9338, "sum__pred/valid_acc_11": 0.9924, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__auto_computed_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 84299, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__pred/test_acc_25": 0.94, "sum__pred/test_acc_27": 0.062, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_f38bd61eb38222134996.table.json", "sum__evaluated_acc/test/table#size": 4715800, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "f38bd61eb38222134996ec1db193704fa0736d1a4dda6c30cca13a1e09297e04", "sum__pred/valid_editDistance_14": 0.2488, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum___step": 4146, "sum__eval/precision": 0.4135, "sum__pred/valid_acc_9": 0.9922, "sum__pred/valid_acc_17": 0.9975, "sum__pred/test_editDistance_32": 0.2, "sum__pred/valid_editDistance_13": 1.2531, "sum__pred/valid_editDistance_15": 0.5249, "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_271629a72a0f17f2c558.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 346, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "271629a72a0f17f2c5582097414376abbcb402fe0966e0ec3298be0a6748c30e", "sum__pred/test_acc_31": 0, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_27": 1, "sum___runtime": 12270, "sum__pred/valid_loss": 7.682071736780927e-05, "sum__pred/test_acc_23": 0.998, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_40": 0, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_38": 0.4, "sum__pred/valid_editDistance_3": 0.2545, "sum__pred/valid_samples_per_second": 104.868, "sum__pred/test_acc_28": 0, "sum__pred/valid_acc_5": 0.9974, "sum__pred/valid_acc_14": 0.9975, "sum__pred/test_editDistance_24": 0.6, "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_steps_per_second": 3.289, "sum__pred/test_acc_26": 0.6, "sum__pred/test_acc_37": 0, "sum__pred/valid_recall": 1, "sum__pred/test_precision": 0.423, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_11": 0.7614, "sum__pred/valid_editDistance_19": 0.2639, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__pred/valid_f1": 0.5851, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__pred/valid_editDistance_16": 0.5435, "sum__pred/valid_editDistance_17": 0.2525, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_editDistance_34": 0, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__pred/valid_acc_4": 1, "sum__num_trainable_params": 109607040, "sum__eval/samples_per_second": 105.496, "sum__pred/test_editDistance_28": 0.6, "sum__pred/test_editDistance_39": 0.8, "sum__pred/valid_editDistance_6": 0, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__pred/test_acc_21": 1, "sum__pred/test_acc_34": 0, "sum__auto_computed_grad_acc_steps": 1, "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "f78adba9d2a81d650522a7d3ac439bcd2f3b3d494edfea1d4c8998cc9246abcf", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_f78adba9d2a81d650522.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8353, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__pred/valid_acc_8": 0.9973, "sum__pred/valid_acc_16": 0.9946, "sum__pred/valid_acc_overall": 0.9959, "sum__pred/test_steps_per_second": 2.086, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_2aeaecdd9a75872ec200.table.json", "sum__evaluated_acc/valid/plot_table#size": 345, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "2aeaecdd9a75872ec20052bf9a4905691826101c1947c61cdd4a6262d4f11ca9", "sum__train/seq_acc": 1, "sum__train/precision": 0.2748, "sum__pred/test_acc_29": 0, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__pred/valid_editDistance_10": 0.2618, "sum__pred/test_samples_per_second": 66.649, "sum__pred/test_acc": 0.841, "sum__pred/valid_editDistance_20": 0, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__train/epoch": 25.59, "sum__pred/test_editDistance_29": 0.8, "sum__pred/test_editDistance_36": 0.4, "sum__pred/test_acc_22": 0.998, "sum__pred/valid_acc_7": 0.9903, "sum__train/learning_rate": 1e-07, "sum__computed_num_process": 1, "sum__pred/valid_precision": 0.4135, "sum__pred/test_editDistance_31": 0.6, "sum__pred/test_editDistance_35": 0.2, "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__pred/valid_acc_10": 0.9974, "sum__pred/valid_acc_20": 1, "sum__pred/valid_editDistance_5": 0.2632, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_b5d97cdc3e6fed2e3c0b.table.json", "sum__evaluated_acc/test/plot_table#size": 329, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "b5d97cdc3e6fed2e3c0b70c10c370776073ec858f58c7dc89524e421ed39a49b", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum___timestamp": 1679049768, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_overall": 0.279, "sum__pred/valid_editDistance_overall": 0.4137, "sum__auto_computed_batch_size_predict": 32, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_3": 0.9975, "sum__pred/valid_acc_6": 1, "sum__train/train_loss": 0.08195173827780236, "sum__pred/test_runtime": 150.0398, "sum__pred/valid_acc_19": 0.9974, "sum__train/global_step": 0, "sum__pred/test_editDistance_22": 0.2, "sum__pred/valid_acc_15": 0.9948, "sum__pred/valid_runtime": 71.461, "sum__pred/test_editDistance_30": 0.4, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_9": 0.7792}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692_2_146317", "created_at": "2023-03-17T11:13:22", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679049997, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___step": 8, "sum___runtime": 29, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___wandb#runtime": 87, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692__234054", "created_at": "2023-03-17T11:12:51", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__train/acc": 0.2731, "sum__pred/valid_acc": 0.9335, "sum__pred/test_seq_acc": 0.2661, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_10": 1.0499, "sum__train/loss": 0.0001, "sum__pred/test_acc_21": 1, "sum__pred/valid_acc_5": 0.9918, "sum__pred/test_editDistance_40": 0.4, "sum__pred/valid_editDistance_2": 0.241, "sum__eval/steps_per_second": 3.329, "sum__pred/test_editDistance_30": 0.4, "sum__pred/test_editDistance_36": 0.4, "sum__pred/test_acc_29": 0, "sum__pred/test_acc_overall": 0.2655, "sum__pred/test_editDistance_26": 0.4, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__pred/test_acc_28": 0.002, "sum__pred/test_editDistance_27": 1, "sum__pred/test_editDistance_33": 0.6, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 86747, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__pred/valid_acc_18": 0.9973, "sum__train/train_runtime": 11845.678, "sum__pred/test_editDistance_39": 0.8, "sum__pred/test_acc_26": 0.434, "sum__pred/valid_acc_2": 0.9976, "sum__pred/valid_acc_12": 0.9976, "sum__pred/valid_acc_13": 0.9897, "sum__pred/valid_acc_14": 0.9975, "sum__eval/runtime": 70.5863, "sum__pred/test_acc_27": 0.052, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_35": 0, "sum__pred/test_acc_36": 0, "sum__pred/test_editDistance_23": 0.2, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-10000", "sum__pred/valid_samples_per_second": 104.812, "sum__eval/loss": 2.9731927497778088e-06, "sum__pred/test_acc_22": 0.998, "sum__pred/valid_acc_15": 0.9972, "sum__pred/valid_recall": 1, "sum__pred/test_samples_per_second": 65.686, "sum__pred/valid_acc_10": 0.9895, "sum__num_trainable_params": 109607040, "sum__pred/valid_editDistance_15": 0.2755, "sum___step": 4146, "sum___wandb#runtime": 12262, "sum__pred/test_acc_37": 0, "sum__pred/valid_editDistance_7": 0.9901, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_31": 0.6, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__pred/valid_f1": 0.5855, "sum__pred/test_acc_23": 0.994, "sum__pred/test_acc_25": 0.852, "sum__pred/valid_acc_16": 0.9974, "sum__pred/valid_seq_acc": 1, "sum__eval/acc": 0.9335, "sum__pred/test_f1": 0.5719, "sum__pred/valid_precision": 0.4139, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-10000", "sum__pred/test_editDistance_32": 0.2, "sum__pred/valid_editDistance_4": 0, "sum__pred/valid_editDistance_8": 0.5405, "sum__pred/valid_editDistance_13": 1.0336, "sum___runtime": 12262, "sum__train/recall": 1, "sum__pred/test_acc_33": 0, "sum__num_train_samples": 100000, "sum__pred/valid_editDistance_3": 0, "sum__pred/test_editDistance_28": 0.6, "sum__pred/test_editDistance_29": 0.8, "sum__pred/valid_editDistance_20": 0.2463, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__pred/valid_acc_7": 0.9901, "sum__pred/test_editDistance_34": 0, "sum__pred/test_steps_per_second": 2.056, "sum__eval/recall": 1, "sum__pred/valid_loss": 9.438573033548892e-05, "sum__pred/valid_acc_17": 1, "sum__pred/test_editDistance_22": 0.2, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_4": 1, "sum__pred/test_editDistance_35": 0.2, "sum__pred/valid_editDistance_5": 0.8174, "sum__pred/valid_acc_overall": 0.9963, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_d7f1c36935f4951510f8.table.json", "sum__evaluated_acc/test/table#size": 4735564, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "d7f1c36935f4951510f848e499bbfe8e5e8f724341b0d6ca0546912f33b64842", "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_editDistance_19": 0.2433, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_editDistance_overall": 0.42, "sum__train/epoch": 25.59, "sum__num_total_params": 137927808, "sum__train/train_loss": 0.08033125262267422, "sum__pred/valid_editDistance_12": 0.2358, "sum__pred/valid_editDistance_16": 0.2604, "sum__pred/test_acc": 0.8419, "sum__pred/test_acc_31": 0, "sum__pred/test_editDistance_21": 0, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__pred/test_recall": 0.8738, "sum__pred/valid_acc_20": 0.9975, "sum__pred/valid_editDistance_9": 0.2481, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_9": 0.9975, "sum__computed_num_process": 1, "sum__pred/test_editDistance_37": 0.6, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__pred/valid_steps_per_second": 3.287, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__train/precision": 0.2731, "sum__pred/test_acc_40": 0, "sum__pred/valid_acc_11": 0.9951, "sum__pred/valid_acc_19": 0.9976, "sum__pred/test_editDistance_24": 0.6, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_37a0ca4a06d9ba724676.table.json", "sum__evaluated_acc/test/plot_table#size": 335, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "37a0ca4a06d9ba724676edd68fed84471c114039dca90c20e785630097d68289", "sum__auto_computed_batch_size_predict": 32, "sum__train/f1": 0.429, "sum__pred/test_loss": 1.224350094795227, "sum__pred/valid_acc_8": 0.9946, "sum__pred/test_editDistance_38": 0.4, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_24": 0.978, "sum__pred/test_acc_39": 0, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_18": 0.2695, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_9758a86cd1e6250a265e.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8347, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "9758a86cd1e6250a265e02ffe00b224eb942a576a16acb4f596a38866df36cda", "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-10000", "sum__pred/valid_editDistance_14": 0.2525, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-10000", "sum__eval/seq_acc": 1, "sum__train/global_step": 0, "sum__pred/test_precision": 0.425, "sum__train/gen_max_length": 256, "sum__pred/test_num_samples": 10000, "sum__computed_per_device_train_batch_size": 64, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "2828c4e7c52ffff852b88e07400b4a1e099d111eb8e295e0be961b68380e9cc6", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_2828c4e7c52ffff852b8.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 345, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__eval/f1": 0.5855, "sum__pred/valid_runtime": 71.4996, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "a5a08efd705fe6d3e2eba5cf43788d43893cc4710a5792e1cb95d575d9d8c2e1", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_a5a08efd705fe6d3e2eb.table.json", "sum__evaluated_acc/valid/table#size": 1472322, "sum__train/seq_acc": 1, "sum__eval/precision": 0.4139, "sum__train/total_flos": 8.163835181398426e+16, "sum__pred/test_runtime": 152.2395, "sum___timestamp": 1679037489, "sum__pred/valid_acc_6": 1, "sum__eval/samples_per_second": 106.168, "sum__num_non_trainable_params": 28320768, "sum__evaluated_acc/valid/plot_table#size": 345, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "950daacb7675f9db72cc505f4f5ca695ef0d82bc9cb5f44648cd1cbbed9e6a3c", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_950daacb7675f9db72cc.table.json", "sum__pred/test_acc_38": 0, "sum__train/learning_rate": 1e-07, "sum__pred/valid_editDistance_11": 0.4878, "sum__train/train_steps_per_second": 3.377, "sum__train/train_samples_per_second": 216.113, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_editDistance_overall": 0.3736}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692_agg_146317", "created_at": "2023-03-17T11:12:37", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum___step": 8, "sum___wandb#runtime": 476, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___timestamp": 1679051067, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 29, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692__256788", "created_at": "2023-03-17T11:12:04", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/valid_acc_9": 0.9898, "sum__pred/test_acc_overall": 0.3234, "sum__pred/test_editDistance_34": 0, "sum__pred/test_acc_26": 0.88, "sum__pred/valid_acc_11": 0.9929, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_18": 0, "sum__train/global_step": 0, "sum__pred/test_editDistance_31": 0.6, "sum__pred/valid_editDistance_7": 0.7772, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_acc_14": 0.995, "sum__pred/valid_acc_18": 1, "sum__pred/valid_seq_acc": 1, "sum__train/acc": 0.2632, "sum__train/loss": 0.0001, "sum__pred/test_acc_28": 0.086, "sum__pred/valid_acc_5": 0.9974, "sum__train/train_loss": 0.07851193345079083, "sum__train/train_samples_per_second": 215.394, "sum__pred/test_acc_31": 0, "sum__train/total_flos": 8.163935225546342e+16, "sum__pred/test_editDistance_39": 0.8, "sum__computed_per_device_eval_batch_size": 32, "sum__train/precision": 0.2632, "sum__pred/test_editDistance_38": 0.4, "sum__pred/valid_editDistance_4": 0.2646, "sum__pred/valid_editDistance_20": 0.271, "sum__pred/test_editDistance_33": 0.6, "sum__pred/test_editDistance_37": 0.6, "sum__train/epoch": 25.59, "sum__pred/test_acc_37": 0, "sum__pred/valid_acc_8": 0.9973, "sum__num_trainable_params": 109607040, "sum__eval/steps_per_second": 3.339, "sum__pred/valid_editDistance_13": 0.4751, "sum__pred/valid_editDistance_15": 0, "sum__computed_per_device_train_batch_size": 64, "sum___step": 4146, "sum___timestamp": 1679025219, "sum__pred/valid_f1": 0.5852, "sum__pred/test_acc_39": 0, "sum__pred/test_editDistance_36": 0.4, "sum__eval/f1": 0.5852, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-8000", "sum__pred/test_editDistance_35": 0.2, "sum__pred/valid_editDistance_6": 0.2475, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum___wandb#runtime": 12346, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-8000", "sum__pred/test_editDistance_29": 0.8, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "46debd9781b50cd4c303d34ade949c81e5f63b723f28c85203ec2b2856ecc1dd", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_46debd9781b50cd4c303.table.json", "sum__evaluated_acc/valid/plot_table#size": 344, "sum__pred/test_recall": 0.8886, "sum__pred/test_seq_acc": 0.3244, "sum__pred/valid_acc_13": 0.9952, "sum__num_non_trainable_params": 28320768, "sum__pred/valid_editDistance_19": 0.2667, "sum__pred/test_acc_23": 0.996, "sum__pred/test_acc_40": 0, "sum__pred/test_samples_per_second": 64.46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__eval/loss": 3.132804295091774e-06, "sum__eval/runtime": 70.3809, "sum__pred/valid_runtime": 71.3634, "sum__pred/valid_acc_overall": 0.9964, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "6b70763a5af955c44ea531ae851c2cb499ead125451ef9cc49fe477858afd6ab", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_6b70763a5af955c44ea5.table.json", "sum__evaluated_acc/test/plot_table#size": 333, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__eval/seq_acc": 1, "sum__pred/test_acc_29": 0, "sum__pred/valid_acc_2": 1, "sum__train/train_runtime": 11885.2134, "sum__train/gen_max_length": 256, "sum__pred/test_acc_38": 0, "sum__pred/valid_acc_10": 0.9894, "sum__pred/valid_acc_16": 0.9974, "sum__pred/test_f1": 0.5791, "sum__pred/valid_loss": 0.0001932796585606411, "sum__num_total_params": 137927808, "sum__pred/test_acc_22": 0.998, "sum__pred/test_acc_25": 0.98, "sum__pred/valid_acc_20": 0.9973, "sum__pred/test_num_samples": 10000, "sum__eval/samples_per_second": 106.478, "sum__pred/test_editDistance_22": 0.2, "sum__eval/acc": 0.9337, "sum__pred/valid_editDistance_11": 0.7143, "sum__pred/test_editDistance_overall": 0.42, "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__pred/valid_acc_3": 0.9975, "sum__pred/test_editDistance_24": 0.6, "sum__pred/valid_editDistance_17": 0, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_24": 0.99, "sum__pred/valid_recall": 1, "sum__computed_num_process": 1, "sum__evaluated_acc/valid/table#size": 1462115, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "08a49f369327d66a504f24fdb2f5952f15803e60be14102e6848c1c35366dbce", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_08a49f369327d66a504f.table.json", "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-8000", "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_30": 0.4, "sum__pred/test_acc_32": 0, "sum__pred/test_acc_33": 0, "sum__pred/test_acc_34": 0, "sum__pred/valid_acc_12": 0.9974, "sum__pred/valid_acc_19": 0.9973, "sum__train/f1": 0.4168, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_26": 0.4, "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_9729733d4bdecf6d675a.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 342, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "9729733d4bdecf6d675a8b55832072710812f7eea33a50ccc3b5ab4834ddd66a", "sum__train/recall": 1, "sum__pred/valid_acc": 0.9337, "sum__auto_computed_batch_size": 64, "sum__pred/test_editDistance_27": 1, "sum__pred/valid_editDistance_overall": 0.3603, "sum__pred/valid_acc_17": 1, "sum__pred/valid_precision": 0.4136, "sum__pred/test_editDistance_28": 0.6, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__eval/recall": 1, "sum__pred/test_acc_21": 0.998, "sum__pred/valid_acc_6": 0.9975, "sum__pred/valid_editDistance_3": 0.2532, "sum__auto_computed_grad_acc_steps": 1, "sum__pred/valid_editDistance_16": 0.2564, "sum___runtime": 12346, "sum__pred/valid_acc_4": 0.9974, "sum__pred/valid_acc_15": 1, "sum__pred/valid_editDistance_8": 0.2688, "sum__pred/valid_editDistance_14": 0.5, "sum__pred/test_acc_27": 0.54, "sum__pred/test_acc_36": 0, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_10ec042ed281ba0c68f3.table.json", "sum__evaluated_acc/test/table#size": 4766476, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "10ec042ed281ba0c68f3fe7bfaee4704c5579f072b209e8ca24ae0dda25e03ec", "sum__pred/valid_editDistance_2": 0, "sum__pred/valid_steps_per_second": 3.293, "sum__pred/test_editDistance_40": 0.4, "sum__pred/valid_editDistance_5": 0.2611, "sum__train/seq_acc": 1, "sum__eval/precision": 0.4136, "sum__pred/test_acc_35": 0, "sum__pred/test_editDistance_23": 0.2, "sum__pred/test_editDistance_25": 0, "sum__pred/valid_editDistance_12": 0.2564, "sum__num_train_samples": 100000, "sum__pred/test_editDistance_32": 0.2, "sum__train/train_steps_per_second": 3.366, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_ba6bda55a3e47f875423.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8319, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "ba6bda55a3e47f87542387ebe8311049f2564b5e9dd99e59d2cf08c14584849c", "sum__pred/test_acc_30": 0, "sum__pred/valid_acc_7": 0.9922, "sum__pred/test_runtime": 155.1339, "sum__pred/test_precision": 0.4295, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-8000", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 91606, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__pred/test_loss": 0.8259823322296143, "sum__pred/valid_editDistance_9": 1.0204, "sum__pred/test_steps_per_second": 2.018, "sum__pred/valid_editDistance_10": 1.0582, "sum__pred/valid_samples_per_second": 105.012, "sum__pred/test_acc": 0.8437}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32_2_146317", "created_at": "2023-03-17T11:11:52", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___timestamp": 1679051089, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum___runtime": 30, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum___wandb#runtime": 81, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32_agg_234054", "created_at": "2023-03-17T11:11:38", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___wandb#runtime": 49, "sum___runtime": 29, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum___step": 8, "sum___timestamp": 1679051235, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32_2_234054", "created_at": "2023-03-17T11:11:24", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___wandb#runtime": 81, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___timestamp": 1679051001, "sum___runtime": 30, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32__146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32__146317", "created_at": "2023-03-17T11:10:52", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_samples_per_second": 49.959, "sum__pred/valid_editDistance_overall": 0.4137, "sum__pred/test_acc_23": 0.996, "sum__pred/test_acc_25": 1, "sum__pred/test_acc_32": 0.99, "sum__pred/valid_acc_4": 1, "sum__pred/test_seq_acc": 0.9877, "sum__pred/test_num_samples": 10000, "sum__train/epoch": 25.59, "sum__pred/test_acc_37": 0.964, "sum__pred/valid_acc_6": 1, "sum__pred/valid_recall": 1, "sum__pred/valid_runtime": 93.9531, "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_dd29c82b6cdf3f233fb7.table.json", "sum__evaluated_acc/test/plot_table#size": 355, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "dd29c82b6cdf3f233fb75ef5c22b9115c6d6cb39e8dbd2a4e8e9af13bd572c07", "sum__train/acc": 0.2748, "sum__pred/test_f1": 0.6328, "sum__pred/test_acc_33": 0.982, "sum__pred/valid_precision": 0.4135, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__ds_examples/ExperimentStage.PREDICTION#size": 84299, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_6c9a47a6e2765e78fac8.table.json", "sum___step": 4146, "sum__pred/test_acc_31": 0.986, "sum__pred/valid_editDistance_19": 0.2639, "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "2aeaecdd9a75872ec20052bf9a4905691826101c1947c61cdd4a6262d4f11ca9", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_2aeaecdd9a75872ec200.table.json", "sum__evaluated_acc/valid/plot_table#size": 345, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__pred/test_acc": 0.8573, "sum__train/seq_acc": 1, "sum__train/train_loss": 0.08420978605107521, "sum__pred/valid_acc_overall": 0.9959, "sum__pred/test_editDistance_26": 0.4, "sum__pred/valid_editDistance_4": 0, "sum__train/recall": 1, "sum__pred/test_acc_24": 0.994, "sum__pred/valid_acc_10": 0.9974, "sum__pred/test_editDistance_38": 0.4, "sum__pred/valid_editDistance_20": 0, "sum__pred/test_acc_35": 0.98, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__pred/valid_editDistance_8": 0.2695, "sum__pred/valid_acc_12": 0.9927, "sum__pred/valid_acc_16": 0.9946, "sum__train/global_step": 0, "sum__train/gen_max_length": 256, "sum__eval/steps_per_second": 3.083, "sum__pred/test_editDistance_37": 0.6, "sum__train/loss": 0.0002, "sum__pred/test_acc_26": 0.99, "sum__pred/test_acc_28": 0.992, "sum__pred/valid_editDistance_6": 0, "sum__pred/valid_steps_per_second": 2.501, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/valid_acc_19": 0.9974, "sum__evaluated_acc/test/table#sha256": "a0c5a7956e641a8ba311d7de87f290d2db7526f619de2e17d3b7adf91abfd095", "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_a0c5a7956e641a8ba311.table.json", "sum__evaluated_acc/test/table#size": 4976969, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__eval/seq_acc": 1, "sum__eval/precision": 0.4135, "sum__pred/test_loss": 0.00143615307752043, "sum__pred/valid_acc_3": 0.9975, "sum__pred/valid_seq_acc": 1, "sum__pred/test_editDistance_21": 0, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__pred/test_editDistance_overall": 0.42, "sum__pred/test_acc_40": 0.948, "sum__pred/valid_acc_11": 0.9924, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_32": 0.2, "sum__pred/test_editDistance_39": 0.8, "sum__pred/valid_editDistance_18": 0.4843, "sum___wandb#runtime": 12715, "sum__pred/test_acc_22": 0.998, "sum__pred/test_acc_39": 0.96, "sum__pred/valid_acc_18": 0.9952, "sum__pred/test_editDistance_36": 0.4, "sum__pred/test_editDistance_29": 0.8, "sum__eval/runtime": 76.2339, "sum__pred/test_acc_27": 0.988, "sum__eval/samples_per_second": 98.303, "sum__pred/test_editDistance_40": 0.4, "sum__eval/acc": 0.9338, "sum__pred/valid_acc_5": 0.9974, "sum__pred/test_acc_overall": 0.9835, "sum__pred/test_editDistance_23": 0.2, "sum__pred/valid_editDistance_2": 0, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__eval/f1": 0.5851, "sum__eval/loss": 3.379179815965472e-06, "sum__pred/valid_acc_7": 0.9903, "sum__pred/test_editDistance_25": 0, "sum__train/train_runtime": 12227.227, "sum__pred/valid_samples_per_second": 79.763, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_editDistance_35": 0.2, "sum__pred/valid_editDistance_5": 0.2632, "sum___timestamp": 1679050871, "sum__pred/test_acc_38": 0.968, "sum__pred/valid_acc_15": 0.9948, "sum__pred/valid_acc_20": 1, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "5c3ca69985015b4c7cf8fe882f45c3852589c7e47d5dbdd757d241121af1cbf9", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_5c3ca69985015b4c7cf8.table.json", "sum__evaluated_acc/valid/table#size": 1461705, "sum__pred/test_editDistance_22": 0.2, "sum__pred/valid_editDistance_12": 0.7335, "sum__pred/valid_f1": 0.5851, "sum__pred/valid_editDistance_3": 0.2545, "sum__pred/valid_editDistance_17": 0.2525, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__train/precision": 0.2748, "sum__pred/test_acc_30": 0.984, "sum__pred/test_acc_36": 0.972, "sum__num_train_samples": 100000, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__pred/valid_editDistance_14": 0.2488, "sum__pred/test_acc_34": 0.988, "sum__train/total_flos": 8.164318003155763e+16, "sum__pred/test_editDistance_34": 0, "sum___runtime": 12715, "sum__num_total_params": 137927808, "sum__pred/valid_acc_14": 0.9975, "sum__pred/valid_editDistance_9": 0.7792, "sum__pred/valid_editDistance_15": 0.5249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "271629a72a0f17f2c5582097414376abbcb402fe0966e0ec3298be0a6748c30e", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_271629a72a0f17f2c558.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 346, "sum__train/f1": 0.4311, "sum__pred/valid_acc_2": 1, "sum__pred/valid_acc_8": 0.9973, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_24": 0.6, "sum__pred/test_editDistance_31": 0.6, "sum__train/train_samples_per_second": 209.369, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_3b69cbebef249896e5a4.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8359, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "3b69cbebef249896e5a422b9db6b3e775fc6e36018c16a1d65acb82f1d3b674a", "sum__train/learning_rate": 1e-07, "sum__pred/test_editDistance_27": 1, "sum__pred/valid_editDistance_7": 0.9709, "sum__pred/valid_editDistance_11": 0.7614, "sum__auto_computed_grad_acc_steps": 1, "sum__train/train_steps_per_second": 3.271, "sum__pred/valid_acc_17": 0.9975, "sum__pred/test_precision": 0.463, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_30": 0.4, "sum__computed_per_device_train_batch_size": 64, "sum__pred/test_acc_29": 0.992, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_13": 1.2531, "sum__pred/valid_acc": 0.9338, "sum__pred/test_acc_21": 0.998, "sum__pred/valid_editDistance_10": 0.2618, "sum__pred/valid_loss": 2.1239877241896465e-05, "sum__pred/valid_acc_13": 0.9875, "sum__auto_computed_batch_size": 64, "sum__pred/test_steps_per_second": 1.564, "sum__pred/valid_editDistance_16": 0.5435, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__eval/recall": 1, "sum__pred/test_recall": 0.9993, "sum__pred/valid_acc_9": 0.9922, "sum__pred/test_runtime": 200.1646, "sum__pred/test_editDistance_33": 0.6, "sum__auto_computed_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32__234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32__234054", "created_at": "2023-03-17T11:10:22", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_27": 0.986, "sum__pred/valid_recall": 1, "sum__train/global_step": 0, "sum__pred/test_editDistance_27": 1, "sum__pred/valid_editDistance_8": 0.5405, "sum__pred/valid_editDistance_13": 1.0336, "sum__eval/loss": 3.595980388126918e-06, "sum__pred/valid_acc_10": 0.9895, "sum__pred/test_editDistance_overall": 0.42, "sum__eval/recall": 1, "sum__auto_computed_batch_size_predict": 32, "sum__pred/test_acc_overall": 0.9808, "sum__pred/test_acc_33": 0.98, "sum__pred/test_editDistance_24": 0.6, "sum___runtime": 12753, "sum__evaluated_acc/valid/plot_table#sha256": "950daacb7675f9db72cc505f4f5ca695ef0d82bc9cb5f44648cd1cbbed9e6a3c", "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_950daacb7675f9db72cc.table.json", "sum__evaluated_acc/valid/plot_table#size": 345, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__pred/valid_acc_16": 0.9974, "sum__pred/valid_acc_19": 0.9976, "sum__train/learning_rate": 1e-07, "sum__auto_computed_grad_acc_steps": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__train/total_flos": 8.163835181398426e+16, "sum__pred/test_acc_31": 0.99, "sum__pred/test_acc_36": 0.972, "sum__pred/valid_editDistance_6": 0, "sum__train/train_steps_per_second": 3.27, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__pred/test_acc_22": 0.996, "sum__train/precision": 0.2731, "sum__pred/valid_acc_14": 0.9975, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_34": 0, "sum__pred/valid_f1": 0.5855, "sum__pred/valid_editDistance_10": 1.0499, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__eval/samples_per_second": 97.856, "sum__auto_computed_batch_size": 64, "sum__pred/valid_acc_12": 0.9976, "sum__pred/valid_acc_3": 1, "sum__pred/valid_acc_20": 0.9975, "sum__pred/valid_editDistance_11": 0.4878, "sum___timestamp": 1679038147, "sum__pred/test_editDistance_23": 0.2, "sum__pred/valid_editDistance_2": 0.241, "sum__pred/test_acc_25": 0.994, "sum__pred/valid_acc_11": 0.9951, "sum__pred/valid_acc_15": 0.9972, "sum__pred/valid_acc_18": 0.9973, "sum__pred/valid_editDistance_12": 0.2358, "sum__num_train_samples": 100000, "sum__train/recall": 1, "sum__pred/valid_acc": 0.9335, "sum__pred/test_seq_acc": 0.985, "sum__pred/test_editDistance_28": 0.6, "sum__pred/test_editDistance_37": 0.6, "sum__pred/test_steps_per_second": 1.279, "sum__pred/valid_editDistance_19": 0.2433, "sum__train/loss": 0.0002, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__train/train_runtime": 12232.3877, "sum__pred/test_editDistance_22": 0.2, "sum__pred/test_editDistance_29": 0.8, "sum__pred/valid_editDistance_9": 0.2481, "sum__pred/valid_editDistance_15": 0.2755, "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 86747, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__train/train_loss": 0.08375119420849951, "sum__pred/test_acc_21": 1, "sum__pred/valid_acc_7": 0.9901, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__num_non_trainable_params": 28320768, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__pred/valid_loss": 4.352379619376734e-05, "sum__pred/test_acc_37": 0.952, "sum__pred/valid_acc_13": 0.9897, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_2996cad1166a8f8b6a17.table.json", "sum__evaluated_acc/test/table#size": 4978520, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "2996cad1166a8f8b6a1736124839368475fbd762564a9d2c9219f6e97293e32f", "sum__pred/valid_editDistance_18": 0.2695, "sum__pred/valid_steps_per_second": 3.068, "sum__eval/f1": 0.5855, "sum__eval/precision": 0.4139, "sum__pred/valid_editDistance_4": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__evaluated_acc/valid/editDistance_plot_table#size": 345, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "2828c4e7c52ffff852b88e07400b4a1e099d111eb8e295e0be961b68380e9cc6", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_2828c4e7c52ffff852b8.table.json", "sum___step": 4146, "sum__pred/test_f1": 0.6328, "sum__pred/test_acc_24": 0.99, "sum__pred/valid_acc_6": 1, "sum__pred/test_runtime": 244.7534, "sum__pred/test_precision": 0.4629, "sum__pred/test_editDistance_32": 0.2, "sum__pred/test_editDistance_40": 0.4, "sum__eval/runtime": 76.5823, "sum__pred/valid_editDistance_7": 0.9901, "sum__pred/test_acc_38": 0.968, "sum__pred/valid_acc_9": 0.9975, "sum__pred/valid_seq_acc": 1, "sum__eval/steps_per_second": 3.069, "sum__pred/test_editDistance_38": 0.4, "sum__pred/test_editDistance_39": 0.8, "sum__pred/test_acc": 0.8573, "sum__pred/test_acc_39": 0.946, "sum__pred/valid_runtime": 76.5915, "sum__pred/test_samples_per_second": 40.857, "sum__pred/valid_editDistance_overall": 0.3736, "sum__eval/seq_acc": 1, "sum__train/epoch": 25.59, "sum__pred/test_acc_35": 0.976, "sum__pred/valid_acc_5": 0.9918, "sum__pred/valid_num_samples": 7494, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "cca0d0fa15e8d512fb12ff65a79ab653e53d885502a4a0d47de3063ded2d3b4a", "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_cca0d0fa15e8d512fb12.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8347, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__train/acc": 0.2731, "sum__pred/test_acc_32": 0.978, "sum__pred/test_num_samples": 10000, "sum__pred/test_editDistance_35": 0.2, "sum__train/f1": 0.429, "sum__pred/valid_editDistance_5": 0.8174, "sum__num_total_params": 137927808, "sum__pred/test_acc_26": 0.996, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__pred/test_editDistance_21": 0, "sum__pred/test_loss": 0.0017814674647524953, "sum__pred/valid_editDistance_17": 0, "sum__pred/valid_samples_per_second": 97.844, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__pred/test_editDistance_36": 0.4, "sum__pred/test_acc_28": 0.99, "sum__pred/test_recall": 0.9995, "sum__pred/valid_acc_4": 1, "sum__pred/test_editDistance_25": 0, "sum__pred/test_editDistance_33": 0.6, "sum__pred/valid_editDistance_3": 0, "sum__pred/valid_editDistance_16": 0.2604, "sum___wandb#runtime": 12753, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__train/train_samples_per_second": 209.28, "sum__pred/test_acc_30": 0.986, "sum__pred/valid_acc_17": 1, "sum__train/gen_max_length": 256, "sum__pred/valid_editDistance_14": 0.2525, "sum__pred/valid_editDistance_20": 0.2463, "sum__eval/acc": 0.9335, "sum__pred/test_acc_34": 0.976, "sum__pred/test_acc_40": 0.954, "sum__pred/valid_precision": 0.4139, "sum__pred/valid_acc_overall": 0.9963, "sum__pred/test_editDistance_30": 0.4, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__pred/test_acc_23": 0.998, "sum__pred/test_editDistance_26": 0.4, "sum__evaluated_acc/test/plot_table#size": 355, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "df51b73d8e613e06dc4aa1dee9a001460083f76e40dcef9bf70645297975753b", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_df51b73d8e613e06dc4a.table.json", "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_a5a08efd705fe6d3e2eb.table.json", "sum__evaluated_acc/valid/table#size": 1472322, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "a5a08efd705fe6d3e2eba5cf43788d43893cc4710a5792e1cb95d575d9d8c2e1", "sum__pred/valid_acc_8": 0.9946, "sum__computed_num_process": 1, "sum__pred/test_editDistance_31": 0.6, "sum__auto_computed_eval_batch_size": 32, "sum__pred/valid_acc_2": 0.9976, "sum__pred/test_acc_29": 0.988, "sum__train/seq_acc": 1}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32_2_256788", "created_at": "2023-03-17T11:10:08", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679050909, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___wandb#runtime": 83, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum___runtime": 30, "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32_agg_256788", "created_at": "2023-03-17T11:09:53", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum___runtime": 30, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___wandb#runtime": 51, "sum___timestamp": 1679051178, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32_agg_146317", "created_at": "2023-03-17T11:09:40", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum___timestamp": 1679051293, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum___wandb#runtime": 49, "sum___runtime": 30, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "best_run_seed_exp", "tags": ["launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32__256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32__256788", "created_at": "2023-03-17T11:09:08", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "seq2seq", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "sum__pred/test_acc_38": 0.988, "sum__predict_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__pred/test_editDistance_34": 0, "sum__train/train_samples_per_second": 212.83, "sum___wandb#runtime": 12509, "sum__train/f1": 0.4168, "sum__pred/test_acc_22": 0.998, "sum__pred/valid_acc_11": 0.9929, "sum__pred/test_editDistance_28": 0.6, "sum__pred/valid_editDistance_3": 0.2532, "sum__pred/valid_editDistance_8": 0.2688, "sum__evaluated_acc/valid/plot_table#path": "media/table/evaluated_acc/valid/plot_table_4124_46debd9781b50cd4c303.table.json", "sum__evaluated_acc/valid/plot_table#size": 344, "sum__evaluated_acc/valid/plot_table#_type": "table-file", "sum__evaluated_acc/valid/plot_table#ncols": 2, "sum__evaluated_acc/valid/plot_table#nrows": 20, "sum__evaluated_acc/valid/plot_table#sha256": "46debd9781b50cd4c303d34ade949c81e5f63b723f28c85203ec2b2856ecc1dd", "sum__train/epoch": 25.59, "sum__pred/test_acc": 0.8574, "sum__pred/valid_acc_2": 1, "sum__pred/valid_editDistance_5": 0.2611, "sum__analyze_all_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__auto_computed_grad_acc_steps": 1, "sum__pred/test_acc_28": 0.99, "sum__pred/test_precision": 0.4632, "sum__pred/valid_num_samples": 7494, "sum__pred/test_editDistance_25": 0, "sum__eval/loss": 3.5195569125789916e-06, "sum___timestamp": 1679025385, "sum__pred/valid_acc_9": 0.9898, "sum__train/train_runtime": 12028.3572, "sum__num_non_trainable_params": 28320768, "sum__pred/test_editDistance_overall": 0.42, "sum__pred/valid_editDistance_overall": 0.3603, "sum__ds_examples/ExperimentStage.TEST#nrows": 100, "sum__ds_examples/ExperimentStage.TEST#sha256": "9c54aa8198da2b534fc20b13ba2b32d12c06d567087526fa6ad1bab8b454df5f", "sum__ds_examples/ExperimentStage.TEST#path": "media/table/ds_examples/ExperimentStage.TEST_4051_9c54aa8198da2b534fc2.table.json", "sum__ds_examples/ExperimentStage.TEST#size": 215732, "sum__ds_examples/ExperimentStage.TEST#_type": "table-file", "sum__ds_examples/ExperimentStage.TEST#ncols": 7, "sum__pred/valid_acc": 0.9337, "sum__pred/test_acc_36": 0.986, "sum__pred/valid_acc_8": 0.9973, "sum__pred/test_num_samples": 10000, "sum__eval/f1": 0.5852, "sum__train/train_loss": 0.08369920048682251, "sum__pred/test_seq_acc": 0.9967, "sum__pred/test_editDistance_27": 1, "sum__pred/valid_editDistance_4": 0.2646, "sum__pred/valid_editDistance_7": 0.7772, "sum__pred/valid_acc_15": 1, "sum__pred/valid_acc_17": 1, "sum__eval/steps_per_second": 3.453, "sum__pred/test_f1": 0.6331, "sum__pred/valid_editDistance_9": 1.0204, "sum__pred/valid_editDistance_15": 0, "sum__pred/test_runtime": 179.7026, "sum__predict_valid_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__pred/test_editDistance_22": 0.2, "sum__pred/test_editDistance_36": 0.4, "sum__train/recall": 1, "sum__train/precision": 0.2632, "sum__pred/valid_acc_4": 0.9974, "sum__pred/test_editDistance_35": 0.2, "sum__train/train_steps_per_second": 3.325, "sum__evaluated_acc/test/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/test/editDistance_plot_table#nrows": 21, "sum__evaluated_acc/test/editDistance_plot_table#sha256": "b7532ad4a4dd1cd1f090fbadbb75f835e8d4ea620ff47ae87cd0bb78dc43397b", "sum__evaluated_acc/test/editDistance_plot_table#path": "media/table/evaluated_acc/test/editDistance_plot_table_4098_b7532ad4a4dd1cd1f090.table.json", "sum__evaluated_acc/test/editDistance_plot_table#size": 320, "sum__evaluated_acc/test/editDistance_plot_table#_type": "table-file", "sum___step": 4146, "sum__pred/test_acc_21": 1, "sum__pred/test_acc_27": 0.99, "sum__pred/valid_editDistance_17": 0, "sum__evaluated_acc/valid/editDistance_plot_table#ncols": 2, "sum__evaluated_acc/valid/editDistance_plot_table#nrows": 20, "sum__evaluated_acc/valid/editDistance_plot_table#sha256": "9729733d4bdecf6d675a8b55832072710812f7eea33a50ccc3b5ab4834ddd66a", "sum__evaluated_acc/valid/editDistance_plot_table#path": "media/table/evaluated_acc/valid/editDistance_plot_table_4145_9729733d4bdecf6d675a.table.json", "sum__evaluated_acc/valid/editDistance_plot_table#size": 342, "sum__evaluated_acc/valid/editDistance_plot_table#_type": "table-file", "sum__pred/test_acc_37": 0.976, "sum__eval/samples_per_second": 110.099, "sum__pred/test_editDistance_39": 0.8, "sum__pred/test_editDistance_40": 0.4, "sum__pred/valid_editDistance_11": 0.7143, "sum__train/seq_acc": 1, "sum__pred/test_acc_33": 0.994, "sum__num_train_samples": 100000, "sum__pred/valid_editDistance_12": 0.2564, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 28.99728, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 47, "sum__pred/valid_acc_18": 1, "sum__pred/test_acc_overall": 0.9925, "sum__pred/test_editDistance_26": 0.4, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 11, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 10.95227431183131, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 28.99728, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__pred/test_acc_25": 1, "sum__train/learning_rate": 1e-07, "sum__pred/valid_acc_5": 0.9974, "sum__pred/valid_acc_12": 0.9974, "sum__pred/valid_steps_per_second": 3.423, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__eval/acc": 0.9337, "sum__pred/valid_f1": 0.5852, "sum__pred/valid_acc_3": 0.9975, "sum__evaluated_acc/valid/during_training_table#path": "media/table/evaluated_acc/valid/during_training_table_4146_7581e455bf8cffc55063.table.json", "sum__evaluated_acc/valid/during_training_table#size": 8390, "sum__evaluated_acc/valid/during_training_table#_type": "table-file", "sum__evaluated_acc/valid/during_training_table#ncols": 3, "sum__evaluated_acc/valid/during_training_table#nrows": 380, "sum__evaluated_acc/valid/during_training_table#sha256": "7581e455bf8cffc55063f712f1d8492ad59027f01585b4fc1498687cec5cbe03", "sum__pred/valid_editDistance_10": 1.0582, "sum__pred/valid_editDistance_14": 0.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__train/loss": 0.0004, "sum__pred/valid_acc_13": 0.9952, "sum__pred/test_editDistance_30": 0.4, "sum__pred/test_editDistance_38": 0.4, "sum__pred/test_acc_30": 0.996, "sum__pred/test_recall": 0.9998, "sum__pred/valid_acc_7": 0.9922, "sum__pred/test_steps_per_second": 1.742, "sum__pred/valid_editDistance_20": 0.271, "sum__train/global_step": 0, "sum__computed_num_process": 1, "sum__pred/test_editDistance_29": 0.8, "sum__pred/test_editDistance_33": 0.6, "sum__pred/valid_editDistance_19": 0.2667, "sum__ds_examples/ExperimentStage.PREDICTION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.PREDICTION#path": "media/table/ds_examples/ExperimentStage.PREDICTION_4099_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.PREDICTION#size": 91606, "sum__ds_examples/ExperimentStage.PREDICTION#_type": "table-file", "sum__ds_examples/ExperimentStage.PREDICTION#ncols": 7, "sum__ds_examples/ExperimentStage.PREDICTION#nrows": 100, "sum__pred/valid_recall": 1, "sum__pred/valid_acc_overall": 0.9964, "sum__evaluated_acc/valid/table#path": "media/table/evaluated_acc/valid/table_4103_08a49f369327d66a504f.table.json", "sum__evaluated_acc/valid/table#size": 1462115, "sum__evaluated_acc/valid/table#_type": "table-file", "sum__evaluated_acc/valid/table#ncols": 6, "sum__evaluated_acc/valid/table#nrows": 7494, "sum__evaluated_acc/valid/table#sha256": "08a49f369327d66a504f24fdb2f5952f15803e60be14102e6848c1c35366dbce", "sum__eval/runtime": 68.0663, "sum__pred/test_acc_31": 0.994, "sum__train/total_flos": 8.163935225546342e+16, "sum__pred/valid_acc_10": 0.9894, "sum__computed_per_device_eval_batch_size": 32, "sum__pred/test_acc_40": 0.988, "sum__pred/valid_acc_14": 0.995, "sum__pred/test_editDistance_24": 0.6, "sum__pred/test_editDistance_31": 0.6, "sum__pred/test_editDistance_37": 0.6, "sum__train/acc": 0.2632, "sum__eval/precision": 0.4136, "sum__pred/test_acc_39": 0.984, "sum__pred/valid_editDistance_16": 0.2564, "sum__auto_computed_eval_batch_size": 32, "sum__pred/test_acc_32": 0.994, "sum__pred/valid_acc_16": 0.9974, "sum__pred/valid_runtime": 68.6489, "sum__pred/test_editDistance_23": 0.2, "sum__eval/seq_acc": 1, "sum__pred/test_loss": 0.00040237780194729567, "sum__pred/valid_loss": 6.361410214594798e-06, "sum__pred/valid_samples_per_second": 109.164, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "1449337577013a1f39568911d69b110222028c3f8bd612ce3e66395d84d5cf4d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_3_1449337577013a1f3956.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 117325, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__pred/valid_acc_19": 0.9973, "sum__auto_computed_batch_size": 64, "sum__pred/valid_editDistance_2": 0, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__num_total_params": 137927808, "sum__pred/test_acc_34": 0.998, "sum__pred/valid_precision": 0.4136, "sum__pred/test_editDistance_32": 0.2, "sum__pred/test_acc_26": 0.994, "sum__pred/test_acc_35": 0.996, "sum__evaluated_acc/test/table#path": "media/table/evaluated_acc/test/table_4054_1517577451e1d6a21790.table.json", "sum__evaluated_acc/test/table#size": 4977529, "sum__evaluated_acc/test/table#_type": "table-file", "sum__evaluated_acc/test/table#ncols": 6, "sum__evaluated_acc/test/table#nrows": 10000, "sum__evaluated_acc/test/table#sha256": "1517577451e1d6a217909c22a83b2a5a191e1880b40b1b7c1552f71c019b5b69", "sum__auto_computed_batch_size_predict": 32, "sum___runtime": 12509, "sum__pred/valid_seq_acc": 1, "sum__pred/valid_editDistance_6": 0.2475, "sum__pred/valid_acc_6": 0.9975, "sum__num_trainable_params": 109607040, "sum__pred/test_editDistance_21": 0, "sum__pred/valid_editDistance_13": 0.4751, "sum__eval/recall": 1, "sum__pred/test_acc_24": 0.994, "sum__pred/test_acc_29": 0.992, "sum__pred/valid_editDistance_18": 0, "sum__pred/test_samples_per_second": 55.648, "sum__evaluated_acc/test/plot_table#ncols": 2, "sum__evaluated_acc/test/plot_table#nrows": 21, "sum__evaluated_acc/test/plot_table#sha256": "87a850fcf2ef4b1830029229d58415aca1054534188fda3df923afc751661f90", "sum__evaluated_acc/test/plot_table#path": "media/table/evaluated_acc/test/plot_table_4076_87a850fcf2ef4b183002.table.json", "sum__evaluated_acc/test/plot_table#size": 355, "sum__evaluated_acc/test/plot_table#_type": "table-file", "sum__pred/test_acc_23": 0.998, "sum__pred/valid_acc_20": 0.9973, "sum__train/gen_max_length": 256}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "33m8p4iw", "state": "finished", "id": "33m8p4iw", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/33m8p4iw", "created_at": "2023-03-17T00:13:02", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "k12ag84t", "state": "finished", "id": "k12ag84t", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/k12ag84t", "created_at": "2023-03-17T00:12:37", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "14ysadee", "state": "finished", "id": "14ysadee", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/14ysadee", "created_at": "2023-03-17T00:12:14", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "1zvvaum5", "state": "finished", "id": "1zvvaum5", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1zvvaum5", "created_at": "2023-03-17T00:11:50", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "3he9xfbe", "state": "finished", "id": "3he9xfbe", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/3he9xfbe", "created_at": "2023-03-17T00:11:27", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "agent", "tags": ["sanity_check", "sanity_check_s2s_copy"], "launcher_id": "ai0f3c04", "state": "finished", "id": "ai0f3c04", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/ai0f3c04", "created_at": "2023-03-16T23:35:18", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
