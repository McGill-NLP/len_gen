{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1121u3w5", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1121u3w5", "state": "finished", "id": "sw_f1a9bf1a380a22c84cbebdb3c47c667a_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f1a9bf1a380a22c84cbebdb3c47c667a_2_146317", "created_at": "2023-03-26T03:02:07", "host": "cdr2561.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-2000", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "eb5e4ec88e5d5fc156d34da4ec6c21f41f72c496c96f7fdc40bbc469d52bead1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_eb5e4ec88e5d5fc156d3.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 147887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.54437599246347, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.70138703654308, "sum___timestamp": 1679798881, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum___step": 8, "sum___wandb#runtime": 190, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum___runtime": 34, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1121u3w5", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1121u3w5", "state": "finished", "id": "sw_f1a9bf1a380a22c84cbebdb3c47c667a_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f1a9bf1a380a22c84cbebdb3c47c667a_2_256788", "created_at": "2023-03-26T03:01:55", "host": "cdr2561.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679798488, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-2000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 146, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.319859506477933, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 97.08335556148306, "sum___wandb#runtime": 189, "sum___runtime": 33, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c3f0f3ad9706d3c6779f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 136748, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c3f0f3ad9706d3c6779fc49f860491fa17526e909e4c6e328a9685ed2ab20ddb"}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1121u3w5", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1121u3w5", "state": "finished", "id": "sw_f1a9bf1a380a22c84cbebdb3c47c667a_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f1a9bf1a380a22c84cbebdb3c47c667a_agg_256788", "created_at": "2023-03-26T03:01:42", "host": "cdr2561.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 34, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c3f0f3ad9706d3c6779f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 136748, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c3f0f3ad9706d3c6779fc49f860491fa17526e909e4c6e328a9685ed2ab20ddb", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum___step": 8, "sum___wandb#runtime": 151, "sum___timestamp": 1679799079, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-2000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.319859506477933, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 97.08335556148306, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 146, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1121u3w5", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1121u3w5", "state": "finished", "id": "sw_f1a9bf1a380a22c84cbebdb3c47c667a_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f1a9bf1a380a22c84cbebdb3c47c667a_agg_234054", "created_at": "2023-03-26T03:00:44", "host": "cdr2561.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum___timestamp": 1679799237, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.301040424423228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.73873032808748, "sum___step": 8, "sum___runtime": 33, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-2000", "sum___wandb#runtime": 147, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e2fcef44fb56b6b134be7dba123280a4b58f53923b7ceac5fe7ce5abcaa7394b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e2fcef44fb56b6b134be.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 149698, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1121u3w5", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1121u3w5", "state": "finished", "id": "sw_f1a9bf1a380a22c84cbebdb3c47c667a_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f1a9bf1a380a22c84cbebdb3c47c667a_agg_146317", "created_at": "2023-03-26T02:59:47", "host": "cdr2561.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum___runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-2000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum___wandb#runtime": 148, "sum___timestamp": 1679799392, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "eb5e4ec88e5d5fc156d34da4ec6c21f41f72c496c96f7fdc40bbc469d52bead1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_eb5e4ec88e5d5fc156d3.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 147887, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.54437599246347, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.70138703654308}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1121u3w5", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1121u3w5", "state": "finished", "id": "sw_f1a9bf1a380a22c84cbebdb3c47c667a_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f1a9bf1a380a22c84cbebdb3c47c667a_2_234054", "created_at": "2023-03-26T02:59:35", "host": "cdr2561.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 188, "sum___runtime": 34, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.301040424423228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.73873032808748, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-2000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum___timestamp": 1679798685, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e2fcef44fb56b6b134be7dba123280a4b58f53923b7ceac5fe7ce5abcaa7394b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e2fcef44fb56b6b134be.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 149698, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_erpg5x7g", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "erpg5x7g", "state": "finished", "id": "sw_9b9d386a7c5fdca7e1a959d5775117f4_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_9b9d386a7c5fdca7e1a959d5775117f4_2_234054", "created_at": "2023-03-25T12:03:17", "host": "cdr2556.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum___runtime": 36, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e2fcef44fb56b6b134be7dba123280a4b58f53923b7ceac5fe7ce5abcaa7394b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e2fcef44fb56b6b134be.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 149698, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-18000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.301040424423228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.73873032808748, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum___wandb#runtime": 116, "sum___timestamp": 1679745121}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_erpg5x7g", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "erpg5x7g", "state": "finished", "id": "sw_9b9d386a7c5fdca7e1a959d5775117f4_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_9b9d386a7c5fdca7e1a959d5775117f4_agg_146317", "created_at": "2023-03-25T12:03:05", "host": "cdr2556.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 69, "sum__computed_num_process": 1, "sum___timestamp": 1679745515, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#size": 147887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "eb5e4ec88e5d5fc156d34da4ec6c21f41f72c496c96f7fdc40bbc469d52bead1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_eb5e4ec88e5d5fc156d3.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum___runtime": 35, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.54437599246347, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.70138703654308, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_erpg5x7g", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "erpg5x7g", "state": "finished", "id": "sw_9b9d386a7c5fdca7e1a959d5775117f4_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_9b9d386a7c5fdca7e1a959d5775117f4_2_256788", "created_at": "2023-03-25T12:02:53", "host": "cdr2556.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___runtime": 34, "sum___timestamp": 1679744996, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum___wandb#runtime": 115, "sum__ds_examples/ExperimentStage.VALIDATION#size": 136748, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c3f0f3ad9706d3c6779fc49f860491fa17526e909e4c6e328a9685ed2ab20ddb", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c3f0f3ad9706d3c6779f.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 146, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.319859506477933, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 97.08335556148306, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_erpg5x7g", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "erpg5x7g", "state": "finished", "id": "sw_9b9d386a7c5fdca7e1a959d5775117f4_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_9b9d386a7c5fdca7e1a959d5775117f4_agg_234054", "created_at": "2023-03-25T12:02:40", "host": "cdr2556.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 67, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-18000", "sum___timestamp": 1679745438, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#size": 149698, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e2fcef44fb56b6b134be7dba123280a4b58f53923b7ceac5fe7ce5abcaa7394b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e2fcef44fb56b6b134be.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.73873032808748, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.301040424423228, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum___step": 8, "sum___runtime": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_erpg5x7g", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "erpg5x7g", "state": "finished", "id": "sw_9b9d386a7c5fdca7e1a959d5775117f4_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_9b9d386a7c5fdca7e1a959d5775117f4_agg_256788", "created_at": "2023-03-25T12:00:58", "host": "cdr2556.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum___step": 8, "sum___timestamp": 1679745360, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#size": 136748, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c3f0f3ad9706d3c6779fc49f860491fa17526e909e4c6e328a9685ed2ab20ddb", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c3f0f3ad9706d3c6779f.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum___wandb#runtime": 69, "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 146, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.319859506477933, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 97.08335556148306}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_erpg5x7g", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "erpg5x7g", "state": "finished", "id": "sw_9b9d386a7c5fdca7e1a959d5775117f4_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_9b9d386a7c5fdca7e1a959d5775117f4_2_146317", "created_at": "2023-03-25T12:00:45", "host": "cdr2556.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.54437599246347, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.70138703654308, "sum___timestamp": 1679745242, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum___runtime": 33, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum___step": 8, "sum___wandb#runtime": 112, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "eb5e4ec88e5d5fc156d34da4ec6c21f41f72c496c96f7fdc40bbc469d52bead1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_eb5e4ec88e5d5fc156d3.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 147887}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2o3w0s7f", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2o3w0s7f", "state": "finished", "id": "sw_6252267a18893273b01c58eb66a94b47_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6252267a18893273b01c58eb66a94b47_agg_146317", "created_at": "2023-03-25T11:18:54", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 33, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-16000", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum___wandb#runtime": 707, "sum___timestamp": 1679742305, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_eb5e4ec88e5d5fc156d3.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 147887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "eb5e4ec88e5d5fc156d34da4ec6c21f41f72c496c96f7fdc40bbc469d52bead1", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.54437599246347, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.70138703654308, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2o3w0s7f", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2o3w0s7f", "state": "finished", "id": "sw_6252267a18893273b01c58eb66a94b47_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6252267a18893273b01c58eb66a94b47_2_256788", "created_at": "2023-03-25T11:18:41", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679740418, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 146, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.319859506477933, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 97.08335556148306, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum___wandb#runtime": 145, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum___runtime": 33, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c3f0f3ad9706d3c6779fc49f860491fa17526e909e4c6e328a9685ed2ab20ddb", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c3f0f3ad9706d3c6779f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 136748, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2o3w0s7f", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2o3w0s7f", "state": "finished", "id": "sw_6252267a18893273b01c58eb66a94b47_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6252267a18893273b01c58eb66a94b47_2_234054", "created_at": "2023-03-25T11:18:29", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-10000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e2fcef44fb56b6b134be.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 149698, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e2fcef44fb56b6b134be7dba123280a4b58f53923b7ceac5fe7ce5abcaa7394b", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum___step": 8, "sum___timestamp": 1679740571, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.301040424423228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.73873032808748, "sum___wandb#runtime": 145, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum___runtime": 33}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2o3w0s7f", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2o3w0s7f", "state": "finished", "id": "sw_6252267a18893273b01c58eb66a94b47_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6252267a18893273b01c58eb66a94b47_agg_234054", "created_at": "2023-03-25T11:18:16", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.301040424423228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.73873032808748, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum___wandb#runtime": 707, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-10000", "sum___step": 8, "sum___runtime": 33, "sum___timestamp": 1679741591, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e2fcef44fb56b6b134be.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 149698, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e2fcef44fb56b6b134be7dba123280a4b58f53923b7ceac5fe7ce5abcaa7394b"}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2o3w0s7f", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2o3w0s7f", "state": "finished", "id": "sw_6252267a18893273b01c58eb66a94b47_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6252267a18893273b01c58eb66a94b47_agg_256788", "created_at": "2023-03-25T11:18:03", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 707, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum___step": 8, "sum___runtime": 33, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___timestamp": 1679740876, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c3f0f3ad9706d3c6779fc49f860491fa17526e909e4c6e328a9685ed2ab20ddb", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c3f0f3ad9706d3c6779f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 136748, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 146, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.319859506477933, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 97.08335556148306}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2o3w0s7f", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2o3w0s7f", "state": "finished", "id": "sw_6252267a18893273b01c58eb66a94b47_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6252267a18893273b01c58eb66a94b47_2_146317", "created_at": "2023-03-25T11:17:04", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum___timestamp": 1679740724, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "eb5e4ec88e5d5fc156d34da4ec6c21f41f72c496c96f7fdc40bbc469d52bead1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_eb5e4ec88e5d5fc156d3.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 147887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.54437599246347, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.70138703654308, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum___wandb#runtime": 144, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-16000", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum___runtime": 33}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3nv3nl57", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "3nv3nl57", "state": "finished", "id": "sw_acd06d5f2494d8a594760ef356e7a44b_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_acd06d5f2494d8a594760ef356e7a44b_agg_234054", "created_at": "2023-03-25T08:54:19", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum___runtime": 32, "sum___timestamp": 1679732969, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum___step": 8, "sum___wandb#runtime": 647, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e2fcef44fb56b6b134be.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 149698, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e2fcef44fb56b6b134be7dba123280a4b58f53923b7ceac5fe7ce5abcaa7394b", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.73873032808748, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.301040424423228, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3nv3nl57", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "3nv3nl57", "state": "finished", "id": "sw_acd06d5f2494d8a594760ef356e7a44b_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_acd06d5f2494d8a594760ef356e7a44b_agg_256788", "created_at": "2023-03-25T08:54:07", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 32, "sum___wandb#runtime": 650, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-26000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.319859506477933, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 97.08335556148306, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 146, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum___step": 8, "sum___timestamp": 1679732311, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c3f0f3ad9706d3c6779fc49f860491fa17526e909e4c6e328a9685ed2ab20ddb", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c3f0f3ad9706d3c6779f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 136748, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3nv3nl57", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "3nv3nl57", "state": "finished", "id": "sw_acd06d5f2494d8a594760ef356e7a44b_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_acd06d5f2494d8a594760ef356e7a44b_2_256788", "created_at": "2023-03-25T08:53:54", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-26000", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c3f0f3ad9706d3c6779fc49f860491fa17526e909e4c6e328a9685ed2ab20ddb", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c3f0f3ad9706d3c6779f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 136748, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 143, "sum___timestamp": 1679731865, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 146, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.319859506477933, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 97.08335556148306, "sum___step": 8, "sum___runtime": 34, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3nv3nl57", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "3nv3nl57", "state": "finished", "id": "sw_acd06d5f2494d8a594760ef356e7a44b_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_acd06d5f2494d8a594760ef356e7a44b_2_234054", "created_at": "2023-03-25T08:53:41", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e2fcef44fb56b6b134be.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 149698, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e2fcef44fb56b6b134be7dba123280a4b58f53923b7ceac5fe7ce5abcaa7394b", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.301040424423228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.73873032808748, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum___timestamp": 1679732014, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum___wandb#runtime": 141, "sum___runtime": 32, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3nv3nl57", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "3nv3nl57", "state": "finished", "id": "sw_acd06d5f2494d8a594760ef356e7a44b_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_acd06d5f2494d8a594760ef356e7a44b_2_146317", "created_at": "2023-03-25T08:53:27", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 141, "sum___timestamp": 1679732164, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "eb5e4ec88e5d5fc156d34da4ec6c21f41f72c496c96f7fdc40bbc469d52bead1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_eb5e4ec88e5d5fc156d3.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 147887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum___runtime": 34, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.54437599246347, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.70138703654308}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3nv3nl57", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "3nv3nl57", "state": "finished", "id": "sw_acd06d5f2494d8a594760ef356e7a44b_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_acd06d5f2494d8a594760ef356e7a44b_agg_146317", "created_at": "2023-03-25T08:51:43", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum___step": 8, "sum___wandb#runtime": 647, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "eb5e4ec88e5d5fc156d34da4ec6c21f41f72c496c96f7fdc40bbc469d52bead1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_eb5e4ec88e5d5fc156d3.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 147887, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum___runtime": 34, "sum___timestamp": 1679733625, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.70138703654308, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.54437599246347}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1neckzoy", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1neckzoy", "state": "finished", "id": "sw_98a63f0797e2be70872d87f175297ecc_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_98a63f0797e2be70872d87f175297ecc_agg_146317", "created_at": "2023-03-25T06:44:28", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum___wandb#runtime": 68, "sum___runtime": 33, "sum___timestamp": 1679726395, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_eb5e4ec88e5d5fc156d3.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 147887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "eb5e4ec88e5d5fc156d34da4ec6c21f41f72c496c96f7fdc40bbc469d52bead1", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.54437599246347, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.70138703654308, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1neckzoy", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1neckzoy", "state": "finished", "id": "sw_98a63f0797e2be70872d87f175297ecc_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_98a63f0797e2be70872d87f175297ecc_agg_256788", "created_at": "2023-03-25T06:44:16", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 146, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.319859506477933, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 97.08335556148306, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum___runtime": 33, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c3f0f3ad9706d3c6779f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 136748, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c3f0f3ad9706d3c6779fc49f860491fa17526e909e4c6e328a9685ed2ab20ddb", "sum___wandb#runtime": 69, "sum___timestamp": 1679726241, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-8000"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1neckzoy", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1neckzoy", "state": "finished", "id": "sw_98a63f0797e2be70872d87f175297ecc_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_98a63f0797e2be70872d87f175297ecc_2_234054", "created_at": "2023-03-25T06:44:00", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679726002, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.301040424423228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.73873032808748, "sum___step": 8, "sum___runtime": 33, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e2fcef44fb56b6b134be7dba123280a4b58f53923b7ceac5fe7ce5abcaa7394b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e2fcef44fb56b6b134be.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 149698, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___wandb#runtime": 111, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-6000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1neckzoy", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1neckzoy", "state": "finished", "id": "sw_98a63f0797e2be70872d87f175297ecc_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_98a63f0797e2be70872d87f175297ecc_2_256788", "created_at": "2023-03-25T06:43:48", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___runtime": 33, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.319859506477933, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 97.08335556148306, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 146, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum___timestamp": 1679725881, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-8000", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___wandb#runtime": 113, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c3f0f3ad9706d3c6779fc49f860491fa17526e909e4c6e328a9685ed2ab20ddb", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c3f0f3ad9706d3c6779f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 136748, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1neckzoy", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1neckzoy", "state": "finished", "id": "sw_98a63f0797e2be70872d87f175297ecc_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_98a63f0797e2be70872d87f175297ecc_2_146317", "created_at": "2023-03-25T06:42:53", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 33, "sum___timestamp": 1679726120, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "eb5e4ec88e5d5fc156d34da4ec6c21f41f72c496c96f7fdc40bbc469d52bead1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_eb5e4ec88e5d5fc156d3.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 147887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum___wandb#runtime": 113, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.54437599246347, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.70138703654308, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1neckzoy", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1neckzoy", "state": "finished", "id": "sw_98a63f0797e2be70872d87f175297ecc_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_98a63f0797e2be70872d87f175297ecc_agg_234054", "created_at": "2023-03-25T06:42:41", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e2fcef44fb56b6b134be7dba123280a4b58f53923b7ceac5fe7ce5abcaa7394b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e2fcef44fb56b6b134be.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 149698, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___step": 8, "sum___wandb#runtime": 70, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 207.1376, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "110e3ff795d6e1b4c144b68f7e8e0ca7d8cffb53293208324fd73f2913fee222", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_110e3ff795d6e1b4c144.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 518812, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 29.301040424423228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 96.73873032808748, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 266, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 152, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 33.76694043350685, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 207.1376, "sum___runtime": 34, "sum___timestamp": 1679726319, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-6000", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_incj42e2", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "incj42e2", "state": "failed", "id": "sw_a345c3c39ddea8b9c94333ae9d268b63_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a345c3c39ddea8b9c94333ae9d268b63_2_256788", "created_at": "2023-03-24T16:52:05", "host": "ng30603.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "31604a60202a0805c101937c082eda826746f95b267c1e98edbbab3cbf6b2067", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_31604a60202a0805c101.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 806884, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4bafeb3dc8e1ee337ff9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 193828, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4bafeb3dc8e1ee337ff920eac4af924c0d52f2c65282587038f5084636770601", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 58.38962463451876, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 340.2752, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 444, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 244, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum___timestamp": 1679676325, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 236, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 50.673678523854726, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 150.10642838090158, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 444, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 58.38962463451876, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 340.2752, "sum___wandb#runtime": 306, "sum___runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-6000"}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2cxcq432", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2cxcq432", "state": "finished", "id": "sw_1f748e123b29a426a10a34965407ba69_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f748e123b29a426a10a34965407ba69_2_256788", "created_at": "2023-03-24T16:41:55", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#size": 951720, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "eadf8d05411b6fff4cf81e19953dc4ba1226d6fa506b0e9416ff166cbcdba4a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_eadf8d05411b6fff4cf8.table.json", "sum___timestamp": 1679673031, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "f6fa2d56f0be1ca42504634a35f67099757d8358139cce1ad8a41bff019ec694", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_f6fa2d56f0be1ca42504.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 179912, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 227, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 61, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 53.30590957104114, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 137.24033075486795, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 555, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 252, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 394.6376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum___wandb#runtime": 203, "sum___runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 555, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 252, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 394.6376, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2cxcq432", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2cxcq432", "state": "finished", "id": "sw_1f748e123b29a426a10a34965407ba69_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f748e123b29a426a10a34965407ba69_agg_146317", "created_at": "2023-03-24T16:40:56", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 555, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 252, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 394.6376, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "eadf8d05411b6fff4cf81e19953dc4ba1226d6fa506b0e9416ff166cbcdba4a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_eadf8d05411b6fff4cf8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 951720, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6556bbc50607a121e9b635418b6533792a8f8eed472502d4e9e702daf22a363a", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6556bbc50607a121e9b6.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 198151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___wandb#runtime": 704, "sum___runtime": 25, "sum___timestamp": 1679675231, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 136.58428914377168, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 61, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 53.712763661562434, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 394.6376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 555, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 252, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2cxcq432", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2cxcq432", "state": "finished", "id": "sw_1f748e123b29a426a10a34965407ba69_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f748e123b29a426a10a34965407ba69_2_146317", "created_at": "2023-03-24T16:40:46", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___runtime": 24, "sum___timestamp": 1679673482, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 394.6376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 555, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 252, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum___step": 8, "sum___wandb#runtime": 304, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_eadf8d05411b6fff4cf8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 951720, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "eadf8d05411b6fff4cf81e19953dc4ba1226d6fa506b0e9416ff166cbcdba4a4", "sum__ds_examples/ExperimentStage.VALIDATION#size": 198151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6556bbc50607a121e9b635418b6533792a8f8eed472502d4e9e702daf22a363a", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6556bbc50607a121e9b6.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 61, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 53.712763661562434, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 136.58428914377168, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 555, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 252, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 394.6376, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2cxcq432", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2cxcq432", "state": "finished", "id": "sw_1f748e123b29a426a10a34965407ba69_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f748e123b29a426a10a34965407ba69_agg_234054", "created_at": "2023-03-24T16:39:01", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "eadf8d05411b6fff4cf81e19953dc4ba1226d6fa506b0e9416ff166cbcdba4a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_eadf8d05411b6fff4cf8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 951720, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 555, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 252, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 394.6376, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 61, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 53.254337893385355, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 136.611229661243, "sum___runtime": 24, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 718, "sum__computed_num_process": 1, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_examples/ExperimentStage.VALIDATION#size": 201412, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "df31988af7b17f2e84fb85dfe9a00e3402c785a4ad8d7dc8cb3cf84c19e0ff12", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_df31988af7b17f2e84fb.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 252, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 394.6376, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 555, "sum___timestamp": 1679674506, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-28000"}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2cxcq432", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2cxcq432", "state": "finished", "id": "sw_1f748e123b29a426a10a34965407ba69_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f748e123b29a426a10a34965407ba69_2_234054", "created_at": "2023-03-24T16:38:50", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 555, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 252, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 394.6376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-28000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_df31988af7b17f2e84fb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 201412, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "df31988af7b17f2e84fb85dfe9a00e3402c785a4ad8d7dc8cb3cf84c19e0ff12", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 555, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 252, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 394.6376, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum___wandb#runtime": 241, "sum___runtime": 25, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 61, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 53.254337893385355, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 136.611229661243, "sum___timestamp": 1679673236, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "eadf8d05411b6fff4cf81e19953dc4ba1226d6fa506b0e9416ff166cbcdba4a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_eadf8d05411b6fff4cf8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 951720, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2cxcq432", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2cxcq432", "state": "finished", "id": "sw_1f748e123b29a426a10a34965407ba69_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f748e123b29a426a10a34965407ba69_agg_256788", "created_at": "2023-03-24T16:38:38", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 24, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 53.30590957104114, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 137.24033075486795, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 227, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 61, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 555, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 252, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 394.6376, "sum___wandb#runtime": 706, "sum___timestamp": 1679673792, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 95.69798778574189, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 394.6376, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 555, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 252, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_eadf8d05411b6fff4cf8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 951720, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "eadf8d05411b6fff4cf81e19953dc4ba1226d6fa506b0e9416ff166cbcdba4a4", "sum__ds_examples/ExperimentStage.VALIDATION#size": 179912, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "f6fa2d56f0be1ca42504634a35f67099757d8358139cce1ad8a41bff019ec694", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_f6fa2d56f0be1ca42504.table.json"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2gpj9nyd", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2gpj9nyd", "state": "finished", "id": "sw_b9b598193dbf4ba474c7091200fab912_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_b9b598193dbf4ba474c7091200fab912_2_256788", "created_at": "2023-03-24T16:15:07", "host": "ng30402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "a1328080eaa42e48d9db35429353819a7df75d2f6adc901a232006fba532ba42", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_a1328080eaa42e48d9db.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 873256, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_91cca0a6603b0ba05de3.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 163334, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "91cca0a6603b0ba05de3297fb7c99864a7fc2ec2e6e475b00c8dc55e4475a50d", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 552, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 94.83783806392888, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 388.2056, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 226, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 58, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 52.52989833727817, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 133.7972792744732, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum___wandb#runtime": 180, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 552, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 94.83783806392888, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 388.2056, "sum___runtime": 25, "sum___timestamp": 1679673347, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2gpj9nyd", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2gpj9nyd", "state": "finished", "id": "sw_b9b598193dbf4ba474c7091200fab912_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_b9b598193dbf4ba474c7091200fab912_agg_256788", "created_at": "2023-03-24T16:14:13", "host": "ng30402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679674033, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum___runtime": 28, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_a1328080eaa42e48d9db.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 873256, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "a1328080eaa42e48d9db35429353819a7df75d2f6adc901a232006fba532ba42", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 94.83783806392888, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 388.2056, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 552, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 244, "sum___wandb#runtime": 106, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 52.52989833727817, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 133.7972792744732, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 226, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 58, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "91cca0a6603b0ba05de3297fb7c99864a7fc2ec2e6e475b00c8dc55e4475a50d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_91cca0a6603b0ba05de3.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 163334, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 552, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 94.83783806392888, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 388.2056, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2gpj9nyd", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2gpj9nyd", "state": "finished", "id": "sw_b9b598193dbf4ba474c7091200fab912_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_b9b598193dbf4ba474c7091200fab912_2_234054", "created_at": "2023-03-24T16:14:02", "host": "ng30402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 388.2056, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 552, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 94.83783806392888, "sum___runtime": 23, "sum___timestamp": 1679673532, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dcafda5f0eafcf756a7d0a01ef6fc4cf6465ed30e278eb6ed41f47a817f75080", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dcafda5f0eafcf756a7d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 182864, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 94.83783806392888, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 388.2056, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 552, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "a1328080eaa42e48d9db35429353819a7df75d2f6adc901a232006fba532ba42", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_a1328080eaa42e48d9db.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 873256, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 52.489260499614, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 133.16804481194984, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 58, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum___wandb#runtime": 224, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-6000"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2gpj9nyd", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2gpj9nyd", "state": "finished", "id": "sw_b9b598193dbf4ba474c7091200fab912_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_b9b598193dbf4ba474c7091200fab912_2_146317", "created_at": "2023-03-24T16:13:51", "host": "ng30402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 133.16724459855962, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 58, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 52.95298583043909, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_a1328080eaa42e48d9db.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 873256, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "a1328080eaa42e48d9db35429353819a7df75d2f6adc901a232006fba532ba42", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 94.83783806392888, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 388.2056, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 552, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 259, "sum___timestamp": 1679673759, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_34f5ff973f15bf777ff7.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 180105, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "34f5ff973f15bf777ff74259d55e5fe6d08e5053ff5bf807cf8130ac3b8b4d8a", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 94.83783806392888, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 388.2056, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 552, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum___runtime": 21, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-8000"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2gpj9nyd", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2gpj9nyd", "state": "finished", "id": "sw_b9b598193dbf4ba474c7091200fab912_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_b9b598193dbf4ba474c7091200fab912_agg_234054", "created_at": "2023-03-24T16:13:41", "host": "ng30402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 105, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dcafda5f0eafcf756a7d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 182864, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dcafda5f0eafcf756a7d0a01ef6fc4cf6465ed30e278eb6ed41f47a817f75080", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 552, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 94.83783806392888, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 388.2056, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-6000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "a1328080eaa42e48d9db35429353819a7df75d2f6adc901a232006fba532ba42", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_a1328080eaa42e48d9db.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 873256, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 58, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 52.489260499614, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 133.16804481194984, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum___runtime": 22, "sum___timestamp": 1679674140, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 94.83783806392888, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 388.2056, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 552}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2gpj9nyd", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2gpj9nyd", "state": "finished", "id": "sw_b9b598193dbf4ba474c7091200fab912_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_b9b598193dbf4ba474c7091200fab912_agg_146317", "created_at": "2023-03-24T16:12:44", "host": "ng30402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 107, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 552, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 94.83783806392888, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 388.2056, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum___timestamp": 1679674249, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_a1328080eaa42e48d9db.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 873256, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "a1328080eaa42e48d9db35429353819a7df75d2f6adc901a232006fba532ba42", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-8000", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "34f5ff973f15bf777ff74259d55e5fe6d08e5053ff5bf807cf8130ac3b8b4d8a", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_34f5ff973f15bf777ff7.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 180105, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 58, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 52.95298583043909, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 133.16724459855962, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 552, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 244, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 94.83783806392888, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 388.2056, "sum___runtime": 21}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2lvc911z", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2lvc911z", "state": "finished", "id": "sw_1f10974bbe000f4fb95d9e0e9165af10_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f10974bbe000f4fb95d9e0e9165af10_2_234054", "created_at": "2023-03-24T09:26:02", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 51, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum___timestamp": 1679649508, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.991851412490692, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.08508935716191, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7a6523a9ebf88d6e1c43.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42346, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7a6523a9ebf88d6e1c43e30813221a4d6c8b65152c0d23a494b9465c1ffee148", "sum___step": 8, "sum___runtime": 28}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2lvc911z", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2lvc911z", "state": "finished", "id": "sw_1f10974bbe000f4fb95d9e0e9165af10_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f10974bbe000f4fb95d9e0e9165af10_2_146317", "created_at": "2023-03-24T09:25:50", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 4.022249183818422, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.079754601226995, "sum___wandb#runtime": 50, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___step": 8, "sum___runtime": 27, "sum___timestamp": 1679649565, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8c92a19d4ff224db3131.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42012, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8c92a19d4ff224db3131ad67b1c03e7e6c0b02da34b397bc528e3aeded534fc1", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2lvc911z", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2lvc911z", "state": "finished", "id": "sw_1f10974bbe000f4fb95d9e0e9165af10_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f10974bbe000f4fb95d9e0e9165af10_agg_256788", "created_at": "2023-03-24T09:25:37", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679649624, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6124c66fb9c3e6b0ad77.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 40140, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6124c66fb9c3e6b0ad7702849de9af2d8bc126e725d32717abd91c9d0b308a11", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum___runtime": 28, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.133635636169647, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.994496365333738, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___wandb#runtime": 43}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2lvc911z", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2lvc911z", "state": "finished", "id": "sw_1f10974bbe000f4fb95d9e0e9165af10_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f10974bbe000f4fb95d9e0e9165af10_2_256788", "created_at": "2023-03-24T09:24:50", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 28, "sum___timestamp": 1679649449, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum___step": 8, "sum___wandb#runtime": 51, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.994496365333738, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.133635636169647, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6124c66fb9c3e6b0ad77.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 40140, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6124c66fb9c3e6b0ad7702849de9af2d8bc126e725d32717abd91c9d0b308a11", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2lvc911z", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2lvc911z", "state": "finished", "id": "sw_1f10974bbe000f4fb95d9e0e9165af10_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f10974bbe000f4fb95d9e0e9165af10_agg_234054", "created_at": "2023-03-24T09:24:37", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679649674, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 41, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7a6523a9ebf88d6e1c43e30813221a4d6c8b65152c0d23a494b9465c1ffee148", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7a6523a9ebf88d6e1c43.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42346, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.991851412490692, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.08508935716191, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum___runtime": 27}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2lvc911z", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "2lvc911z", "state": "finished", "id": "sw_1f10974bbe000f4fb95d9e0e9165af10_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f10974bbe000f4fb95d9e0e9165af10_agg_146317", "created_at": "2023-03-24T09:24:25", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8c92a19d4ff224db3131ad67b1c03e7e6c0b02da34b397bc528e3aeded534fc1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8c92a19d4ff224db3131.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42012, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum___timestamp": 1679649722, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___wandb#runtime": 41, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 4.022249183818422, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.079754601226995, "sum___runtime": 26}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_251tgvv0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "251tgvv0", "state": "finished", "id": "sw_d9c14913ee20394675fb189e276af5e3_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d9c14913ee20394675fb189e276af5e3_agg_146317", "created_at": "2023-03-24T07:44:04", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum___wandb#runtime": 146, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-34000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 4.022249183818422, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.079754601226995, "sum___step": 8, "sum___timestamp": 1679643502, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8c92a19d4ff224db3131ad67b1c03e7e6c0b02da34b397bc528e3aeded534fc1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8c92a19d4ff224db3131.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42012, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___runtime": 26, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_251tgvv0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "251tgvv0", "state": "finished", "id": "sw_d9c14913ee20394675fb189e276af5e3_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d9c14913ee20394675fb189e276af5e3_2_256788", "created_at": "2023-03-24T07:43:52", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum___step": 8, "sum___wandb#runtime": 44, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum___runtime": 27, "sum___timestamp": 1679643056, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6124c66fb9c3e6b0ad7702849de9af2d8bc126e725d32717abd91c9d0b308a11", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6124c66fb9c3e6b0ad77.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 40140, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.994496365333738, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.133635636169647, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_251tgvv0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "251tgvv0", "state": "finished", "id": "sw_d9c14913ee20394675fb189e276af5e3_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d9c14913ee20394675fb189e276af5e3_2_234054", "created_at": "2023-03-24T07:43:05", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.991851412490692, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.08508935716191, "sum___timestamp": 1679643107, "sum___wandb#runtime": 42, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-28000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7a6523a9ebf88d6e1c43e30813221a4d6c8b65152c0d23a494b9465c1ffee148", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7a6523a9ebf88d6e1c43.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42346, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___runtime": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_251tgvv0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "251tgvv0", "state": "finished", "id": "sw_d9c14913ee20394675fb189e276af5e3_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d9c14913ee20394675fb189e276af5e3_agg_234054", "created_at": "2023-03-24T07:42:52", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-28000", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7a6523a9ebf88d6e1c43e30813221a4d6c8b65152c0d23a494b9465c1ffee148", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7a6523a9ebf88d6e1c43.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42346, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___timestamp": 1679643354, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___wandb#runtime": 141, "sum___runtime": 25, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.991851412490692, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.08508935716191, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_251tgvv0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "251tgvv0", "state": "finished", "id": "sw_d9c14913ee20394675fb189e276af5e3_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d9c14913ee20394675fb189e276af5e3_agg_256788", "created_at": "2023-03-24T07:41:28", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.994496365333738, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.133635636169647, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum___step": 8, "sum___wandb#runtime": 141, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum___timestamp": 1679643205, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum___runtime": 26, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6124c66fb9c3e6b0ad7702849de9af2d8bc126e725d32717abd91c9d0b308a11", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6124c66fb9c3e6b0ad77.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 40140, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_251tgvv0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "251tgvv0", "state": "finished", "id": "sw_d9c14913ee20394675fb189e276af5e3_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d9c14913ee20394675fb189e276af5e3_2_146317", "created_at": "2023-03-24T07:41:13", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 25, "sum___timestamp": 1679643156, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8c92a19d4ff224db3131ad67b1c03e7e6c0b02da34b397bc528e3aeded534fc1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8c92a19d4ff224db3131.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42012, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 4.022249183818422, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.079754601226995, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-34000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___wandb#runtime": 42, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_23o7fj2p", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "23o7fj2p", "state": "finished", "id": "sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_agg_256788", "created_at": "2023-03-24T03:30:32", "host": "cdr2478.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 34, "sum___runtime": 27, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.133635636169647, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.994496365333738, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___timestamp": 1679628353, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6124c66fb9c3e6b0ad7702849de9af2d8bc126e725d32717abd91c9d0b308a11", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6124c66fb9c3e6b0ad77.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 40140, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_23o7fj2p", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "23o7fj2p", "state": "finished", "id": "sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_2_256788", "created_at": "2023-03-24T03:30:18", "host": "cdr2478.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 45, "sum___timestamp": 1679628202, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.133635636169647, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.994496365333738, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6124c66fb9c3e6b0ad77.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 40140, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6124c66fb9c3e6b0ad7702849de9af2d8bc126e725d32717abd91c9d0b308a11", "sum___step": 8, "sum___runtime": 30, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_23o7fj2p", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "23o7fj2p", "state": "finished", "id": "sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_agg_146317", "created_at": "2023-03-24T03:29:28", "host": "cdr2478.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.079754601226995, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 4.022249183818422, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum___runtime": 28, "sum___timestamp": 1679628442, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42012, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8c92a19d4ff224db3131ad67b1c03e7e6c0b02da34b397bc528e3aeded534fc1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8c92a19d4ff224db3131.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___wandb#runtime": 36, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_23o7fj2p", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "23o7fj2p", "state": "finished", "id": "sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_2_146317", "created_at": "2023-03-24T03:29:14", "host": "cdr2478.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 43, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 4.022249183818422, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.079754601226995, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum___step": 8, "sum___timestamp": 1679628303, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8c92a19d4ff224db3131.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42012, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8c92a19d4ff224db3131ad67b1c03e7e6c0b02da34b397bc528e3aeded534fc1", "sum___runtime": 28, "sum__computed_per_device_train_batch_size": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_23o7fj2p", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "23o7fj2p", "state": "finished", "id": "sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_2_234054", "created_at": "2023-03-24T03:29:01", "host": "cdr2478.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___timestamp": 1679628252, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___runtime": 28, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-28000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42346, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7a6523a9ebf88d6e1c43e30813221a4d6c8b65152c0d23a494b9465c1ffee148", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7a6523a9ebf88d6e1c43.table.json", "sum___wandb#runtime": 43, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.991851412490692, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.08508935716191, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_23o7fj2p", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "23o7fj2p", "state": "finished", "id": "sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_de7b1ece8c0c1fc5b1758ecf5deac6dc_agg_234054", "created_at": "2023-03-24T03:28:12", "host": "cdr2478.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.991851412490692, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.08508935716191, "sum___wandb#runtime": 39, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7a6523a9ebf88d6e1c43e30813221a4d6c8b65152c0d23a494b9465c1ffee148", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7a6523a9ebf88d6e1c43.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42346, "sum___runtime": 30, "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1679628397, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-28000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1gbodna0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1gbodna0", "state": "finished", "id": "sw_5fb37177c091987dd67024cd5e6835f5_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5fb37177c091987dd67024cd5e6835f5_agg_256788", "created_at": "2023-03-24T02:01:14", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum___timestamp": 1679622656, "sum__ds_examples/ExperimentStage.VALIDATION#size": 40140, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6124c66fb9c3e6b0ad7702849de9af2d8bc126e725d32717abd91c9d0b308a11", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6124c66fb9c3e6b0ad77.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum___wandb#runtime": 143, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.994496365333738, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.133635636169647, "sum___step": 8, "sum___runtime": 27, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1gbodna0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1gbodna0", "state": "finished", "id": "sw_5fb37177c091987dd67024cd5e6835f5_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5fb37177c091987dd67024cd5e6835f5_2_146317", "created_at": "2023-03-24T02:01:01", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8c92a19d4ff224db3131.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42012, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8c92a19d4ff224db3131ad67b1c03e7e6c0b02da34b397bc528e3aeded534fc1", "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___runtime": 27, "sum___timestamp": 1679622606, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 4.022249183818422, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.079754601226995, "sum___wandb#runtime": 43, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1gbodna0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1gbodna0", "state": "finished", "id": "sw_5fb37177c091987dd67024cd5e6835f5_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5fb37177c091987dd67024cd5e6835f5_agg_234054", "created_at": "2023-03-24T01:59:42", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___timestamp": 1679622806, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.991851412490692, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.08508935716191, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum___wandb#runtime": 143, "sum___runtime": 26, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7a6523a9ebf88d6e1c43e30813221a4d6c8b65152c0d23a494b9465c1ffee148", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7a6523a9ebf88d6e1c43.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42346, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1gbodna0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1gbodna0", "state": "finished", "id": "sw_5fb37177c091987dd67024cd5e6835f5_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5fb37177c091987dd67024cd5e6835f5_2_256788", "created_at": "2023-03-24T01:59:29", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum___wandb#runtime": 42, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.133635636169647, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.994496365333738, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum___runtime": 26, "sum___timestamp": 1679622505, "sum__ds_examples/ExperimentStage.VALIDATION#size": 40140, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6124c66fb9c3e6b0ad7702849de9af2d8bc126e725d32717abd91c9d0b308a11", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6124c66fb9c3e6b0ad77.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37yzpqha", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "37yzpqha", "state": "finished", "id": "sw_1abd96ab02306ab08e42b4140ec50d7d_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1abd96ab02306ab08e42b4140ec50d7d_agg_146317", "created_at": "2023-03-24T01:59:23", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum___step": 8, "sum___wandb#runtime": 31, "sum___timestamp": 1679622951, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8c92a19d4ff224db3131ad67b1c03e7e6c0b02da34b397bc528e3aeded534fc1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8c92a19d4ff224db3131.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42012, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___runtime": 25, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 4.022249183818422, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.079754601226995, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385}
{"run_group": "SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37yzpqha", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "37yzpqha", "state": "finished", "id": "sw_1abd96ab02306ab08e42b4140ec50d7d_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1abd96ab02306ab08e42b4140ec50d7d_2_146317", "created_at": "2023-03-24T01:59:10", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 4.022249183818422, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.079754601226995, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8c92a19d4ff224db3131.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42012, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8c92a19d4ff224db3131ad67b1c03e7e6c0b02da34b397bc528e3aeded534fc1", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum___wandb#runtime": 41, "sum___timestamp": 1679622825, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum___step": 8, "sum___runtime": 26, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1gbodna0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1gbodna0", "state": "finished", "id": "sw_5fb37177c091987dd67024cd5e6835f5_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5fb37177c091987dd67024cd5e6835f5_agg_146317", "created_at": "2023-03-24T01:58:43", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8c92a19d4ff224db3131.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42012, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8c92a19d4ff224db3131ad67b1c03e7e6c0b02da34b397bc528e3aeded534fc1", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 4.014967406910195, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.975460122699385, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum___runtime": 26, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___step": 8, "sum___wandb#runtime": 142, "sum___timestamp": 1679622956, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 4.022249183818422, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.079754601226995}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1gbodna0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "1gbodna0", "state": "finished", "id": "sw_5fb37177c091987dd67024cd5e6835f5_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5fb37177c091987dd67024cd5e6835f5_2_234054", "created_at": "2023-03-24T01:58:31", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 42, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum___runtime": 26, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7a6523a9ebf88d6e1c43e30813221a4d6c8b65152c0d23a494b9465c1ffee148", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7a6523a9ebf88d6e1c43.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42346, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.991851412490692, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.08508935716191, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum___timestamp": 1679622555, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952}
{"run_group": "SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37yzpqha", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "37yzpqha", "state": "finished", "id": "sw_1abd96ab02306ab08e42b4140ec50d7d_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1abd96ab02306ab08e42b4140ec50d7d_agg_256788", "created_at": "2023-03-24T01:58:24", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum___step": 8, "sum___wandb#runtime": 32, "sum___runtime": 26, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6124c66fb9c3e6b0ad7702849de9af2d8bc126e725d32717abd91c9d0b308a11", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6124c66fb9c3e6b0ad77.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 40140, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.133635636169647, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.994496365333738, "sum___timestamp": 1679622873, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952}
{"run_group": "SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37yzpqha", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "37yzpqha", "state": "finished", "id": "sw_1abd96ab02306ab08e42b4140ec50d7d_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1abd96ab02306ab08e42b4140ec50d7d_2_256788", "created_at": "2023-03-24T01:57:00", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 41, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.987931715377947, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.030141371032276, "sum___runtime": 26, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.994496365333738, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.133635636169647, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6124c66fb9c3e6b0ad7702849de9af2d8bc126e725d32717abd91c9d0b308a11", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6124c66fb9c3e6b0ad77.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 40140, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum___timestamp": 1679622728, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37yzpqha", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "37yzpqha", "state": "finished", "id": "sw_1abd96ab02306ab08e42b4140ec50d7d_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1abd96ab02306ab08e42b4140ec50d7d_2_234054", "created_at": "2023-03-24T01:56:47", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.08508935716191, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.991851412490692, "sum___step": 8, "sum___wandb#runtime": 41, "sum___timestamp": 1679622776, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum___runtime": 26, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7a6523a9ebf88d6e1c43e30813221a4d6c8b65152c0d23a494b9465c1ffee148", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7a6523a9ebf88d6e1c43.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42346, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952}
{"run_group": "SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37yzpqha", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_sum", "sweep"], "launcher_id": "37yzpqha", "state": "finished", "id": "sw_1abd96ab02306ab08e42b4140ec50d7d_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1abd96ab02306ab08e42b4140ec50d7d_agg_234054", "created_at": "2023-03-24T01:56:32", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_sum", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.modulo_factor": 10, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7a6523a9ebf88d6e1c43.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 42346, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7a6523a9ebf88d6e1c43e30813221a4d6c8b65152c0d23a494b9465c1ffee148", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 3.991851412490692, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.08508935716191, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_sum_sweep___data-s2s_sum-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 40.0952, "sum___step": 8, "sum___wandb#runtime": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 33, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 4.590439734927363, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 40.0952, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6a5585c091feb3b08c14062547c7cdccaf406d0305fcb409aa5eca1c4c25879e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6a5585c091feb3b08c14.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 78280, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 24, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.984199244935928, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.98399573219525, "sum___runtime": 27, "sum___timestamp": 1679622914}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_y7yu2w0r", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "y7yu2w0r", "state": "failed", "id": "sw_4ca5995374896eb60d3012e29d13b90b_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4ca5995374896eb60d3012e29d13b90b_2_256788", "created_at": "2023-03-22T10:13:42", "host": "cn-a011", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum___step": 8, "sum___wandb#runtime": 24, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://12otsz0pl6jzeizxsm4q5m7m1d4y8tf2pnhq9lptqu5r645g1asy8x1p2txcy2xg1nv8aaz4w4cb7io9sqkisuwdh8ggc4fw67ol4reqiop9tfudfy7o7g6i859r5chq:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://12otsz0pl6jzeizxsm4q5m7m1d4y8tf2pnhq9lptqu5r645g1asy8x1p2txcy2xg1nv8aaz4w4cb7io9sqkisuwdh8ggc4fw67ol4reqiop9tfudfy7o7g6i859r5chq:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum___runtime": 24, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum___timestamp": 1679480046, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://2c0suelni0hj71xhf8uaoqtf67dvw4rg4ygvzl1eavhvd74mrmcjv1dfmfp5y5vgmk0cn8dgidviafa5sirngu1rzl8y16wrmgvsfqlb9oyceckhikeddu4ul5n5tu9y:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://2c0suelni0hj71xhf8uaoqtf67dvw4rg4ygvzl1eavhvd74mrmcjv1dfmfp5y5vgmk0cn8dgidviafa5sirngu1rzl8y16wrmgvsfqlb9oyceckhikeddu4ul5n5tu9y:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1900sfuv", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "1900sfuv", "state": "failed", "id": "sw_c0c5293784975c7fd97f32b0658d73b8_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c0c5293784975c7fd97f32b0658d73b8_2_256788", "created_at": "2023-03-22T09:56:55", "host": "cn-c007", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://rv2k5i76gba7a8300z3mmcienwq6yot23bsc5xay7dpdp7lgoq38dbjygg95fa1rqvlsj75sqqzw954k0q0egke3n6pdlw356lj9pndh16pf010l67mn5pje3r0k8ncr:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://rv2k5i76gba7a8300z3mmcienwq6yot23bsc5xay7dpdp7lgoq38dbjygg95fa1rqvlsj75sqqzw954k0q0egke3n6pdlw356lj9pndh16pf010l67mn5pje3r0k8ncr:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum___timestamp": 1679479041, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_num_process": 1, "sum___runtime": 26, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://qu7hfyp5wvyauo60efmjbtvepalc8w1ep01bryg47u9eejbcv195rg7g6gso1vs4w6ayu1wz7zn4sug8t5lz9u9juztwhgg8tnp1igm5kancxw09lnn7shsnl47i1a9b:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://qu7hfyp5wvyauo60efmjbtvepalc8w1ep01bryg47u9eejbcv195rg7g6gso1vs4w6ayu1wz7zn4sug8t5lz9u9juztwhgg8tnp1igm5kancxw09lnn7shsnl47i1a9b:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum___wandb#runtime": 26}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1hysy6nw", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "1hysy6nw", "state": "failed", "id": "sw_f033e27568af4163efb047fa0382e72f_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f033e27568af4163efb047fa0382e72f_2_256788", "created_at": "2023-03-22T09:53:51", "host": "cn-c007", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 26, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 26, "sum___timestamp": 1679478857, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://mmhsopd69g596ss9ma85ateamfavn7d9luiln698yhoewd95du6icw1it5992tylwlnytnvmvj38lzoy0zxsv4ow2qfci7o1fr9a3h051aupoavy8mqpyd8hllhfhak3:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://mmhsopd69g596ss9ma85ateamfavn7d9luiln698yhoewd95du6icw1it5992tylwlnytnvmvj38lzoy0zxsv4ow2qfci7o1fr9a3h051aupoavy8mqpyd8hllhfhak3:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://kxpg5jgwvzirlfb4vo0otwf4sb1n2ml01vsra8e2bvgmd1etf54q2j5fqws1sehlj5qdgqnk5m7q1oj4hz0b0teg4oltz0dpeiob1i92czrzoqkfeoomnel3joah3mcz:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://kxpg5jgwvzirlfb4vo0otwf4sb1n2ml01vsra8e2bvgmd1etf54q2j5fqws1sehlj5qdgqnk5m7q1oj4hz0b0teg4oltz0dpeiob1i92czrzoqkfeoomnel3joah3mcz:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1a7858ry", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "1a7858ry", "state": "failed", "id": "sw_051b80c85ced69e8200a7574c80602a1_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_051b80c85ced69e8200a7574c80602a1_2_256788", "created_at": "2023-03-22T08:15:17", "host": "cn-a008", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://rdwm7zrgnx1lp0fgz64e5ficq2d91gngzednru71z3qgs2dfp5kknok84d7rvpvc72ugyae0adpqfmxqd9o5ea07n52dufwfax7x1kmscuwx6rjlpignq04p3f9etkih:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://rdwm7zrgnx1lp0fgz64e5ficq2d91gngzednru71z3qgs2dfp5kknok84d7rvpvc72ugyae0adpqfmxqd9o5ea07n52dufwfax7x1kmscuwx6rjlpignq04p3f9etkih:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum___timestamp": 1679472939, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://15sqc82srdtql9kjcw71fu742yfu6mm7dldvo9x9ztxuxg071as6zy65rv9azhgd1xsxelaatsa5ii7swx0dkakakhq3pcjrj502skm66gazgy42nefv0wb67wkvx91i:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://15sqc82srdtql9kjcw71fu742yfu6mm7dldvo9x9ztxuxg071as6zy65rv9azhgd1xsxelaatsa5ii7swx0dkakakhq3pcjrj502skm66gazgy42nefv0wb67wkvx91i:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum___step": 8, "sum__computed_num_process": 1, "sum___wandb#runtime": 22, "sum___runtime": 22}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_31nms4fu", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "31nms4fu", "state": "failed", "id": "sw_7157f88ab3f8189e6791945f85d28fe0_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_7157f88ab3f8189e6791945f85d28fe0_2_256788", "created_at": "2023-03-22T08:09:39", "host": "cn-a007", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum___runtime": 26, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://14xuwnas2xpxy4k9qlebjzy7vr7kyq38nuhdub677p32e7eo7262q59gp2ngk0cmahunaybyei1xbwo65x3zb673pqw75smav5l3f49k9vu72slyfack0jdlp2nn21r4:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://14xuwnas2xpxy4k9qlebjzy7vr7kyq38nuhdub677p32e7eo7262q59gp2ngk0cmahunaybyei1xbwo65x3zb673pqw75smav5l3f49k9vu72slyfack0jdlp2nn21r4:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum___step": 8, "sum___wandb#runtime": 26, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://1772u5k2z3xefeqdyffjxl01684jumqdkuspl7p146onij4rpbwr8wibstj9cjx70cu2o10rwgq5jtufru62p8jqqn76j7c9zrkpn93zh3obk74nvuu1jv7ipi7m9aeu:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://1772u5k2z3xefeqdyffjxl01684jumqdkuspl7p146onij4rpbwr8wibstj9cjx70cu2o10rwgq5jtufru62p8jqqn76j7c9zrkpn93zh3obk74nvuu1jv7ipi7m9aeu:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum___timestamp": 1679472604}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1q9jmx5y", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "1q9jmx5y", "state": "failed", "id": "sw_ac4233dc960ab285b0f43b85c5eaac7e_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ac4233dc960ab285b0f43b85c5eaac7e_2_256788", "created_at": "2023-03-22T07:56:33", "host": "cn-a009", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://aucu658sc7oxe5blwuoa5civ1qhqh7q17o4w6rqok2uwxi820exet3xkvj4rdneamu91kyi95bsweepv08zfbhe1yeeldbaicrg6k48eppkc1ykxozycil1w6j0ro5nm:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://aucu658sc7oxe5blwuoa5civ1qhqh7q17o4w6rqok2uwxi820exet3xkvj4rdneamu91kyi95bsweepv08zfbhe1yeeldbaicrg6k48eppkc1ykxozycil1w6j0ro5nm:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum___wandb#runtime": 23, "sum___runtime": 23, "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://ia529id2y9of8zpwe18po155xrz2p9kyt71aqj9ozhtq19coqf5al8jlcrp2fklcwg1h5p67kcy4uwy49952d4sx71s0s3sc9a2w9bqerofcq71tz3jgrqrrrod83dt0:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://ia529id2y9of8zpwe18po155xrz2p9kyt71aqj9ozhtq19coqf5al8jlcrp2fklcwg1h5p67kcy4uwy49952d4sx71s0s3sc9a2w9bqerofcq71tz3jgrqrrrod83dt0:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum___timestamp": 1679471816, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_b8zwislm", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "b8zwislm", "state": "failed", "id": "sw_17ed0bc11b6f5f6f5def1be5a8c82ef9_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_17ed0bc11b6f5f6f5def1be5a8c82ef9_2_256788", "created_at": "2023-03-22T07:55:07", "host": "cn-a007", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 24, "sum___runtime": 24, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://17eljd9sv023cias5ypdhly10zkle65ilz9beqvhmeqjtqeybkgjgu0gf434j7hbgj8su841xbroxrvlap5lqlnr1lbenb1mr5vqd7sl40us3vzljwc4e1rzktaw2g9l:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://17eljd9sv023cias5ypdhly10zkle65ilz9beqvhmeqjtqeybkgjgu0gf434j7hbgj8su841xbroxrvlap5lqlnr1lbenb1mr5vqd7sl40us3vzljwc4e1rzktaw2g9l:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___timestamp": 1679471731, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://elvu77f75wiw9kgw12okf99u0alalhgdhz92pgbgyjrj0i2lbbsmfv32nt1l0dtyiq025jfs0w7jk7fps12cx3kasva1oblem07pmn51ri1vbjcdprp4dkupahfs01z3:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://elvu77f75wiw9kgw12okf99u0alalhgdhz92pgbgyjrj0i2lbbsmfv32nt1l0dtyiq025jfs0w7jk7fps12cx3kasva1oblem07pmn51ri1vbjcdprp4dkupahfs01z3:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2fr8ffwm", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "2fr8ffwm", "state": "failed", "id": "sw_976cd2b47b8f74324fdfc33818c24065_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_976cd2b47b8f74324fdfc33818c24065_2_256788", "created_at": "2023-03-22T07:53:45", "host": "cn-a005", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 21, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://srgw92oztntetsa7qxo1uf6v6uiwxz8wyqafa4ad0f50up4453r2nvvvp2ufkr6pfm9hy49efdywbgwybhpkrxr9d1i2d5ll9wjsav731u124tluwo9inl57f8wpnkju:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://srgw92oztntetsa7qxo1uf6v6uiwxz8wyqafa4ad0f50up4453r2nvvvp2ufkr6pfm9hy49efdywbgwybhpkrxr9d1i2d5ll9wjsav731u124tluwo9inl57f8wpnkju:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum___timestamp": 1679471645, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum___step": 8, "sum___runtime": 21, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://mwp6rpuwdo0advs4jdrwrhsktc2x1v9c7jc9jpe8k27jemg5cenih71ub8sri5g5dgmml8ccus4pd350rdlhv0w3u0yrlk6931b750b5hx4f9ahs7csiibhb6wfbs9i0:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://mwp6rpuwdo0advs4jdrwrhsktc2x1v9c7jc9jpe8k27jemg5cenih71ub8sri5g5dgmml8ccus4pd350rdlhv0w3u0yrlk6931b750b5hx4f9ahs7csiibhb6wfbs9i0:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_386temuj", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "386temuj", "state": "failed", "id": "sw_5c78e69046dc43c65858f00b180f3da7_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5c78e69046dc43c65858f00b180f3da7_2_256788", "created_at": "2023-03-22T07:46:51", "host": "cn-a005", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum___wandb#runtime": 24, "sum___runtime": 24, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://7yws58wu7w661n1nj6ow5ddmcdznyquqkjooiy4ytawg8xmrawk9ehiac0n868n41h7z580n0s202z2m7mor5igoe8nepcky9htbn8j0i2bfah6se6e02xhz3yhydayu:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://7yws58wu7w661n1nj6ow5ddmcdznyquqkjooiy4ytawg8xmrawk9ehiac0n868n41h7z580n0s202z2m7mor5igoe8nepcky9htbn8j0i2bfah6se6e02xhz3yhydayu:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679471235, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://ewo9ooslph61xtiyrdq9ept4pz00wvcmp9spc68avq05u521qz4ejchh7r79vq4bfluvrasy0kpeur95ocj7g7l49nvv3uojt4vyoawqjee3zdsgd5cih4gobwp77tc4:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://ewo9ooslph61xtiyrdq9ept4pz00wvcmp9spc68avq05u521qz4ejchh7r79vq4bfluvrasy0kpeur95ocj7g7l49nvv3uojt4vyoawqjee3zdsgd5cih4gobwp77tc4:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2dl1dzmu", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "2dl1dzmu", "state": "failed", "id": "sw_105ae53367f08974dacb84a820da6770_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_105ae53367f08974dacb84a820da6770_2_256788", "created_at": "2023-03-22T07:44:24", "host": "cn-c007", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://172fvq04574o6w7z1zqwyombod9n3pm3ce5xxqpaadfwmm11jt7ywgmw29qk91yqinmgkgynnzm725igti7ti9hidde7mxcvnh2n77g5mrhaxe6pl157rw56ifkwr58m:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://172fvq04574o6w7z1zqwyombod9n3pm3ce5xxqpaadfwmm11jt7ywgmw29qk91yqinmgkgynnzm725igti7ti9hidde7mxcvnh2n77g5mrhaxe6pl157rw56ifkwr58m:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://zikdbjyz6narjz6t9niuh0mlh7pd41e13gn52eo7yldykc0doqx35il6vvrav66pve8k3k9yczz4jcaj57weesc2cj0x6o9maetde1vnd0gbxw3ry0kt9moemh5k6ub0:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://zikdbjyz6narjz6t9niuh0mlh7pd41e13gn52eo7yldykc0doqx35il6vvrav66pve8k3k9yczz4jcaj57weesc2cj0x6o9maetde1vnd0gbxw3ry0kt9moemh5k6ub0:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum___wandb#runtime": 25, "sum___runtime": 26, "sum___timestamp": 1679471090, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_29gr2m0e", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "29gr2m0e", "state": "failed", "id": "sw_ddb934930e8fb6799b24a2ce51fb3658_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ddb934930e8fb6799b24a2ce51fb3658_2_256788", "created_at": "2023-03-22T07:40:40", "host": "cn-a005", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum___timestamp": 1679470863, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum___runtime": 23, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://18bzo279ga8x1gaf0kfpt7xzsck30gj0tofh78zw61aeji8tvdukeon8udw8n0qfuq664x4ttlqfjhdicfya0b52fsy1rhww3smlps65pe5o4s75apqd9zn2aergjpg3:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://18bzo279ga8x1gaf0kfpt7xzsck30gj0tofh78zw61aeji8tvdukeon8udw8n0qfuq664x4ttlqfjhdicfya0b52fsy1rhww3smlps65pe5o4s75apqd9zn2aergjpg3:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum___step": 8, "sum___wandb#runtime": 23, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://bsgs5plmahlu1n9b8s6fu73guasfv0kbe0gjuh14j03mur3mwvuceiiuo1y2iawhh5xd9slgqzua33zecwa49un44m4923uifaqfoex9ejcuoiyd2cyo7xzy7y78jjy7:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://bsgs5plmahlu1n9b8s6fu73guasfv0kbe0gjuh14j03mur3mwvuceiiuo1y2iawhh5xd9slgqzua33zecwa49un44m4923uifaqfoex9ejcuoiyd2cyo7xzy7y78jjy7:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_gdii8vfh", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "gdii8vfh", "state": "failed", "id": "sw_e9064b52bf0b12eb11dc38dd7ab0bc5a_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e9064b52bf0b12eb11dc38dd7ab0bc5a_2_256788", "created_at": "2023-03-22T07:37:35", "host": "cn-a005", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum___step": 8, "sum___wandb#runtime": 21, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://en8zr93i6077qxrbx8wjlo9vdl3vpx5vmuhuvuyb4dawr0ywlalkzbk3zvwza8i8ntqkabhejurlfcc57idcnp1usatm1ft19tuh29q5gxovrvsjqtxu107wkz1vli8t:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://en8zr93i6077qxrbx8wjlo9vdl3vpx5vmuhuvuyb4dawr0ywlalkzbk3zvwza8i8ntqkabhejurlfcc57idcnp1usatm1ft19tuh29q5gxovrvsjqtxu107wkz1vli8t:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum___timestamp": 1679470676, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum___runtime": 21, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://difdexau0chc4yii0sxv1yzre774azr71hpn81c3z24jk1d11i4l7xhbcm8zw08sr8j4vmjus6sd7p1j3yrn9gx5xeue98nxyypypdyf68gnwaaz3t7gxwgenqgce8bv:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://difdexau0chc4yii0sxv1yzre774azr71hpn81c3z24jk1d11i4l7xhbcm8zw08sr8j4vmjus6sd7p1j3yrn9gx5xeue98nxyypypdyf68gnwaaz3t7gxwgenqgce8bv:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_r18hokdo", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "r18hokdo", "state": "failed", "id": "sw_bf38016c5798221a166b115a9f8328ad_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bf38016c5798221a166b115a9f8328ad_2_256788", "created_at": "2023-03-22T07:17:45", "host": "cn-a002", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum___step": 8, "sum___wandb#runtime": 24, "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://b3nurx3rd4tq77x0i7akhpot99g5rrv70mhxo3dn31q0bamdc3103wx81m4hiqdstahvjn7zbqyw6zrs2jqwqh15xqn27kkq647ghowvvxdgzpy03tl5c23o53ap0v90:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://b3nurx3rd4tq77x0i7akhpot99g5rrv70mhxo3dn31q0bamdc3103wx81m4hiqdstahvjn7zbqyw6zrs2jqwqh15xqn27kkq647ghowvvxdgzpy03tl5c23o53ap0v90:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum___runtime": 24, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://f0sljtl0kg4syvkgx0245bi1bhonlldvlgn8blbsoh29nrmgm2s6n1tbbmoaxxm90crsnylslw25cjc21telev4wfnqnmexsa395kwdkous7ct2nw1vehw5nv6afq098:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://f0sljtl0kg4syvkgx0245bi1bhonlldvlgn8blbsoh29nrmgm2s6n1tbbmoaxxm90crsnylslw25cjc21telev4wfnqnmexsa395kwdkous7ct2nw1vehw5nv6afq098:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum___timestamp": 1679469489, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1u09t3d1", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "1u09t3d1", "state": "failed", "id": "sw_310553ba71fad13cc7a7690b08a615df_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_310553ba71fad13cc7a7690b08a615df_2_256788", "created_at": "2023-03-22T07:09:38", "host": "cn-a001", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679469001, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://8wgk8syiej7yg01z9vxnxo8g39d7b6c816f177onkjox9tbk8s2xnrzp2cm9qlchbz7dre29jdksqi8juoin8a2a3b8i98mq9yfqkj9nny3vt0v2rnipqelz7045ba2x:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://8wgk8syiej7yg01z9vxnxo8g39d7b6c816f177onkjox9tbk8s2xnrzp2cm9qlchbz7dre29jdksqi8juoin8a2a3b8i98mq9yfqkj9nny3vt0v2rnipqelz7045ba2x:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___runtime": 23, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://12rfzee35nbsjx9r0jc5gw8ntpy23xlw3pya5scshj9ecgzq4nbp8ebyksu0sr2cvfhzpoa2tyck48ozaqdtclxmcg6xi9c4lhi7jcf2nxee3e8kocec6gh7b2f4v5ex:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://12rfzee35nbsjx9r0jc5gw8ntpy23xlw3pya5scshj9ecgzq4nbp8ebyksu0sr2cvfhzpoa2tyck48ozaqdtclxmcg6xi9c4lhi7jcf2nxee3e8kocec6gh7b2f4v5ex:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum___wandb#runtime": 23, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_tqj93x7t", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "tqj93x7t", "state": "failed", "id": "sw_7f0fcabdf102ea556275c6b48f6a8e1c_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_7f0fcabdf102ea556275c6b48f6a8e1c_2_256788", "created_at": "2023-03-22T07:09:08", "host": "cn-a006", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-194-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Quadro RTX 8000", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 22, "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://15pkg00eb28qiabceva0l8lqkllgqmf2yyj3uqb65ylnc27v9skvp2r9prkwhjtyliuqr62477n7mrpbyk6at0fdnt1z3kb8gm4zr1cs90bvm3m3khgp5as5tdo6vs8b:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://15pkg00eb28qiabceva0l8lqkllgqmf2yyj3uqb65ylnc27v9skvp2r9prkwhjtyliuqr62477n7mrpbyk6at0fdnt1z3kb8gm4zr1cs90bvm3m3khgp5as5tdo6vs8b:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum___runtime": 23, "sum___timestamp": 1679468970, "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://nqmn5xfe7zggxq27g22d9xfhjo2tow99tddvvr3ch1lf8fv3j0pkc6g9wluch8hmmwosht1ppkdaiq0rov8oautq3qrc6xpfdtk4rc3xf6h6l86mslpvbycropevgeoo:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://nqmn5xfe7zggxq27g22d9xfhjo2tow99tddvvr3ch1lf8fv3j0pkc6g9wluch8hmmwosht1ppkdaiq0rov8oautq3qrc6xpfdtk4rc3xf6h6l86mslpvbycropevgeoo:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_qsxl8e6p", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "qsxl8e6p", "state": "failed", "id": "sw_b99bb9271e955c418a3d7c79ee4f7020_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_b99bb9271e955c418a3d7c79ee4f7020_2_256788", "created_at": "2023-03-22T04:21:08", "host": "cdr2556.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum___step": 8, "sum___wandb#runtime": 26, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___runtime": 26, "sum___timestamp": 1679458748, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37pby2xo", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "37pby2xo", "state": "failed", "id": "sw_768846973819e5a7cf9ebab6b18c7e80_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_768846973819e5a7cf9ebab6b18c7e80_2_256788", "created_at": "2023-03-22T03:39:48", "host": "cdr2562.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 40, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum___timestamp": 1679456297, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___runtime": 39, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7"}
{"run_group": "SW-t5_dec_base_pe_rotary_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2u8xfqpc", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "2u8xfqpc", "state": "failed", "id": "sw_aeeec082d18e7640e91a0abaeeda324b_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aeeec082d18e7640e91a0abaeeda324b_2_256788", "created_at": "2023-03-22T03:27:04", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum___runtime": 26, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum___wandb#runtime": 27, "sum__computed_num_process": 1, "sum___timestamp": 1679455602, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_25twa0f2", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "25twa0f2", "state": "failed", "id": "sw_2fb03cbc368f05e5dd1061b06bc1b6db_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2fb03cbc368f05e5dd1061b06bc1b6db_2_256788", "created_at": "2023-03-22T02:55:03", "host": "cdr2537.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum___runtime": 25, "sum___timestamp": 1679453582, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum___wandb#runtime": 26, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3"}
{"run_group": "SW-t5_dec_base_pe_none_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_38vsn3q7", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "38vsn3q7", "state": "failed", "id": "sw_5f9b45aa58c217b17d75b5a543d0ca21_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5f9b45aa58c217b17d75b5a543d0ca21_2_256788", "created_at": "2023-03-22T02:22:01", "host": "cdr2559.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum___wandb#runtime": 28, "sum___timestamp": 1679451592, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum___runtime": 28}
{"run_group": "SW-t5_dec_base_pe_t5_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2wvlayor", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "2wvlayor", "state": "failed", "id": "sw_60b35afd57e23d6a55b42ac92aad211d_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_60b35afd57e23d6a55b42ac92aad211d_2_256788", "created_at": "2023-03-22T02:13:31", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679451176, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum___step": 8, "sum___runtime": 29, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum___wandb#runtime": 30, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2co19e59", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "2co19e59", "state": "failed", "id": "sw_802496afe34a4ecb722a0ea1a563f54f_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_802496afe34a4ecb722a0ea1a563f54f_2_256788", "created_at": "2023-03-22T02:07:34", "host": "cdr2558.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 26, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum___timestamp": 1679450749, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum___step": 8, "sum___runtime": 26, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25}
{"run_group": "SW-t5_dec_base_pe_alibi_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_eva9cmvd", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "eva9cmvd", "state": "failed", "id": "sw_e7147f576ae088149baad37414118771_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e7147f576ae088149baad37414118771_2_256788", "created_at": "2023-03-22T02:05:28", "host": "cdr2559.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum___step": 8, "sum___wandb#runtime": 28, "sum___runtime": 27, "sum___timestamp": 1679450667, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_7kvyt9bp", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "7kvyt9bp", "state": "failed", "id": "sw_fc94fdd315473cb4ed4cec2106c1f917_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fc94fdd315473cb4ed4cec2106c1f917_2_256788", "created_at": "2023-03-22T01:57:07", "host": "cdr2561.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___wandb#runtime": 31, "sum___timestamp": 1679450096, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-24000", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138}
{"run_group": "SW-t5_dec_base_pe_abs_sin_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3oncuvdl", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "3oncuvdl", "state": "failed", "id": "sw_9b287ba58d70d62ac88ad692789ca2cb_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_9b287ba58d70d62ac88ad692789ca2cb_2_256788", "created_at": "2023-03-22T01:52:40", "host": "cdr2562.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/sum.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum___step": 8, "sum___wandb#runtime": 27, "sum___timestamp": 1679449888, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-24000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum___runtime": 26, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_kzwf0fks", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "kzwf0fks", "state": "failed", "id": "sw_9fa98a7f49b7266c20156bf6cd9f98f8_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_9fa98a7f49b7266c20156bf6cd9f98f8_2_256788", "created_at": "2023-03-22T01:01:36", "host": "ng30104.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___runtime": 23, "sum___timestamp": 1679446828, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum___wandb#runtime": 23, "sum__computed_num_process": 1, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7"}
{"run_group": "SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3m4k5pb6", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "3m4k5pb6", "state": "failed", "id": "sw_c15c8f39895015d9cb39a1ff6c8ad715_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c15c8f39895015d9cb39a1ff6c8ad715_2_256788", "created_at": "2023-03-22T00:58:52", "host": "ng20202.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum___step": 8, "sum___wandb#runtime": 19, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum___runtime": 19, "sum___timestamp": 1679446656, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000"}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1k3yd4qo", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "1k3yd4qo", "state": "failed", "id": "sw_189886c6552a34846eae190bc54c60b3_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_189886c6552a34846eae190bc54c60b3_2_256788", "created_at": "2023-03-22T00:22:27", "host": "ng30504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679444444, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum___wandb#runtime": 36, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum___step": 8, "sum___runtime": 36}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ttj9wd5", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "3ttj9wd5", "state": "failed", "id": "sw_50893e08849e6e5bd96dd8b87ad48d86_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_50893e08849e6e5bd96dd8b87ad48d86_2_256788", "created_at": "2023-03-22T00:18:53", "host": "ng30503.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum___wandb#runtime": 33, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum___step": 8, "sum___timestamp": 1679444283, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 32}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3g3ohsrx", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "3g3ohsrx", "state": "failed", "id": "sw_75cc86c56383ac5260db356b5545412a_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_75cc86c56383ac5260db356b5545412a_2_256788", "created_at": "2023-03-22T00:18:22", "host": "ng30503.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___runtime": 27, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum___wandb#runtime": 27, "sum___timestamp": 1679444243, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_28u97x3w", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "28u97x3w", "state": "failed", "id": "sw_9411ddf9ce4893563afd0e0130072bb4_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_9411ddf9ce4893563afd0e0130072bb4_2_256788", "created_at": "2023-03-22T00:10:12", "host": "ng30502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum___runtime": 25, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 25, "sum___timestamp": 1679443745, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_ulm75ewv", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "ulm75ewv", "state": "failed", "id": "sw_7976e260af2f5733c86165ac486767c7_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_7976e260af2f5733c86165ac486767c7_2_256788", "created_at": "2023-03-22T00:09:52", "host": "ng30501.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___runtime": 24, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum___timestamp": 1679443758, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum___step": 8, "sum___wandb#runtime": 25, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-32000"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_en6fp6zc", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "en6fp6zc", "state": "failed", "id": "sw_00075115b5c2024b228a46d09f2bf10e_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_00075115b5c2024b228a46d09f2bf10e_2_256788", "created_at": "2023-03-22T00:09:52", "host": "ng30502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum___wandb#runtime": 21, "sum___runtime": 21, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum___timestamp": 1679443771, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1kf25b6k", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "1kf25b6k", "state": "failed", "id": "sw_bca05ffe0c8e239c4774616fb78d3e91_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bca05ffe0c8e239c4774616fb78d3e91_2_256788", "created_at": "2023-03-21T23:59:17", "host": "ng30604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum___runtime": 22, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum___timestamp": 1679443088, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum___wandb#runtime": 22, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1g31lb85", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "1g31lb85", "state": "failed", "id": "sw_fa2219a97ff4bd8c884537419b14e672_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa2219a97ff4bd8c884537419b14e672_2_256788", "created_at": "2023-03-21T23:58:11", "host": "ng30705.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum___timestamp": 1679443017, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum___step": 8, "sum___wandb#runtime": 24, "sum___runtime": 24, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2l4ln1q4", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_sum", "sweep"], "launcher_id": "2l4ln1q4", "state": "failed", "id": "sw_59b650ef5eb3f26d0ec553f180736ac5_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_59b650ef5eb3f26d0ec553f180736ac5_2_256788", "created_at": "2023-03-21T23:57:48", "host": "ng30603.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "sum", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.input_prompt": "source", "cfg__dataset.is_regression": true, "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.truncate_source": false, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "sum", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "<sep>", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/sum.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/hp_base.jsonnet", "cfg__config_filenames.7": "configs/final.jsonnet", "cfg__config_filenames.8": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 20.6974, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 25, "sum___wandb#runtime": 25, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "4a906f597cb76e54d9fe1e0ec1d6cdb46732e945de9fdc129006fe66a9571eb3", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_4a906f597cb76e54d9fe.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 36634, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___timestamp": 1679443017, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "72350151aedfd08bcaec9dfc4b026b9bcaf66ad4ab11a63e025b7e41bb0b8fb7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_72350151aedfd08bcaec.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 19325, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 2.1615375130520498, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 13.134435849559882, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_sum_sweep___data-sum-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 25, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 17, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 2.325517843406066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 20.6974, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 10.015070685516138, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9939658576889736, "sum___runtime": 24, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_agg_146317", "created_at": "2023-03-21T18:58:10", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum___timestamp": 1679335951, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum___wandb#runtime": 63, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___runtime": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_2_234054", "created_at": "2023-03-21T18:57:54", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 108, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum___runtime": 30, "sum___timestamp": 1679335570, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_agg_234054", "created_at": "2023-03-21T18:57:39", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 31, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___wandb#runtime": 66, "sum___timestamp": 1679335879, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_agg_256788", "created_at": "2023-03-21T18:56:52", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum___runtime": 31, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___wandb#runtime": 66, "sum___timestamp": 1679335806, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_2_146317", "created_at": "2023-03-21T18:56:37", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum___step": 8, "sum___wandb#runtime": 111, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___timestamp": 1679335688, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_24m5wbpc", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "24m5wbpc", "state": "finished", "id": "sw_39074684a758fafdc0733824f90bc6d6_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39074684a758fafdc0733824f90bc6d6_2_256788", "created_at": "2023-03-21T18:56:22", "host": "cdr2532.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum___wandb#runtime": 112, "sum___timestamp": 1679335453, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_agg_234054", "created_at": "2023-03-21T09:18:17", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___wandb#runtime": 120, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum___step": 8, "sum___runtime": 31, "sum___timestamp": 1679389940, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_2_146317", "created_at": "2023-03-21T09:17:29", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___runtime": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679389657, "sum___wandb#runtime": 147, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_agg_256788", "created_at": "2023-03-21T09:17:11", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 120, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___timestamp": 1679389813, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum___runtime": 31, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_2_256788", "created_at": "2023-03-21T09:16:56", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679389341, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum___wandb#runtime": 150, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___runtime": 31, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_2_234054", "created_at": "2023-03-21T09:16:42", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___wandb#runtime": 152, "sum___timestamp": 1679389499, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1k4jxy1s", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1k4jxy1s", "state": "finished", "id": "sw_72d05d5a990311c31da4d839fe727c95_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_72d05d5a990311c31da4d839fe727c95_agg_146317", "created_at": "2023-03-21T09:16:27", "host": "cdr2508.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___runtime": 30, "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1679390067, "sum__computed_num_process": 1, "sum___step": 8, "sum___wandb#runtime": 117, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_20va5o6z", "manual_sweep", "sweep"], "launcher_id": "20va5o6z", "state": "finished", "id": "sw_8fb465a135bedecbc2fb3c356ace5e5a_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8fb465a135bedecbc2fb3c356ace5e5a_agg_234054", "created_at": "2023-03-21T07:02:13", "host": "ng20203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 17, "sum___timestamp": 1679381868, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8d62e903e1c9431921e05c4d9a6a5a0aa3d4aa0eae19f5f463ed1014d17f6c71", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8d62e903e1c9431921e0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78235, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum___wandb#runtime": 62, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.448704138870092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.207901234567903, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_234054/checkpoints/checkpoint-60000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 110, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.880990950571654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.6283950617284}
{"run_group": "SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_20va5o6z", "manual_sweep", "sweep"], "launcher_id": "20va5o6z", "state": "finished", "id": "sw_8fb465a135bedecbc2fb3c356ace5e5a_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8fb465a135bedecbc2fb3c356ace5e5a_2_146317", "created_at": "2023-03-21T07:02:01", "host": "ng20203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b418d06ca67d0d0ba4bc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75011, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b418d06ca67d0d0ba4bc5d215be2f46ea1bf5795b09ef113fa6c74a3319df708", "sum___runtime": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.64123456790123, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 107, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.729572604707723, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.433583680859975, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.289876543209875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum___timestamp": 1679381723, "sum___wandb#runtime": 72, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_146317/checkpoints/checkpoint-60000", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_bqoo8hoo", "manual_sweep", "sweep"], "launcher_id": "bqoo8hoo", "state": "finished", "id": "sw_8fb465a135bedecbc2fb3c356ace5e5a_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8fb465a135bedecbc2fb3c356ace5e5a_2_234054", "created_at": "2023-03-21T07:01:19", "host": "ng30101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum___timestamp": 1679445901, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_234054/checkpoints/checkpoint-94000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.448704138870092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.207901234567903, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 76, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 110, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.880990950571654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.6283950617284, "sum___step": 8, "sum___runtime": 25, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#size": 78235, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8d62e903e1c9431921e05c4d9a6a5a0aa3d4aa0eae19f5f463ed1014d17f6c71", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8d62e903e1c9431921e0.table.json"}
{"run_group": "SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_bqoo8hoo", "manual_sweep", "sweep"], "launcher_id": "bqoo8hoo", "state": "finished", "id": "sw_8fb465a135bedecbc2fb3c356ace5e5a_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8fb465a135bedecbc2fb3c356ace5e5a_agg_146317", "created_at": "2023-03-21T07:00:42", "host": "ng30101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum___wandb#runtime": 120, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_146317/checkpoints/checkpoint-98000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum___step": 8, "sum___runtime": 16, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.729572604707723, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.64123456790123, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 107, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b418d06ca67d0d0ba4bc5d215be2f46ea1bf5795b09ef113fa6c74a3319df708", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b418d06ca67d0d0ba4bc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75011, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.433583680859975, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.289876543209875, "sum___timestamp": 1679446269}
{"run_group": "SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_bqoo8hoo", "manual_sweep", "sweep"], "launcher_id": "bqoo8hoo", "state": "finished", "id": "sw_8fb465a135bedecbc2fb3c356ace5e5a_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8fb465a135bedecbc2fb3c356ace5e5a_agg_256788", "created_at": "2023-03-21T07:00:32", "host": "ng30101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_256788/checkpoints/checkpoint-96000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.565886950602744, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.46469135802469, "sum___step": 8, "sum___wandb#runtime": 155, "sum___timestamp": 1679445959, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7e73624337bb22cbf79d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 79742, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7e73624337bb22cbf79dada1fb398741c4331378295865f1008a0cc2e93eea23", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 120, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 14.020215163350464, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.931604938271605, "sum___runtime": 19, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_20va5o6z", "manual_sweep", "sweep"], "launcher_id": "20va5o6z", "state": "finished", "id": "sw_8fb465a135bedecbc2fb3c356ace5e5a_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8fb465a135bedecbc2fb3c356ace5e5a_2_256788", "created_at": "2023-03-21T07:00:18", "host": "ng20203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 88, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_256788/checkpoints/checkpoint-60000", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum___step": 8, "sum___timestamp": 1679381563, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 30, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7e73624337bb22cbf79d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 79742, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7e73624337bb22cbf79dada1fb398741c4331378295865f1008a0cc2e93eea23", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 14.020215163350464, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.931604938271605, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 120, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.565886950602744, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.46469135802469}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_2_234054", "created_at": "2023-03-21T04:42:27", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum___step": 8, "sum___runtime": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 168, "sum___timestamp": 1679372841, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_234054", "created_at": "2023-03-21T04:42:13", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 134, "sum___timestamp": 1679373335, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___runtime": 31, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_146317", "created_at": "2023-03-21T04:41:58", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum___step": 8, "sum___wandb#runtime": 133, "sum___runtime": 31, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-8000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___timestamp": 1679373477, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_agg_256788", "created_at": "2023-03-21T04:41:45", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 135, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum___runtime": 32, "sum___timestamp": 1679373193, "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_2_256788", "created_at": "2023-03-21T04:41:30", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-14000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___wandb#runtime": 170, "sum___runtime": 33, "sum___timestamp": 1679372664, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2l5qreh3", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2l5qreh3", "state": "finished", "id": "sw_c472fbfa6e5c60264f91eb85f465a9fd_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c472fbfa6e5c60264f91eb85f465a9fd_2_146317", "created_at": "2023-03-21T04:40:10", "host": "cdr2545.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 168, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum___step": 8, "sum___timestamp": 1679373016, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___runtime": 31, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-8000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_agg_146317", "created_at": "2023-03-21T03:00:40", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 701, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___step": 8, "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1679366775, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_agg_234054", "created_at": "2023-03-21T03:00:25", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 708, "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___timestamp": 1679366060, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_agg_256788", "created_at": "2023-03-21T03:00:11", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___runtime": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___timestamp": 1679365339, "sum__computed_num_process": 1, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___wandb#runtime": 713}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_2_234054", "created_at": "2023-03-21T02:59:55", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum___runtime": 33, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___wandb#runtime": 123, "sum___timestamp": 1679365071, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_2_256788", "created_at": "2023-03-21T02:58:38", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679364942, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___runtime": 32, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum___wandb#runtime": 120, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1ezj9mh0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1ezj9mh0", "state": "finished", "id": "sw_4808819928ae02e2c1e287cb90733064_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4808819928ae02e2c1e287cb90733064_2_146317", "created_at": "2023-03-21T02:57:47", "host": "cdr2515.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___wandb#runtime": 130, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum___runtime": 38, "sum___timestamp": 1679365207, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131}
{"run_group": "SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_hgdqbeme", "manual_sweep", "sweep"], "launcher_id": "hgdqbeme", "state": "finished", "id": "sw_ba2b48620259b647946f79a0054bfce9_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ba2b48620259b647946f79a0054bfce9_agg_234054", "created_at": "2023-03-21T02:33:47", "host": "ng10204.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 15, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679365287, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_234054/checkpoints/checkpoint-60000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.448704138870092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.207901234567903, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 110, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.880990950571654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.6283950617284, "sum___step": 8, "sum___wandb#runtime": 312, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8d62e903e1c9431921e05c4d9a6a5a0aa3d4aa0eae19f5f463ed1014d17f6c71", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8d62e903e1c9431921e0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78235, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333}
{"run_group": "SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_hgdqbeme", "manual_sweep", "sweep"], "launcher_id": "hgdqbeme", "state": "finished", "id": "sw_ba2b48620259b647946f79a0054bfce9_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ba2b48620259b647946f79a0054bfce9_2_234054", "created_at": "2023-03-21T02:32:45", "host": "ng10204.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.6283950617284, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 110, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.880990950571654, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum___timestamp": 1679364853, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_234054/checkpoints/checkpoint-60000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8d62e903e1c9431921e05c4d9a6a5a0aa3d4aa0eae19f5f463ed1014d17f6c71", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8d62e903e1c9431921e0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78235, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum___wandb#runtime": 56, "sum___runtime": 19, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.207901234567903, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.448704138870092, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_hgdqbeme", "manual_sweep", "sweep"], "launcher_id": "hgdqbeme", "state": "finished", "id": "sw_ba2b48620259b647946f79a0054bfce9_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ba2b48620259b647946f79a0054bfce9_2_256788", "created_at": "2023-03-21T02:32:06", "host": "ng10204.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.565886950602744, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.46469135802469, "sum___wandb#runtime": 58, "sum___runtime": 19, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_256788/checkpoints/checkpoint-58000", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 14.020215163350464, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.931604938271605, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 120, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7e73624337bb22cbf79d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 79742, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7e73624337bb22cbf79dada1fb398741c4331378295865f1008a0cc2e93eea23", "sum___timestamp": 1679364790, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_27mrtr6a", "manual_sweep", "sweep"], "launcher_id": "27mrtr6a", "state": "finished", "id": "sw_ba2b48620259b647946f79a0054bfce9_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ba2b48620259b647946f79a0054bfce9_agg_256788", "created_at": "2023-03-21T02:31:55", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 327, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum___runtime": 15, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 120, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 14.020215163350464, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.931604938271605, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.565886950602744, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.46469135802469, "sum___timestamp": 1679440140, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_256788/checkpoints/checkpoint-100000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7e73624337bb22cbf79dada1fb398741c4331378295865f1008a0cc2e93eea23", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7e73624337bb22cbf79d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 79742, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_hgdqbeme", "manual_sweep", "sweep"], "launcher_id": "hgdqbeme", "state": "finished", "id": "sw_ba2b48620259b647946f79a0054bfce9_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ba2b48620259b647946f79a0054bfce9_agg_146317", "created_at": "2023-03-21T02:31:45", "host": "ng10204.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b418d06ca67d0d0ba4bc5d215be2f46ea1bf5795b09ef113fa6c74a3319df708", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b418d06ca67d0d0ba4bc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75011, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.433583680859975, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.289876543209875, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_146317/checkpoints/checkpoint-60000", "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 294, "sum___timestamp": 1679365602, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 107, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.729572604707723, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.64123456790123, "sum___runtime": 13, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad"}
{"run_group": "SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_27mrtr6a", "manual_sweep", "sweep"], "launcher_id": "27mrtr6a", "state": "finished", "id": "sw_ba2b48620259b647946f79a0054bfce9_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ba2b48620259b647946f79a0054bfce9_2_146317", "created_at": "2023-03-21T02:31:33", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum___step": 8, "sum___wandb#runtime": 18, "sum___runtime": 15, "sum___timestamp": 1679440117, "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 107, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.729572604707723, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.64123456790123, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_146317/checkpoints/checkpoint-98000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b418d06ca67d0d0ba4bc5d215be2f46ea1bf5795b09ef113fa6c74a3319df708", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b418d06ca67d0d0ba4bc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75011, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.433583680859975, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.289876543209875}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_agg_146317", "created_at": "2023-03-21T02:23:39", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum___step": 8, "sum___wandb#runtime": 60, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679365176, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___runtime": 31, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_2_234054", "created_at": "2023-03-21T02:23:24", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 104, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___timestamp": 1679364815, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum___runtime": 32, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_agg_256788", "created_at": "2023-03-21T02:23:11", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum___timestamp": 1679365038, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum___wandb#runtime": 60, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum___runtime": 31, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_2_256788", "created_at": "2023-03-21T02:22:56", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 109, "sum___runtime": 32, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum___step": 8, "sum___timestamp": 1679364698, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_2_146317", "created_at": "2023-03-21T02:22:10", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___runtime": 32, "sum___timestamp": 1679364927, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___wandb#runtime": 105, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1eyotkmn", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1eyotkmn", "state": "finished", "id": "sw_fa23c7281ad520581162ca6773a0f671_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fa23c7281ad520581162ca6773a0f671_agg_234054", "created_at": "2023-03-21T02:21:57", "host": "cdr2510.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-22000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum___step": 8, "sum___runtime": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___wandb#runtime": 62, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___timestamp": 1679365107, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_26twvle0", "manual_sweep", "sweep"], "launcher_id": "26twvle0", "state": "finished", "id": "sw_dcb2f2f916788ab1cffe9c69937f17bc_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_dcb2f2f916788ab1cffe9c69937f17bc_agg_234054", "created_at": "2023-03-21T02:16:59", "host": "ng10604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum___timestamp": 1679440364, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.448704138870092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.207901234567903, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 78235, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8d62e903e1c9431921e05c4d9a6a5a0aa3d4aa0eae19f5f463ed1014d17f6c71", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8d62e903e1c9431921e0.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum___runtime": 13, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_234054/checkpoints/checkpoint-100000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 110, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.880990950571654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.6283950617284, "sum___wandb#runtime": 327}
{"run_group": "SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_3q091sft", "manual_sweep", "sweep"], "launcher_id": "3q091sft", "state": "finished", "id": "sw_dcb2f2f916788ab1cffe9c69937f17bc_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_dcb2f2f916788ab1cffe9c69937f17bc_agg_256788", "created_at": "2023-03-21T02:16:49", "host": "ng30504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679363985, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 16, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.565886950602744, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.46469135802469, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum___step": 8, "sum___wandb#runtime": 318, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 14.020215163350464, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.931604938271605, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 120, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_256788/checkpoints/checkpoint-60000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 79742, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7e73624337bb22cbf79dada1fb398741c4331378295865f1008a0cc2e93eea23", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7e73624337bb22cbf79d.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653}
{"run_group": "SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_3q091sft", "manual_sweep", "sweep"], "launcher_id": "3q091sft", "state": "finished", "id": "sw_dcb2f2f916788ab1cffe9c69937f17bc_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_dcb2f2f916788ab1cffe9c69937f17bc_2_256788", "created_at": "2023-03-21T02:16:12", "host": "ng30504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum___step": 8, "sum___wandb#runtime": 75, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_256788/checkpoints/checkpoint-60000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7e73624337bb22cbf79dada1fb398741c4331378295865f1008a0cc2e93eea23", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7e73624337bb22cbf79d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 79742, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum___runtime": 28, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.565886950602744, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.46469135802469, "sum___timestamp": 1679363769, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 120, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 14.020215163350464, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.931604938271605}
{"run_group": "SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_26twvle0", "manual_sweep", "sweep"], "launcher_id": "26twvle0", "state": "finished", "id": "sw_dcb2f2f916788ab1cffe9c69937f17bc_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_dcb2f2f916788ab1cffe9c69937f17bc_2_146317", "created_at": "2023-03-21T02:15:37", "host": "ng10604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___runtime": 14, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_146317/checkpoints/checkpoint-100000", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1679440007, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.433583680859975, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.289876543209875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum___wandb#runtime": 16, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b418d06ca67d0d0ba4bc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75011, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b418d06ca67d0d0ba4bc5d215be2f46ea1bf5795b09ef113fa6c74a3319df708", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.64123456790123, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 107, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.729572604707723}
{"run_group": "SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_3q091sft", "manual_sweep", "sweep"], "launcher_id": "3q091sft", "state": "finished", "id": "sw_dcb2f2f916788ab1cffe9c69937f17bc_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_dcb2f2f916788ab1cffe9c69937f17bc_2_234054", "created_at": "2023-03-21T02:15:26", "host": "ng30504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 68, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_234054/checkpoints/checkpoint-60000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.448704138870092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.207901234567903, "sum___step": 8, "sum___runtime": 22, "sum___timestamp": 1679363844, "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8d62e903e1c9431921e05c4d9a6a5a0aa3d4aa0eae19f5f463ed1014d17f6c71", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8d62e903e1c9431921e0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78235, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 110, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.880990950571654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.6283950617284, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653}
{"run_group": "SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_26twvle0", "manual_sweep", "sweep"], "launcher_id": "26twvle0", "state": "finished", "id": "sw_dcb2f2f916788ab1cffe9c69937f17bc_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_dcb2f2f916788ab1cffe9c69937f17bc_agg_146317", "created_at": "2023-03-21T02:15:15", "host": "ng10604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_146317/checkpoints/checkpoint-100000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum___runtime": 13, "sum___timestamp": 1679440696, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 107, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.729572604707723, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.64123456790123, "sum___wandb#runtime": 332, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b418d06ca67d0d0ba4bc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75011, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b418d06ca67d0d0ba4bc5d215be2f46ea1bf5795b09ef113fa6c74a3319df708", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.289876543209875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.433583680859975}
{"run_group": "SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_tmow5sw8", "manual_sweep", "sweep"], "launcher_id": "tmow5sw8", "state": "finished", "id": "sw_a41c7d4f73c38d7de05ab89065467094_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a41c7d4f73c38d7de05ab89065467094_2_256788", "created_at": "2023-03-21T02:12:39", "host": "ng10601.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.565886950602744, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.46469135802469, "sum___runtime": 17, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 51, "sum___timestamp": 1679364346, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7e73624337bb22cbf79d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 79742, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7e73624337bb22cbf79dada1fb398741c4331378295865f1008a0cc2e93eea23", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_256788/checkpoints/checkpoint-56000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 14.020215163350464, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.931604938271605, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 120}
{"run_group": "SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_tmow5sw8", "manual_sweep", "sweep"], "launcher_id": "tmow5sw8", "state": "finished", "id": "sw_a41c7d4f73c38d7de05ab89065467094_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a41c7d4f73c38d7de05ab89065467094_agg_256788", "created_at": "2023-03-21T02:12:29", "host": "ng10601.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7e73624337bb22cbf79d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 79742, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7e73624337bb22cbf79dada1fb398741c4331378295865f1008a0cc2e93eea23", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 14.020215163350464, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.931604938271605, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 120, "sum___wandb#runtime": 27, "sum___runtime": 14, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.565886950602744, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.46469135802469, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_256788/checkpoints/checkpoint-56000", "sum___timestamp": 1679364514}
{"run_group": "SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_3b27nkwi", "manual_sweep", "sweep"], "launcher_id": "3b27nkwi", "state": "finished", "id": "sw_a41c7d4f73c38d7de05ab89065467094_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a41c7d4f73c38d7de05ab89065467094_2_146317", "created_at": "2023-03-21T02:11:50", "host": "ng11003.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 38, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_146317/checkpoints/checkpoint-98000", "sum___timestamp": 1679440750, "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75011, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b418d06ca67d0d0ba4bc5d215be2f46ea1bf5795b09ef113fa6c74a3319df708", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b418d06ca67d0d0ba4bc.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.729572604707723, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.64123456790123, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 107, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum___runtime": 36, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.433583680859975, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.289876543209875, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653}
{"run_group": "SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_tmow5sw8", "manual_sweep", "sweep"], "launcher_id": "tmow5sw8", "state": "finished", "id": "sw_a41c7d4f73c38d7de05ab89065467094_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a41c7d4f73c38d7de05ab89065467094_agg_146317", "created_at": "2023-03-21T02:11:40", "host": "ng10601.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b418d06ca67d0d0ba4bc5d215be2f46ea1bf5795b09ef113fa6c74a3319df708", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b418d06ca67d0d0ba4bc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75011, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_146317/checkpoints/checkpoint-58000", "sum___timestamp": 1679364580, "sum___runtime": 15, "sum___wandb#runtime": 28, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.64123456790123, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 107, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.729572604707723, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.289876543209875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.433583680859975, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_3b27nkwi", "manual_sweep", "sweep"], "launcher_id": "3b27nkwi", "state": "finished", "id": "sw_a41c7d4f73c38d7de05ab89065467094_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a41c7d4f73c38d7de05ab89065467094_2_234054", "created_at": "2023-03-21T02:10:38", "host": "ng11003.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 37, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_234054/checkpoints/checkpoint-96000", "sum___timestamp": 1679440702, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 110, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.880990950571654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.6283950617284, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.448704138870092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.207901234567903, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 76, "sum___step": 8, "sum___runtime": 33, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8d62e903e1c9431921e0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78235, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8d62e903e1c9431921e05c4d9a6a5a0aa3d4aa0eae19f5f463ed1014d17f6c71", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30}
{"run_group": "SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_3b27nkwi", "manual_sweep", "sweep"], "launcher_id": "3b27nkwi", "state": "finished", "id": "sw_a41c7d4f73c38d7de05ab89065467094_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a41c7d4f73c38d7de05ab89065467094_agg_234054", "created_at": "2023-03-21T02:10:27", "host": "ng11003.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8d62e903e1c9431921e0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78235, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8d62e903e1c9431921e05c4d9a6a5a0aa3d4aa0eae19f5f463ed1014d17f6c71", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 110, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.880990950571654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.6283950617284, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.448704138870092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.207901234567903, "sum___runtime": 22, "sum___timestamp": 1679440854, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_234054/checkpoints/checkpoint-96000", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum___wandb#runtime": 61}
{"run_group": "SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_10fmychn", "manual_sweep", "sweep"], "launcher_id": "10fmychn", "state": "finished", "id": "sw_ca1b594c887bfc9199fcd06168302fa5_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca1b594c887bfc9199fcd06168302fa5_agg_146317", "created_at": "2023-03-21T01:51:24", "host": "ng30601.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 27, "sum___runtime": 13, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.433583680859975, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.289876543209875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b418d06ca67d0d0ba4bc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75011, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b418d06ca67d0d0ba4bc5d215be2f46ea1bf5795b09ef113fa6c74a3319df708", "sum___timestamp": 1679363326, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_146317/checkpoints/checkpoint-60000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.729572604707723, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.64123456790123, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 107, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13}
{"run_group": "SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_10fmychn", "manual_sweep", "sweep"], "launcher_id": "10fmychn", "state": "finished", "id": "sw_ca1b594c887bfc9199fcd06168302fa5_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca1b594c887bfc9199fcd06168302fa5_agg_256788", "created_at": "2023-03-21T01:51:14", "host": "ng30601.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum___runtime": 16, "sum___timestamp": 1679363260, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_256788/checkpoints/checkpoint-60000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7e73624337bb22cbf79d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 79742, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7e73624337bb22cbf79dada1fb398741c4331378295865f1008a0cc2e93eea23", "sum___step": 8, "sum___wandb#runtime": 30, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 120, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 14.020215163350464, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.931604938271605, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.565886950602744, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.46469135802469, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10}
{"run_group": "SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_3fknk7pc", "manual_sweep", "sweep"], "launcher_id": "3fknk7pc", "state": "finished", "id": "sw_ca1b594c887bfc9199fcd06168302fa5_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca1b594c887bfc9199fcd06168302fa5_2_256788", "created_at": "2023-03-21T01:51:03", "host": "ng30601.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum___runtime": 21, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 120, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 14.020215163350464, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.931604938271605, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.46469135802469, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.565886950602744, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum___timestamp": 1679439022, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_256788/checkpoints/checkpoint-100000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7e73624337bb22cbf79d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 79742, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7e73624337bb22cbf79dada1fb398741c4331378295865f1008a0cc2e93eea23", "sum___wandb#runtime": 25}
{"run_group": "SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "classic", "classic_pcfg", "launched_by_3fknk7pc", "manual_sweep", "sweep"], "launcher_id": "3fknk7pc", "state": "finished", "id": "sw_ca1b594c887bfc9199fcd06168302fa5_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca1b594c887bfc9199fcd06168302fa5_agg_234054", "created_at": "2023-03-21T01:50:30", "host": "ng30601.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679439160, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_234054/checkpoints/checkpoint-96000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.448704138870092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.207901234567903, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8d62e903e1c9431921e0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78235, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8d62e903e1c9431921e05c4d9a6a5a0aa3d4aa0eae19f5f463ed1014d17f6c71", "sum___wandb#runtime": 56, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.6283950617284, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 110, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.880990950571654, "sum___runtime": 16, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653}
{"run_group": "SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_10fmychn", "manual_sweep", "sweep"], "launcher_id": "10fmychn", "state": "finished", "id": "sw_ca1b594c887bfc9199fcd06168302fa5_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca1b594c887bfc9199fcd06168302fa5_2_234054", "created_at": "2023-03-21T01:49:52", "host": "ng30601.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 60000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 110, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.880990950571654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.6283950617284, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.448704138870092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.207901234567903, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 76, "sum___wandb#runtime": 50, "sum___runtime": 19, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_234054/checkpoints/checkpoint-58000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum___step": 8, "sum___timestamp": 1679363155, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_8d62e903e1c9431921e0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78235, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "8d62e903e1c9431921e05c4d9a6a5a0aa3d4aa0eae19f5f463ed1014d17f6c71"}
{"run_group": "SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "job_type": "attn_analysis2", "tags": ["attention_analysis", "classic", "classic_pcfg", "launched_by_3fknk7pc", "manual_sweep", "sweep"], "launcher_id": "3fknk7pc", "state": "finished", "id": "sw_ca1b594c887bfc9199fcd06168302fa5_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca1b594c887bfc9199fcd06168302fa5_2_146317", "created_at": "2023-03-21T01:49:42", "host": "ng30601.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "pcfg", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "md_productivity", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "src", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "pcfg_bos", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 100000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/pcfg.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679439074, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "508b1c3951582dd894a513096b9d47d77534a34e0e278cdc3384477fc2e950ad", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_508b1c3951582dd894a5.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 153159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b418d06ca67d0d0ba4bc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75011, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b418d06ca67d0d0ba4bc5d215be2f46ea1bf5795b09ef113fa6c74a3319df708", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 512, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 11.433583680859975, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 29.289876543209875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 77, "sum___wandb#runtime": 18, "sum___runtime": 14, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_pcfg_sweep___data-pcfg-md_productivity/exps/best_run_seed_146317/checkpoints/checkpoint-100000", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 70.93805700167653, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 512, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 30, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 20.67260968815333, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 107, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 13.729572604707723, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 38.64123456790123}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_agg_146317", "created_at": "2023-03-21T00:29:13", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___runtime": 33, "sum___timestamp": 1679357640, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___wandb#runtime": 735, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_2_146317", "created_at": "2023-03-21T00:28:59", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___timestamp": 1679355966, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___wandb#runtime": 139, "sum___runtime": 35, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_agg_256788", "created_at": "2023-03-21T00:28:15", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 770, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum___step": 8, "sum___runtime": 37, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___timestamp": 1679356121}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_2_256788", "created_at": "2023-03-21T00:28:01", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 109, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___wandb#runtime": 222, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___timestamp": 1679355662, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_2_234054", "created_at": "2023-03-21T00:26:39", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 140, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum___step": 8, "sum___runtime": 34, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum___timestamp": 1679355817, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37azcexf", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "37azcexf", "state": "finished", "id": "sw_df562956fd00242b68ec2f6720d621ba_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_df562956fd00242b68ec2f6720d621ba_agg_234054", "created_at": "2023-03-21T00:26:24", "host": "cdr2530.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 34, "sum___timestamp": 1679356895, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum___wandb#runtime": 738, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_agg_146317", "created_at": "2023-03-21T00:20:19", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 33, "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum___step": 8, "sum___wandb#runtime": 62, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum___timestamp": 1679357745, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_agg_256788", "created_at": "2023-03-21T00:18:57", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___runtime": 31, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum___step": 8, "sum___wandb#runtime": 60, "sum___timestamp": 1679357603, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_2_234054", "created_at": "2023-03-21T00:18:44", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___runtime": 33, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum___timestamp": 1679357381, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum___wandb#runtime": 107}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_agg_234054", "created_at": "2023-03-21T00:17:57", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5f77376b7d207ed3dd8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 117348, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5f77376b7d207ed3dd8bdf0dce557aa5cc765661862d443b24bc7c830effd9fa", "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 40.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum___wandb#runtime": 66, "sum___timestamp": 1679357671}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_2_146317", "created_at": "2023-03-21T00:17:43", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.86429143314652, "sum___step": 8, "sum___timestamp": 1679357495, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ab978fcb755db450665.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 127286, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ab978fcb755db4506656b1b6b96ee6d9b3bb1e361d432e3c6c21441fc26e8f6", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum___wandb#runtime": 101, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2r1okmta", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2r1okmta", "state": "finished", "id": "sw_ed5382015d199e62e3dc91a9ab67b793_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ed5382015d199e62e3dc91a9ab67b793_2_256788", "created_at": "2023-03-21T00:17:23", "host": "cdr2503.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 113, "sum___timestamp": 1679357261, "sum__computed_num_process": 1, "sum___runtime": 33, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 67, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 13, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 39.914731785428344, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_79177656d9e80fa4ebcb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 123846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "79177656d9e80fa4ebcb42c543aedbcc7a7a11582b769b3e54526d082113e93b", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 70, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 98.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 70, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "23f0aa0f839b35ce1e027949de84ed92e92cc2afa6b63c8027cfe65a546a01fe", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_23f0aa0f839b35ce1e02.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 417892}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_146317", "created_at": "2023-03-20T21:29:19", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___step": 8, "sum___wandb#runtime": 105, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum___runtime": 33, "sum___timestamp": 1679347503, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_256788", "created_at": "2023-03-20T21:29:07", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 115, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum___runtime": 33, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum___step": 8, "sum___timestamp": 1679347269, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_256788", "created_at": "2023-03-20T21:28:22", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum___step": 8, "sum___wandb#runtime": 139, "sum___timestamp": 1679346850, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum___runtime": 37, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_234054", "created_at": "2023-03-20T21:27:38", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum___step": 8, "sum___wandb#runtime": 135, "sum___runtime": 36, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum___timestamp": 1679346997, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_2_146317", "created_at": "2023-03-20T21:27:25", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 125, "sum___timestamp": 1679347137, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___runtime": 33, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_adxrs562", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "adxrs562", "state": "finished", "id": "sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d1d3a2cbb9d882bc1f8fe964fc4a6e0d_agg_234054", "created_at": "2023-03-20T21:26:39", "host": "cdr2549.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum___step": 8, "sum___wandb#runtime": 103, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum___timestamp": 1679347392, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___runtime": 32, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-4000", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_2_256788", "created_at": "2023-03-20T20:01:54", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679339608, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum___step": 8, "sum___wandb#runtime": 152, "sum___runtime": 33, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_2_146317", "created_at": "2023-03-20T20:01:30", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___timestamp": 1679339930, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum___wandb#runtime": 157, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___runtime": 35, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_agg_146317", "created_at": "2023-03-20T20:01:15", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___runtime": 31, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum___wandb#runtime": 751, "sum___timestamp": 1679341608, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_agg_256788", "created_at": "2023-03-20T19:59:58", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum___step": 8, "sum___wandb#runtime": 760, "sum__computed_num_process": 1, "sum___runtime": 37, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum___timestamp": 1679340096, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_agg_234054", "created_at": "2023-03-20T19:59:44", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 31, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum___wandb#runtime": 742, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_num_process": 1, "sum___timestamp": 1679340858, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1yzksrv0", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1yzksrv0", "state": "finished", "id": "sw_3cf260be3c6faad55a6dd9bb91147c47_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3cf260be3c6faad55a6dd9bb91147c47_2_234054", "created_at": "2023-03-20T19:59:28", "host": "cdr2504.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum___timestamp": 1679339768, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum___wandb#runtime": 151, "sum___runtime": 33, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_agg_234054", "created_at": "2023-03-20T19:56:41", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___runtime": 31, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum___wandb#runtime": 64, "sum___timestamp": 1679341995, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_2_256788", "created_at": "2023-03-20T19:56:27", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 109, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum___timestamp": 1679341570, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum___runtime": 31, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_2_146317", "created_at": "2023-03-20T19:56:12", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum___wandb#runtime": 109, "sum___timestamp": 1679341806, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum___runtime": 31, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_agg_146317", "created_at": "2023-03-20T19:55:57", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum___wandb#runtime": 67, "sum___runtime": 31, "sum___timestamp": 1679342067, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_agg_256788", "created_at": "2023-03-20T19:55:44", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 30, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___wandb#runtime": 64, "sum___timestamp": 1679341922, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_23ea0skj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "23ea0skj", "state": "finished", "id": "sw_43b2c6b6eff49780ff5d6840d080588b_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_43b2c6b6eff49780ff5d6840d080588b_2_234054", "created_at": "2023-03-20T19:55:29", "host": "cdr2552.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum___timestamp": 1679341690, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___wandb#runtime": 111, "sum___runtime": 33}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_146317", "created_at": "2023-03-20T19:28:20", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___runtime": 39, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___wandb#runtime": 757, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___timestamp": 1679339614, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_256788", "created_at": "2023-03-20T19:27:35", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___runtime": 38, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum___timestamp": 1679338086, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___wandb#runtime": 757, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_234054", "created_at": "2023-03-20T19:27:20", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___step": 8, "sum___runtime": 35, "sum___timestamp": 1679337772, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___wandb#runtime": 147, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_146317", "created_at": "2023-03-20T19:27:05", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7175c6a2ff775afd4fa4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107034, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7175c6a2ff775afd4fa4ff3601566772f9e4b67d225dbbf212bb6a1c193b2717", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___runtime": 36, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___step": 8, "sum___timestamp": 1679337928, "sum___wandb#runtime": 148, "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_2_256788", "created_at": "2023-03-20T19:26:18", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum___wandb#runtime": 156, "sum___runtime": 41, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 44.914731785428344, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum___step": 8, "sum___timestamp": 1679337614, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "86e409ad242f3431a8d28c7046e1ece5bb4441f5bdbf453369cf9b8c33ea97e0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_86e409ad242f3431a8d2.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106359, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_8awa5jme", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "8awa5jme", "state": "finished", "id": "sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_a54296d1fcc0f71a5b04b9e2e9d0b46e_agg_234054", "created_at": "2023-03-20T19:26:03", "host": "cdr2507.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 103.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 132, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 75, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 103.5, "sum___step": 8, "sum___wandb#runtime": 755, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41bc0bdba9e2213aeb5b9ce929e523792d8ab19b1fef31f614dd3a3814afa48b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41bc0bdba9e2213aeb5b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103020, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_2ca1e92d8e37c1416470.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 364007, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "2ca1e92d8e37c141647087d1d8eec19ee379bd68b2535fa7069e503bfdb688dc", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___runtime": 43, "sum___timestamp": 1679338855, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 72, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 18, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.0564451561249}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_agg_256788", "created_at": "2023-03-20T18:33:42", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum___runtime": 29, "sum___timestamp": 1679336729, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum___wandb#runtime": 91, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_2_234054", "created_at": "2023-03-20T18:33:28", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-6000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum___step": 8, "sum___wandb#runtime": 110, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___runtime": 29, "sum___timestamp": 1679336497}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_2_256788", "created_at": "2023-03-20T18:33:12", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 29, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-6000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum___timestamp": 1679336379, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___wandb#runtime": 110, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_2_146317", "created_at": "2023-03-20T18:32:57", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___runtime": 28, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___wandb#runtime": 108, "sum___timestamp": 1679336613, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_agg_146317", "created_at": "2023-03-20T18:32:37", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679336931, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum___step": 8, "sum___runtime": 28, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___wandb#runtime": 94, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1cf3wek1", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1cf3wek1", "state": "finished", "id": "sw_f85a6998a3b54dac0508db8b3b9cb898_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f85a6998a3b54dac0508db8b3b9cb898_agg_234054", "created_at": "2023-03-20T18:32:24", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-6000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___wandb#runtime": 96, "sum___runtime": 28, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___timestamp": 1679336828, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_2_234054", "created_at": "2023-03-20T17:09:33", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum___timestamp": 1679330292, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum___runtime": 30, "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum___wandb#runtime": 97}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_256788", "created_at": "2023-03-20T17:09:18", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 29, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum___wandb#runtime": 520, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum___step": 8, "sum___timestamp": 1679330501, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_234054", "created_at": "2023-03-20T17:09:03", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 526, "sum___runtime": 34, "sum___timestamp": 1679331033, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_2_146317", "created_at": "2023-03-20T17:08:49", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum___step": 8, "sum___wandb#runtime": 97, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___runtime": 30, "sum___timestamp": 1679330397, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_2_256788", "created_at": "2023-03-20T17:08:34", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679330186, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum___runtime": 30, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum___step": 8, "sum___wandb#runtime": 98}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_eleguhcp", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "eleguhcp", "state": "finished", "id": "sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bbd4dd24f5e4f814c3f947c547134f7c_agg_146317", "created_at": "2023-03-20T17:08:20", "host": "cdr2538.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1679331563, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___wandb#runtime": 518, "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_2_234054", "created_at": "2023-03-20T16:59:18", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum___step": 8, "sum___timestamp": 1679330967, "sum___runtime": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 102, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_2_146317", "created_at": "2023-03-20T16:58:30", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679331076, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum___wandb#runtime": 96, "sum___runtime": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_agg_146317", "created_at": "2023-03-20T16:57:43", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum___runtime": 33, "sum___timestamp": 1679331320, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum___wandb#runtime": 59, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-6000"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_agg_256788", "created_at": "2023-03-20T16:57:30", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 63, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum___step": 8, "sum___runtime": 36, "sum___timestamp": 1679331186, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_agg_234054", "created_at": "2023-03-20T16:57:15", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum___wandb#runtime": 59, "sum___timestamp": 1679331253, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_nl8spvbv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "nl8spvbv", "state": "finished", "id": "sw_6a84c3988f669435fd945a8bebf9d7f8_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6a84c3988f669435fd945a8bebf9d7f8_2_256788", "created_at": "2023-03-20T16:56:26", "host": "cdr2501.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum___wandb#runtime": 101, "sum___runtime": 37, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum___step": 8, "sum___timestamp": 1679330863, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_234054", "created_at": "2023-03-20T15:34:01", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum___runtime": 29, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum___timestamp": 1679325271, "sum__computed_num_process": 1, "sum___step": 8, "sum___wandb#runtime": 513, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_2_234054", "created_at": "2023-03-20T15:33:47", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-12000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum___step": 8, "sum___runtime": 29, "sum___timestamp": 1679324543, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 91, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_2_256788", "created_at": "2023-03-20T15:32:30", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum___wandb#runtime": 92, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679324444, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum___step": 8, "sum___runtime": 30, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-16000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_146317", "created_at": "2023-03-20T15:32:16", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 31, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum___timestamp": 1679325792, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-18000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum___wandb#runtime": 522, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_2_146317", "created_at": "2023-03-20T15:32:02", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-18000", "sum___timestamp": 1679324641, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum___wandb#runtime": 92, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_28nujgdx", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "28nujgdx", "state": "finished", "id": "sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f99135e0b13c20bfb0fb1f420634bf1b_agg_256788", "created_at": "2023-03-20T15:31:49", "host": "cdr2555.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___timestamp": 1679324741, "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum___wandb#runtime": 523, "sum___runtime": 29, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-16000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_agg_146317", "created_at": "2023-03-20T15:27:44", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 31, "sum___timestamp": 1679325369, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___wandb#runtime": 503, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_2_256788", "created_at": "2023-03-20T15:26:24", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___runtime": 31, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum___wandb#runtime": 101, "sum___timestamp": 1679324021, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_agg_234054", "created_at": "2023-03-20T15:26:10", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum___timestamp": 1679324859, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum___wandb#runtime": 501, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum___runtime": 31, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_2_146317", "created_at": "2023-03-20T15:25:52", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum___timestamp": 1679324239, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum___wandb#runtime": 101, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_agg_256788", "created_at": "2023-03-20T15:25:38", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 504, "sum___timestamp": 1679324347, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___runtime": 31, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3lmh0moj", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3lmh0moj", "state": "finished", "id": "sw_324a280c50892e55df4e0f1acf24fc55_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_324a280c50892e55df4e0f1acf24fc55_2_234054", "created_at": "2023-03-20T15:25:24", "host": "cdr2541.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___runtime": 30, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum___step": 8, "sum___timestamp": 1679324130, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum___wandb#runtime": 100, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_234054", "created_at": "2023-03-20T15:04:09", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___runtime": 31, "sum___timestamp": 1679324005, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-18000", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum___wandb#runtime": 92, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_256788", "created_at": "2023-03-20T15:03:46", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___wandb#runtime": 93, "sum___timestamp": 1679323905, "sum__computed_num_process": 1, "sum___runtime": 31, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_256788", "created_at": "2023-03-20T15:02:03", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.997158600769549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.00340087856029, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.498579300384773, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.001700439280143, "sum___wandb#runtime": 57, "sum___timestamp": 1679324209, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bbb2f14b4aed0d202fa04d1777d7f8f521472908914cc83bea98a71db522a169", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bbb2f14b4aed0d202fa0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75276, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___runtime": 32}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_146317", "created_at": "2023-03-20T15:01:47", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679324345, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum___wandb#runtime": 61, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-16000", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_agg_234054", "created_at": "2023-03-20T15:00:40", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.949938529708536, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.049879552217654, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.024939776108827, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.474969264854268, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dea6a83f4c47774d81c9adf8bb681b9ea4e45aebc4066ee069ad1fea86e9e6d3", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dea6a83f4c47774d81c9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 82124, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum___step": 8, "sum___timestamp": 1679324274, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum___wandb#runtime": 63, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-18000"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2zf5f3cv", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2zf5f3cv", "state": "finished", "id": "sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_84fdbe5c6c8fa88b28eedd4543ecb0bf_2_146317", "created_at": "2023-03-20T15:00:24", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rdc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 96, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 35, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rdc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-16000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 90, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 52, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 14, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.959006348528185, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 32.06688394501913, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 52, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 71, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 90, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_411c558d4760f85952cc.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 78659, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "411c558d4760f85952ccff70bbcbdf5b2b5be47ac3fefa1d3cbdb6f599bfe1de", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.479503174264092, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 20.033441972509564, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 11, "sum___timestamp": 1679324108, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "06ad240bf8e6c31942ab4cddc95c481977c7e18f61fe4e8618a58f54d139de58", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_06ad240bf8e6c31942ab.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 232932}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_agg_234054", "created_at": "2023-03-20T14:41:34", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum___wandb#runtime": 49, "sum___runtime": 28, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum___step": 8, "sum___timestamp": 1679322925, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_agg_256788", "created_at": "2023-03-20T14:41:17", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___runtime": 28, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum___wandb#runtime": 49, "sum___timestamp": 1679322869, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_agg_146317", "created_at": "2023-03-20T14:40:17", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___runtime": 29, "sum__computed_num_process": 1, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___timestamp": 1679322983, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum___wandb#runtime": 50, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_2_234054", "created_at": "2023-03-20T14:39:07", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 115, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___timestamp": 1679322693, "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___runtime": 62}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_2_146317", "created_at": "2023-03-20T14:38:46", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum___step": 8, "sum___wandb#runtime": 81, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum___runtime": 28, "sum___timestamp": 1679322782, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3azyvsm8", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3azyvsm8", "state": "finished", "id": "sw_2f436523ea1835dd6b3fa9516f54a99f_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2f436523ea1835dd6b3fa9516f54a99f_2_256788", "created_at": "2023-03-20T14:37:41", "host": "cdr2554.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 92, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 36, "sum___timestamp": 1679322567, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_2_234054", "created_at": "2023-03-20T13:30:58", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___wandb#runtime": 81, "sum___runtime": 29, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___step": 8, "sum___timestamp": 1679318562}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_agg_146317", "created_at": "2023-03-20T13:30:08", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum___wandb#runtime": 51, "sum___timestamp": 1679318851, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum___step": 8, "sum___runtime": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_2_256788", "created_at": "2023-03-20T13:29:25", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum___wandb#runtime": 83, "sum___runtime": 31, "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___timestamp": 1679318474, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_agg_256788", "created_at": "2023-03-20T13:29:12", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___timestamp": 1679318738, "sum___runtime": 29, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum___wandb#runtime": 49, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_2_146317", "created_at": "2023-03-20T13:28:59", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum___step": 8, "sum___runtime": 29, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum___timestamp": 1679318651, "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum___wandb#runtime": 80, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2x50hzn7", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "2x50hzn7", "state": "finished", "id": "sw_c1845028676cd5a07d6ce39c4ca96c39_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c1845028676cd5a07d6ce39c4ca96c39_agg_234054", "created_at": "2023-03-20T13:28:46", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum___wandb#runtime": 50, "sum___timestamp": 1679318793, "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum___step": 8, "sum___runtime": 28, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_2_256788", "created_at": "2023-03-20T12:15:40", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum___timestamp": 1679312542, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum___runtime": 36, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum___wandb#runtime": 95, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_2_234054", "created_at": "2023-03-20T12:14:52", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___timestamp": 1679312638, "sum___runtime": 29, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___wandb#runtime": 88}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_agg_256788", "created_at": "2023-03-20T12:13:30", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_704a86e308f5212aee36.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 69495, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "704a86e308f5212aee362ad367961370920b26b8b758ed0091d5f7beca05f771", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum___wandb#runtime": 496, "sum___runtime": 33, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum___timestamp": 1679312831, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_agg_146317", "created_at": "2023-03-20T12:13:16", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___wandb#runtime": 510, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___runtime": 28, "sum___timestamp": 1679313847}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_2_146317", "created_at": "2023-03-20T12:12:59", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum___wandb#runtime": 86, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 27, "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1679312731, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "005ea708fc86ef405e31948b2b9de15cea2100f8edcff015fa1447af04be86a2", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_005ea708fc86ef405e31.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 68308, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___step": 8, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1pdt47bo", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1pdt47bo", "state": "finished", "id": "sw_6d96ca287a0e47731aee8a7ec6b09340_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_6d96ca287a0e47731aee8a7ec6b09340_agg_234054", "created_at": "2023-03-20T12:12:44", "host": "cdr2505.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "cmc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "9ae4caa80de862753801559b7767ff4c7c4f65d61d3532171d3aac5ce51fcbd6", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_9ae4caa80de862753801.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 212482, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___runtime": 31, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum___wandb#runtime": 510, "sum___timestamp": 1679313332, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-cmc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_05c808ab5f5f7f9d6cb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 66555, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "05c808ab5f5f7f9d6cb1d1f7760ebd99b6cf6c20f927f6c2dd4f65016ae3774d"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_2_234054", "created_at": "2023-03-20T10:29:13", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-34000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum___runtime": 25, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___wandb#runtime": 98, "sum___timestamp": 1679307509, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_agg_234054", "created_at": "2023-03-20T10:29:03", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum___step": 8, "sum___wandb#runtime": 109, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___runtime": 23, "sum___timestamp": 1679307821, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-34000", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_2_256788", "created_at": "2023-03-20T10:28:05", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___timestamp": 1679307386, "sum___runtime": 24, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___wandb#runtime": 117, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_agg_146317", "created_at": "2023-03-20T10:27:30", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum___step": 8, "sum___wandb#runtime": 101, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-28000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum___runtime": 23, "sum___timestamp": 1679307936}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_2_146317", "created_at": "2023-03-20T10:27:20", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___timestamp": 1679307610, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___runtime": 23, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-28000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___wandb#runtime": 95, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1b0vsw7u", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1b0vsw7u", "state": "finished", "id": "sw_49190fb4310f175bf75b0c39f88dd464_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_49190fb4310f175bf75b0c39f88dd464_agg_256788", "created_at": "2023-03-20T10:27:10", "host": "ng10504.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679307713, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum___runtime": 24, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum___wandb#runtime": 104, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_234054", "created_at": "2023-03-20T10:17:59", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___runtime": 19, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___step": 8, "sum___wandb#runtime": 66, "sum___timestamp": 1679307222, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_234054", "created_at": "2023-03-20T10:17:25", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 82, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum___timestamp": 1679306984, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___runtime": 19, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_256788", "created_at": "2023-03-20T10:16:49", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 60, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__computed_num_process": 1, "sum___runtime": 16, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___timestamp": 1679307153, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_256788", "created_at": "2023-03-20T10:16:40", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___runtime": 31, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___timestamp": 1679306896, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___wandb#runtime": 94, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_2_146317", "created_at": "2023-03-20T10:16:30", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___timestamp": 1679307069, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___runtime": 17, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum___wandb#runtime": 80, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json"}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_h5n0jkrr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "h5n0jkrr", "state": "finished", "id": "sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5de7de5dd126d2a4bd5fe5a429b3a4f3_agg_146317", "created_at": "2023-03-20T10:16:19", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 60, "sum___runtime": 17, "sum___timestamp": 1679307291, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_agg_256788", "created_at": "2023-03-20T07:34:43", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1679296180, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum___step": 8, "sum___wandb#runtime": 435, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_2_146317", "created_at": "2023-03-20T07:34:32", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum___wandb#runtime": 94, "sum___runtime": 25, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___timestamp": 1679296074, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_agg_146317", "created_at": "2023-03-20T07:33:52", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679297102, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum___step": 8, "sum___wandb#runtime": 470, "sum___runtime": 35, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_agg_234054", "created_at": "2023-03-20T07:33:40", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___timestamp": 1679296624, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum___wandb#runtime": 469, "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum___runtime": 35, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_2_256788", "created_at": "2023-03-20T07:33:30", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 110, "sum___runtime": 39, "sum___timestamp": 1679295865, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3fexvpj1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3fexvpj1", "state": "finished", "id": "sw_ca986e8aa8f829106485575ea08046ab_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ca986e8aa8f829106485575ea08046ab_2_234054", "created_at": "2023-03-20T07:32:50", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___runtime": 28, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum___wandb#runtime": 102, "sum___timestamp": 1679295970}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_2_256788", "created_at": "2023-03-20T07:17:26", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679296213, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum___wandb#runtime": 60, "sum___runtime": 20, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_agg_256788", "created_at": "2023-03-20T07:17:16", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum___timestamp": 1679296398, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum___runtime": 16, "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___wandb#runtime": 31, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_2_234054", "created_at": "2023-03-20T07:16:12", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 58, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___runtime": 19, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___timestamp": 1679296277, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_agg_234054", "created_at": "2023-03-20T07:16:01", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___timestamp": 1679296434, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___wandb#runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum___runtime": 16, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_2_146317", "created_at": "2023-03-20T07:15:51", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___step": 8, "sum___wandb#runtime": 56, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum___runtime": 16, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum___timestamp": 1679296337, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3ezymwp4", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3ezymwp4", "state": "finished", "id": "sw_ab868ae48f3b1c5141d890c279c9ec81_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ab868ae48f3b1c5141d890c279c9ec81_agg_146317", "created_at": "2023-03-20T07:15:41", "host": "ng10403.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 16, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum___wandb#runtime": 34, "sum___timestamp": 1679296471, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_234054", "created_at": "2023-03-20T06:51:09", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum___timestamp": 1679293632, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum___wandb#runtime": 69, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___runtime": 21, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_256788", "created_at": "2023-03-20T06:50:57", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679293771, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 387, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum___runtime": 16, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_146317", "created_at": "2023-03-20T06:50:47", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___runtime": 16, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum___step": 8, "sum___timestamp": 1679293702, "sum___wandb#runtime": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_234054", "created_at": "2023-03-20T06:50:36", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 71, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___runtime": 24, "sum___timestamp": 1679293627, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_146317", "created_at": "2023-03-20T06:50:12", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum___runtime": 17, "sum___timestamp": 1679294561, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___wandb#runtime": 374, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_146317", "created_at": "2023-03-20T06:50:02", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 374, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1679294544, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___runtime": 17, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_agg_146317", "created_at": "2023-03-20T06:49:55", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum___wandb#runtime": 379, "sum___runtime": 17, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum___timestamp": 1679294545, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_256788", "created_at": "2023-03-20T06:49:52", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679293763, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum___runtime": 16, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___step": 8, "sum___wandb#runtime": 378, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_agg_256788", "created_at": "2023-03-20T06:49:45", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___runtime": 16, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum___wandb#runtime": 377, "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum___timestamp": 1679293762, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_2_234054", "created_at": "2023-03-20T06:49:35", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum___wandb#runtime": 69, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum___runtime": 21, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum___timestamp": 1679293624, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_2_256788", "created_at": "2023-03-20T06:49:25", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___timestamp": 1679293549, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum___runtime": 23, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum___wandb#runtime": 72, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_agg_234054", "created_at": "2023-03-20T06:49:12", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___wandb#runtime": 395, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 17, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum___timestamp": 1679294145, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_2_256788", "created_at": "2023-03-20T06:49:12", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum___wandb#runtime": 69, "sum___timestamp": 1679293556, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___step": 8, "sum___runtime": 20, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-30000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1vz1bvp7", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1vz1bvp7", "state": "finished", "id": "sw_fecada720d9b7b82c96a5f8677a2a034_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fecada720d9b7b82c96a5f8677a2a034_2_146317", "created_at": "2023-03-20T06:49:01", "host": "ng10502.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum___timestamp": 1679293693, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum___runtime": 16, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_mftmnm89", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "mftmnm89", "state": "finished", "id": "sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fb5d915236f8291cbdc441c0c1ca3ed3_agg_234054", "created_at": "2023-03-20T06:49:01", "host": "ng10101.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___step": 8, "sum___wandb#runtime": 392, "sum___runtime": 16, "sum___timestamp": 1679294163, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_agg_234054", "created_at": "2023-03-20T06:48:51", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum___runtime": 16, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___wandb#runtime": 392, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___timestamp": 1679294146, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_256788", "created_at": "2023-03-20T06:48:40", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum___wandb#runtime": 70, "sum___runtime": 23, "sum___timestamp": 1679293550, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_agg_146317", "created_at": "2023-03-20T06:48:32", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 34, "sum___runtime": 18, "sum___timestamp": 1679294791, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_19efz8aq", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "19efz8aq", "state": "finished", "id": "sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_aa1c4e1968c9c835eb57af0ee70a40b3_2_146317", "created_at": "2023-03-20T06:48:30", "host": "ng10404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum___wandb#runtime": 62, "sum___runtime": 16, "sum___timestamp": 1679293695, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_2_256788", "created_at": "2023-03-20T06:48:22", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum___runtime": 22, "sum___timestamp": 1679294521, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___wandb#runtime": 62, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_agg_256788", "created_at": "2023-03-20T06:48:12", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___step": 8, "sum___runtime": 18, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___timestamp": 1679294712, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___wandb#runtime": 36, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_agg_234054", "created_at": "2023-03-20T06:48:02", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum___runtime": 17, "sum___timestamp": 1679294752, "sum___wandb#runtime": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_2_146317", "created_at": "2023-03-20T06:47:52", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 16, "sum___timestamp": 1679294649, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum___wandb#runtime": 56, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3faxjiub", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "3faxjiub", "state": "finished", "id": "sw_1bf54bd3259f877d5cb1802aafe91be9_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1bf54bd3259f877d5cb1802aafe91be9_2_234054", "created_at": "2023-03-20T06:47:17", "host": "ng30404.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum___wandb#runtime": 61, "sum___timestamp": 1679294587, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 20, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_2_234054", "created_at": "2023-03-20T06:35:07", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___wandb#runtime": 64, "sum___runtime": 26, "sum___timestamp": 1679293753, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_2_146317", "created_at": "2023-03-20T06:34:57", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum___runtime": 16, "sum___timestamp": 1679293813, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___wandb#runtime": 55, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_agg_146317", "created_at": "2023-03-20T06:34:21", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum___wandb#runtime": 32, "sum___runtime": 17, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1eee36626afcd59410b4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107321, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1eee36626afcd59410b4cafdae28194d94530c4fbdce2c73c11ef7aeb7998c98", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum___step": 8, "sum___timestamp": 1679293956, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_agg_234054", "created_at": "2023-03-20T06:34:11", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum___step": 8, "sum___runtime": 16, "sum___timestamp": 1679293918, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c81df86a361b19b55ca8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 103397, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c81df86a361b19b55ca8bcdac96e435e9aecf1a2325d9d32d3b8e4b22be22db1", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum___wandb#runtime": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_2_256788", "created_at": "2023-03-20T06:34:01", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum___timestamp": 1679293684, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___wandb#runtime": 65, "sum___runtime": 27, "sum__computed_num_process": 1, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_37hqgskh", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "37hqgskh", "state": "finished", "id": "sw_0c9944abf531d5a836378c0c5ef0f336_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c9944abf531d5a836378c0c5ef0f336_agg_256788", "created_at": "2023-03-20T06:33:26", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mcrv_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___runtime": 21, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mcrv_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum___timestamp": 1679293878, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "7175dd98c7a742f6479d6856ada8d609c5cb5f04d33242c78d9fae28bde8143c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_7175dd98c7a742f6479d.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 372051, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4dffa90e6aa60d570637.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 106151, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4dffa90e6aa60d570637750b646c67ce729e01436cfacc828a28e627b687ca56", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___wandb#runtime": 39}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_146317", "created_at": "2023-03-20T06:26:03", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 34, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum___timestamp": 1679293401, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___runtime": 18, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_256788", "created_at": "2023-03-20T06:25:53", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___runtime": 18, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum___wandb#runtime": 37, "sum___timestamp": 1679293317, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_agg_234054", "created_at": "2023-03-20T06:25:43", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___wandb#runtime": 38, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_num_process": 1, "sum___step": 8, "sum___timestamp": 1679293361, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum___runtime": 21}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_2_256788", "created_at": "2023-03-20T06:25:32", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___runtime": 35, "sum___timestamp": 1679293122, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum___wandb#runtime": 74, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.41225837379064, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.914731785428344, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b1f4042d51f1c9582b32.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 108887, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b1f4042d51f1c9582b32fc3ab25896ae4b9da71afe5bf315f314f98797011271"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_2_146317", "created_at": "2023-03-20T06:25:22", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___runtime": 18, "sum___timestamp": 1679293254, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_5daed80888baad5c3e64.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 107357, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "5daed80888baad5c3e64b9ecdb650315fc75112780858d928994d310f4c5610d", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.5038631816393, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 45.86429143314652, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum___wandb#runtime": 58, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1h077p9m", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "1h077p9m", "state": "finished", "id": "sw_e05b855ab0c077d43f3eb5abb82dcaba_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e05b855ab0c077d43f3eb5abb82dcaba_2_234054", "created_at": "2023-03-20T06:23:54", "host": "ng10203.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc2x_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 104.5, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 76, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 73, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 19, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 16.491804030285262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 46.0564451561249, "sum___wandb#runtime": 64, "sum___runtime": 24, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_588f462fae8e6a9c3a48.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 105971, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "588f462fae8e6a9c3a489b7fe41ecffd8e3339540c30449145e7d11473f91f56", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc2x_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "69a900747f6a3fec5515be0f0fb6ba609bced65986ee105ed8b0249c1abb59a4", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_69a900747f6a3fec5515.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 375496, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 133, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 76, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 17.298843892006193, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 104.5, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum___timestamp": 1679293191, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_2_256788", "created_at": "2023-03-20T05:57:29", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum___runtime": 22, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___timestamp": 1679291393, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__computed_num_process": 1, "sum___wandb#runtime": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_agg_146317", "created_at": "2023-03-20T05:56:25", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679291693, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum___wandb#runtime": 58, "sum___runtime": 21, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_agg_256788", "created_at": "2023-03-20T05:56:14", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum___wandb#runtime": 44, "sum___runtime": 17, "sum___timestamp": 1679291585, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_2_234054", "created_at": "2023-03-20T05:56:03", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum___wandb#runtime": 60, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___runtime": 19, "sum___timestamp": 1679291459, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_agg_234054", "created_at": "2023-03-20T05:55:52", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___timestamp": 1679291633, "sum__computed_num_process": 1, "sum___wandb#runtime": 49, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___runtime": 15, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2ijbxa8r", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "2ijbxa8r", "state": "finished", "id": "sw_077a4089836d9d2076210b20ef5a0854_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_077a4089836d9d2076210b20ef5a0854_2_146317", "created_at": "2023-03-20T05:55:42", "host": "ng10402.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___wandb#runtime": 58, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___timestamp": 1679291522, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum___runtime": 17, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_agg_256788", "created_at": "2023-03-20T04:22:12", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 260, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum___runtime": 16, "sum___timestamp": 1679285146, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_agg_234054", "created_at": "2023-03-20T04:21:36", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum___step": 8, "sum___wandb#runtime": 274, "sum__computed_num_process": 1, "sum___runtime": 16, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum___timestamp": 1679285412, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_2_256788", "created_at": "2023-03-20T04:20:58", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___runtime": 19, "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum___wandb#runtime": 52, "sum___timestamp": 1679284975, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_2_234054", "created_at": "2023-03-20T04:20:46", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 54, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___timestamp": 1679285033, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum___runtime": 19, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_agg_146317", "created_at": "2023-03-20T04:20:08", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum___wandb#runtime": 285, "sum___timestamp": 1679285696, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum___runtime": 20, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_26mysblr", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "26mysblr", "state": "finished", "id": "sw_465c44cd2730338aaa6fca3f5b45022c_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_465c44cd2730338aaa6fca3f5b45022c_2_146317", "created_at": "2023-03-20T04:19:58", "host": "ng11002.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum___wandb#runtime": 51, "sum___runtime": 16, "sum___timestamp": 1679285090}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_146317", "created_at": "2023-03-20T04:13:15", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum___runtime": 17, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___step": 8, "sum___wandb#runtime": 52, "sum___timestamp": 1679284609}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_146317", "created_at": "2023-03-20T04:12:40", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___step": 8, "sum___wandb#runtime": 256, "sum___timestamp": 1679285208, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___runtime": 16, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_256788", "created_at": "2023-03-20T04:12:31", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 267, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___timestamp": 1679284667, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum___runtime": 17, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000"}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_234054", "created_at": "2023-03-20T04:11:53", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum___timestamp": 1679284554, "sum___runtime": 20, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___wandb#runtime": 53, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_2_256788", "created_at": "2023-03-20T04:11:41", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum___wandb#runtime": 69, "sum___runtime": 33, "sum___timestamp": 1679284492, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_34t0u7u1", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "34t0u7u1", "state": "finished", "id": "sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44ce5f01b77cf05e2ff1d4293f23e8cb_agg_234054", "created_at": "2023-03-20T04:11:02", "host": "ng30304.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum___step": 8, "sum___wandb#runtime": 265, "sum___runtime": 17, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum___timestamp": 1679284939, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_256788", "created_at": "2023-03-20T04:09:32", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum___runtime": 15, "sum___timestamp": 1679285175, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___step": 8, "sum___wandb#runtime": 26}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_256788", "created_at": "2023-03-20T04:08:55", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum___wandb#runtime": 50, "sum___runtime": 22, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___timestamp": 1679285026, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_146317", "created_at": "2023-03-20T04:08:45", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum___wandb#runtime": 26, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum___timestamp": 1679285238, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum___runtime": 15, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_234054", "created_at": "2023-03-20T04:08:10", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum___wandb#runtime": 47, "sum___runtime": 20, "sum___timestamp": 1679285079}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_agg_234054", "created_at": "2023-03-20T04:08:00", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum___runtime": 15, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-36000", "sum___timestamp": 1679285207, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum___step": 8, "sum___wandb#runtime": 26}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_gw0nmt8x", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "gw0nmt8x", "state": "finished", "id": "sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1f7e84fe124993e7ca6ea8ff0966dc74_2_146317", "created_at": "2023-03-20T04:07:50", "host": "ng30303.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum___wandb#runtime": 43, "sum___runtime": 15, "sum___timestamp": 1679285127, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_2_146317", "created_at": "2023-03-20T04:01:28", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 49, "sum___timestamp": 1679284605, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum___runtime": 20, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_agg_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_agg_234054", "created_at": "2023-03-20T04:01:18", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum___step": 8, "sum___runtime": 16, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum___wandb#runtime": 28, "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum___timestamp": 1679284692, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_2_256788", "created_at": "2023-03-20T04:01:08", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum___step": 8, "sum___runtime": 30, "sum___timestamp": 1679284491, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum___wandb#runtime": 61, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_agg_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_agg_256788", "created_at": "2023-03-20T04:00:32", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.943154523618897, "sum___wandb#runtime": 31, "sum___timestamp": 1679284657, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.971577261809447, "sum___step": 8, "sum___runtime": 17, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "cc1d5b3c76fb2daf226196255a6ac4bd59d762364f5032066d6b14a5c93b4030", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_cc1d5b3c76fb2daf2261.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 75108, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_2_234054", "created_at": "2023-03-20T04:00:21", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 52, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___runtime": 22, "sum___timestamp": 1679284549, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 30.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 18.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6a37961b5e0df848ea3507d29797e9c1fa764f2deb38de0d3ca42901fab10ac4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6a37961b5e0df848ea35.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 71740, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69}
{"run_group": "SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "job_type": "attn_analysis_aggr", "tags": ["attention_aggr_analysis", "attention_analysis", "launched_by_378yqbey", "manual_sweep", "sanity_check", "sanity_check_s2s_reverse", "sweep"], "launcher_id": "378yqbey", "state": "finished", "id": "sw_92199a1fb438945c25db0deb75964f67_agg_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_92199a1fb438945c25db0deb75964f67_agg_146317", "created_at": "2023-03-20T03:59:41", "host": "ng11006.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_reverse", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "mc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_reverse", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention_aggregate", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_reverse.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_aggr_analysis.jsonnet", "sum___wandb#runtime": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 69, "sum___runtime": 17, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e1002327a02991274a9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 73922, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e1002327a02991274a9f9b1490617f26d2238f9b885d2df665bc5f0dbbba667c", "sum___step": 8, "sum___timestamp": 1679284726, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_reverse_sweep___data-s2s_reverse-mc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "8a924d4261af874a11d47daa82d80a23dc68b5de044ce283731c041c9f7e143d", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_8a924d4261af874a11d4.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 226024, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 48, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.909527622097677, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 88, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 50, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 69, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 27, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 9}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be_2_256788", "created_at": "2023-03-17T14:32:18", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 107, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-4000", "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___runtime": 30, "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum___timestamp": 1679062725, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be_2_234054", "created_at": "2023-03-17T14:32:03", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum___timestamp": 1679062839, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___wandb#runtime": 109, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-2000", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum___step": 8, "sum___runtime": 30, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47}
{"run_group": "SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_33m8p4iw", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "33m8p4iw", "state": "finished", "id": "sw_39940126b9d70a86189787b4972d96be_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_39940126b9d70a86189787b4972d96be_2_146317", "created_at": "2023-03-17T14:29:36", "host": "cdr2499.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 107, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum___runtime": 30, "sum___timestamp": 1679062956, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-4000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752_2_256788", "created_at": "2023-03-17T11:43:33", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum___runtime": 29, "sum__computed_num_process": 1, "sum___step": 8, "sum___timestamp": 1679052883, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-10000", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___wandb#runtime": 80, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752_2_146317", "created_at": "2023-03-17T11:42:48", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum___wandb#runtime": 81, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum___timestamp": 1679053061, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-14000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum___runtime": 30, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_14ysadee", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "14ysadee", "state": "finished", "id": "sw_f9889aac7a9352f11ca42dc0dea12752_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f9889aac7a9352f11ca42dc0dea12752_2_234054", "created_at": "2023-03-17T11:42:20", "host": "cdr2560.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679052972, "sum___wandb#runtime": 81, "sum___runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-16000", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185_2_146317", "created_at": "2023-03-17T11:38:22", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___timestamp": 1679051322, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum___step": 8, "sum___wandb#runtime": 88, "sum___runtime": 29, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185_2_234054", "created_at": "2023-03-17T11:37:52", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679051227, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___step": 8, "sum___runtime": 30, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___wandb#runtime": 88, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3he9xfbe", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "3he9xfbe", "state": "finished", "id": "sw_ae88a4fb781a98c3e50bcb308e0b6185_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ae88a4fb781a98c3e50bcb308e0b6185_2_256788", "created_at": "2023-03-17T11:37:37", "host": "cdr2553.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 87, "sum___runtime": 29, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum___timestamp": 1679051132, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692_2_234054", "created_at": "2023-03-17T11:14:48", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___wandb#runtime": 89, "sum___timestamp": 1679049902, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-10000", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum___runtime": 30, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692_2_256788", "created_at": "2023-03-17T11:14:07", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum___timestamp": 1679049806, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-8000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum___step": 8, "sum___runtime": 30, "sum___wandb#runtime": 88, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_k12ag84t", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "k12ag84t", "state": "finished", "id": "sw_0674463afb7fa5cdb1e8ff3243c7c692_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0674463afb7fa5cdb1e8ff3243c7c692_2_146317", "created_at": "2023-03-17T11:13:22", "host": "cdr2497.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___timestamp": 1679049997, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-12000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum___wandb#runtime": 87, "sum___runtime": 29, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32_2_146317", "created_at": "2023-03-17T11:11:52", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.5012877272131, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.95476381104884, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "6c9a47a6e2765e78fac80c34edc802b3429a7ef3651839b711ae6a8cc4fe881f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_6c9a47a6e2765e78fac8.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 84299, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.909527622097677, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 11.0025754544262, "sum___timestamp": 1679051089, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum___wandb#runtime": 81, "sum___runtime": 30, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32_2_234054", "created_at": "2023-03-17T11:11:24", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum___timestamp": 1679051001, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.994536020190177, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 29.037630104083267, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.4972680100950875, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 17.018815052041635, "sum___wandb#runtime": 81, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum___runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_234054/checkpoints/checkpoint-20000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "dbdc9a856749d9ea216d547c4d4009bd40255f440ad98986c21f9ce5f43e68cf", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_dbdc9a856749d9ea216d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 86747, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1zvvaum5", "manual_sweep", "sanity_check", "sanity_check_s2s_copy", "sweep"], "launcher_id": "1zvvaum5", "state": "finished", "id": "sw_04a983e81afe879f6740c0ef784a5b32_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_04a983e81afe879f6740c0ef784a5b32_2_256788", "created_at": "2023-03-17T11:10:08", "host": "cdr2563.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_copy", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "rsc_tr20_ts40", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_copy", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_copy.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/hp_base.jsonnet", "cfg__config_filenames.5": "configs/final.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#size": 91606, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "099b24250f40b2f4937189b57b642b91e72931bf8645bcbfad1ada90a59d0878", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_099b24250f40b2f49371.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 49, "sum___timestamp": 1679050909, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 30, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 87, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 49, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 11.532562594670797, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 28.943154523618897, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 11, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 10.941505582527093, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 5.470752791263546, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 16.971577261809447, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_copy_sweep___data-s2s_copy-rsc_tr20_ts40/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c3ed67a25d9bc6d7722a7b1aa4c1cfd9ca7eb548f99ffd972ac131d978e217a1", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c3ed67a25d9bc6d7722a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 285564, "sum___wandb#runtime": 83, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_3ubk5nqu", "manual_sweep", "sweep"], "launcher_id": "3ubk5nqu", "state": "finished", "id": "sw_ba99af6d514b8040fadcb2e48744729c_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ba99af6d514b8040fadcb2e48744729c_2_146317", "created_at": "2023-03-13T04:37:54", "host": "cdr2609.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9917803330126689, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.237612612612612, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_146317/checkpoints/checkpoint-10000", "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7ea8148ade508bf7545954cb936d5089c70e7161f79f74b4e2c97cf86923f30e", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7ea8148ade508bf75459.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56785, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum___step": 8, "sum___runtime": 42, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum___wandb#runtime": 76, "sum___timestamp": 1678682057, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.796086734512084, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.707207207207208}
{"run_group": "SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_3ubk5nqu", "manual_sweep", "sweep"], "launcher_id": "3ubk5nqu", "state": "finished", "id": "sw_ba99af6d514b8040fadcb2e48744729c_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ba99af6d514b8040fadcb2e48744729c_2_234054", "created_at": "2023-03-13T04:36:09", "host": "cdr2609.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1ef768ff6042c7b63a2214192ae8c69892e3fe743afe42f7cfba359d893654bb", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1ef768ff6042c7b63a22.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56480, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum___step": 8, "sum___timestamp": 1678681972, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9160935931997545, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.18918918918919, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_234054/checkpoints/checkpoint-8000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.726033377702711, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.53828828828829, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum___wandb#runtime": 54, "sum___runtime": 19, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339"}
{"run_group": "SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_1c6wqxht", "manual_sweep", "sweep"], "launcher_id": "1c6wqxht", "state": "finished", "id": "sw_d57b3a11b8a0a1eee7805d747aa3f7ab_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d57b3a11b8a0a1eee7805d747aa3f7ab_2_146317", "created_at": "2023-03-13T04:31:21", "host": "cdr2616.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum___timestamp": 1678681724, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.796086734512084, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.707207207207208, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_146317/checkpoints/checkpoint-30000", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7ea8148ade508bf75459.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56785, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7ea8148ade508bf7545954cb936d5089c70e7161f79f74b4e2c97cf86923f30e", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9917803330126689, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.237612612612612, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum___step": 8, "sum___wandb#runtime": 53, "sum___runtime": 30, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_2h78fggj", "manual_sweep", "sweep"], "launcher_id": "2h78fggj", "state": "finished", "id": "sw_89f472a7f71631341e01ade9c44001fd_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_89f472a7f71631341e01ade9c44001fd_2_234054", "created_at": "2023-03-13T04:31:20", "host": "cdr2564.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.726033377702711, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.53828828828829, "sum___step": 8, "sum__computed_num_process": 1, "sum___wandb#runtime": 49, "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1ef768ff6042c7b63a2214192ae8c69892e3fe743afe42f7cfba359d893654bb", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1ef768ff6042c7b63a22.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56480, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum___runtime": 25, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_234054/checkpoints/checkpoint-24000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9160935931997545, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.18918918918919, "sum___timestamp": 1678681629, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_1c6wqxht", "manual_sweep", "sweep"], "launcher_id": "1c6wqxht", "state": "finished", "id": "sw_d57b3a11b8a0a1eee7805d747aa3f7ab_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d57b3a11b8a0a1eee7805d747aa3f7ab_2_234054", "created_at": "2023-03-13T04:30:53", "host": "cdr2616.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___wandb#runtime": 44, "sum___runtime": 21, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1ef768ff6042c7b63a22.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56480, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1ef768ff6042c7b63a2214192ae8c69892e3fe743afe42f7cfba359d893654bb", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.726033377702711, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.53828828828829, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum___step": 8, "sum___timestamp": 1678681662, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9160935931997545, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.18918918918919}
{"run_group": "SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_2f1ugo2p", "manual_sweep", "sweep"], "launcher_id": "2f1ugo2p", "state": "finished", "id": "sw_4925fb552573820342810d7ebabc8320_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4925fb552573820342810d7ebabc8320_2_234054", "created_at": "2023-03-13T04:30:38", "host": "cdr2591.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum___wandb#runtime": 53, "sum___runtime": 27, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1ef768ff6042c7b63a22.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56480, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1ef768ff6042c7b63a2214192ae8c69892e3fe743afe42f7cfba359d893654bb", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum___step": 8, "sum___timestamp": 1678681645, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.726033377702711, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.53828828828829, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9160935931997545, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.18918918918919, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_234054/checkpoints/checkpoint-30000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449}
{"run_group": "SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_fn8tia8y", "manual_sweep", "sweep"], "launcher_id": "fn8tia8y", "state": "finished", "id": "sw_1c81638268501ee987427ecfc8571dae_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1c81638268501ee987427ecfc8571dae_2_234054", "created_at": "2023-03-13T04:30:37", "host": "cdr2584.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum___runtime": 20, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 53, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9160935931997545, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.18918918918919, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum___step": 8, "sum___timestamp": 1678681635, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_234054/checkpoints/checkpoint-28000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_1ef768ff6042c7b63a22.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56480, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "1ef768ff6042c7b63a2214192ae8c69892e3fe743afe42f7cfba359d893654bb", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.726033377702711, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.53828828828829, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_2h78fggj", "manual_sweep", "sweep"], "launcher_id": "2h78fggj", "state": "finished", "id": "sw_89f472a7f71631341e01ade9c44001fd_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_89f472a7f71631341e01ade9c44001fd_2_146317", "created_at": "2023-03-13T04:29:40", "host": "cdr2564.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum___timestamp": 1678681681, "sum___runtime": 20, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7ea8148ade508bf7545954cb936d5089c70e7161f79f74b4e2c97cf86923f30e", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7ea8148ade508bf75459.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56785, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum___wandb#runtime": 44, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.796086734512084, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.707207207207208, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9917803330126689, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.237612612612612, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_2f1ugo2p", "manual_sweep", "sweep"], "launcher_id": "2f1ugo2p", "state": "finished", "id": "sw_4925fb552573820342810d7ebabc8320_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4925fb552573820342810d7ebabc8320_2_146317", "created_at": "2023-03-13T04:29:34", "host": "cdr2591.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9917803330126689, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.237612612612612, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum___wandb#runtime": 47, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7ea8148ade508bf7545954cb936d5089c70e7161f79f74b4e2c97cf86923f30e", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7ea8148ade508bf75459.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56785, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.707207207207208, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.796086734512084, "sum___runtime": 20, "sum___timestamp": 1678681699, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_146317/checkpoints/checkpoint-18000"}
{"run_group": "SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_fn8tia8y", "manual_sweep", "sweep"], "launcher_id": "fn8tia8y", "state": "finished", "id": "sw_1c81638268501ee987427ecfc8571dae_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1c81638268501ee987427ecfc8571dae_2_146317", "created_at": "2023-03-13T04:29:31", "host": "cdr2584.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum___timestamp": 1678681697, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9917803330126689, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.237612612612612, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum___wandb#runtime": 76, "sum___runtime": 20, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.796086734512084, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.707207207207208, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "7ea8148ade508bf7545954cb936d5089c70e7161f79f74b4e2c97cf86923f30e", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_7ea8148ade508bf75459.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56785, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66}
{"run_group": "SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "3ubk5nqu", "state": "finished", "id": "3ubk5nqu", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/3ubk5nqu", "created_at": "2023-03-13T04:14:54", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "2f1ugo2p", "state": "finished", "id": "2f1ugo2p", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/2f1ugo2p", "created_at": "2023-03-13T04:14:27", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "2h78fggj", "state": "finished", "id": "2h78fggj", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/2h78fggj", "created_at": "2023-03-13T04:14:04", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "1c6wqxht", "state": "finished", "id": "1c6wqxht", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1c6wqxht", "created_at": "2023-03-13T04:13:42", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "fn8tia8y", "state": "finished", "id": "fn8tia8y", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/fn8tia8y", "created_at": "2023-03-13T04:13:19", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_259xggfl", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "259xggfl", "state": "finished", "id": "sw_de4a6f26d3229c1f1979ae9b30555c64_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_de4a6f26d3229c1f1979ae9b30555c64_2_146317", "created_at": "2023-03-13T03:39:57", "host": "cn-g012", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___timestamp": 1678678824, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-30000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 383, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 75.22236726784473, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 234.8925321199143, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum___wandb#runtime": 7434, "sum___runtime": 27, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 854, "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://znvhpxy18l6ju9b1wzn8tg24jmmu74j3mdy83zfg67zqt8gcd4323gd7chdzncamytb2cllsxbi7mgre86qc44cq9g2yj4iazhvp6lrvv37otvss3msb7huqmo4enagh:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_57c073eaa8c3a317adf5.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 321521, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "57c073eaa8c3a317adf5a05eb2113865fcac25ed1b37f1a97f3d4b6284654967", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://znvhpxy18l6ju9b1wzn8tg24jmmu74j3mdy83zfg67zqt8gcd4323gd7chdzncamytb2cllsxbi7mgre86qc44cq9g2yj4iazhvp6lrvv37otvss3msb7huqmo4enagh:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://rfii17v98gng2x44lqdyca7nqu3zhbsxtz4noj4xjidf05re25lj72qoil4m9kgiv7fzjm7dmz1ltlgfa05wz3vi0463ibi4vroxklmg649kqt5qe1il5z2hia3bc5gm:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://rfii17v98gng2x44lqdyca7nqu3zhbsxtz4noj4xjidf05re25lj72qoil4m9kgiv7fzjm7dmz1ltlgfa05wz3vi0463ibi4vroxklmg649kqt5qe1il5z2hia3bc5gm:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b936d736f4a48b47d954.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1256838, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b936d736f4a48b47d9547cc8594a86312a1f64a28bea29450041ccd1ce732f9c"}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1jpoijm4", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1jpoijm4", "state": "finished", "id": "sw_d35d91253027d0f792865a5c61aa235f_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d35d91253027d0f792865a5c61aa235f_2_146317", "created_at": "2023-03-13T03:17:55", "host": "cn-g010", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___step": 8, "sum___wandb#runtime": 7066, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 112.50690014448796, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "43f5dce780bfa7646d9af2266b3bd631d38929da9fd5f53762b6df8342cd5152", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://20ygavlouxk0632h2e0ttypw4a1hz6zvcr3p81axe8wqu50d4culistrvxwibbezumj0lfryvh85txaiy1nnwn36cdfp45tm4cd5fcpnpk6irxkzxdqww9mwd4kf7tdr:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://20ygavlouxk0632h2e0ttypw4a1hz6zvcr3p81axe8wqu50d4culistrvxwibbezumj0lfryvh85txaiy1nnwn36cdfp45tm4cd5fcpnpk6irxkzxdqww9mwd4kf7tdr:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_43f5dce780bfa7646d9a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1182600, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 536.7832532051282, "sum___timestamp": 1678677504, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "00663a91ab86d5738073c45487318327909c8f205ba9f2c962db6ac577ae9f9c", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://1294ngcst1d8crsb2lee9xx22hxsozq0ojcp3rzbfxqkqd8ag2logzl8p7ed84mzrbpqx037tfguqbroziiiz74tcjrh2ub7ry5u91ajc2ujnwedgf539pkwjg71jv5b:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://1294ngcst1d8crsb2lee9xx22hxsozq0ojcp3rzbfxqkqd8ag2logzl8p7ed84mzrbpqx037tfguqbroziiiz74tcjrh2ub7ry5u91ajc2ujnwedgf539pkwjg71jv5b:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_00663a91ab86d5738073.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 302003, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 364, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 71.31041747782368, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 222.5831102783726, "sum___runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ti7ersg", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3ti7ersg", "state": "finished", "id": "sw_0c03df34563f74f37e7e630e5082b8a1_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c03df34563f74f37e7e630e5082b8a1_2_146317", "created_at": "2023-03-13T03:14:59", "host": "cn-g012", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___step": 8, "sum___wandb#runtime": 6797, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "43f5dce780bfa7646d9af2266b3bd631d38929da9fd5f53762b6df8342cd5152", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://exno9nwn81dyllzkhhiyi8wfbizl3yaxrwyu1kq37wkz6kfo1vuw02bxigtg3ujxve3nqpwc6x06v9x6n5br0796q3sln3csez99e8yexapht3e6c3x3jmel0scty3gs:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://exno9nwn81dyllzkhhiyi8wfbizl3yaxrwyu1kq37wkz6kfo1vuw02bxigtg3ujxve3nqpwc6x06v9x6n5br0796q3sln3csez99e8yexapht3e6c3x3jmel0scty3gs:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_43f5dce780bfa7646d9a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1182600, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___runtime": 29, "sum___timestamp": 1678677327, "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://ep70g3cecb4ytt873lgcap1gg301h99bv5c7j8vughgocwlmsnv2iumt0z0jql89z0zqnlyiqtvkr01z66uebxrq1eqjbrqpx8o380ivj906yo0b0x8oho2fnqp3g9fv:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://ep70g3cecb4ytt873lgcap1gg301h99bv5c7j8vughgocwlmsnv2iumt0z0jql89z0zqnlyiqtvkr01z66uebxrq1eqjbrqpx8o380ivj906yo0b0x8oho2fnqp3g9fv:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_00663a91ab86d5738073.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 302003, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "00663a91ab86d5738073c45487318327909c8f205ba9f2c962db6ac577ae9f9c", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 364, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 71.31041747782368, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 222.5831102783726, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 536.7832532051282}
{"run_group": "SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_cmkypjnf", "manual_sweep", "sweep"], "launcher_id": "cmkypjnf", "state": "failed", "id": "sw_ba99af6d514b8040fadcb2e48744729c_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ba99af6d514b8040fadcb2e48744729c_2_256788", "created_at": "2023-03-13T02:46:42", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "rotary", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_rotary.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_04d02186de874c4582a0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56367, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "04d02186de874c4582a07b3ba2a85b95368ecdf7eeae79351f611587fe7156c4", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.866825330124451, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.64189189189189, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9126316553477376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.182432432432432, "sum___runtime": 26, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_256788/checkpoints/checkpoint-12000", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum___wandb#runtime": 26, "sum___timestamp": 1678675483, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_1eihd3gr", "manual_sweep", "sweep"], "launcher_id": "1eihd3gr", "state": "failed", "id": "sw_4925fb552573820342810d7ebabc8320_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_4925fb552573820342810d7ebabc8320_2_256788", "created_at": "2023-03-13T02:38:01", "host": "cdr2481.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum__ds_examples/ExperimentStage.VALIDATION#size": 56367, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "04d02186de874c4582a07b3ba2a85b95368ecdf7eeae79351f611587fe7156c4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_04d02186de874c4582a0.table.json", "sum___runtime": 27, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_256788/checkpoints/checkpoint-32000", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.866825330124451, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.64189189189189, "sum___wandb#runtime": 28, "sum___timestamp": 1678674964, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9126316553477376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.182432432432432, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17}
{"run_group": "SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_1c6wqxht", "manual_sweep", "sweep"], "launcher_id": "1c6wqxht", "state": "finished", "id": "sw_d57b3a11b8a0a1eee7805d747aa3f7ab_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d57b3a11b8a0a1eee7805d747aa3f7ab_2_256788", "created_at": "2023-03-13T02:38:00", "host": "cdr2616.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.866825330124451, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.64189189189189, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum___wandb#runtime": 59, "sum__computed_num_process": 1, "sum___timestamp": 1678681607, "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum___runtime": 32, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_04d02186de874c4582a0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56367, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "04d02186de874c4582a07b3ba2a85b95368ecdf7eeae79351f611587fe7156c4", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9126316553477376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.182432432432432, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_1f0srtid", "manual_sweep", "sweep"], "launcher_id": "1f0srtid", "state": "failed", "id": "sw_89f472a7f71631341e01ade9c44001fd_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_89f472a7f71631341e01ade9c44001fd_2_256788", "created_at": "2023-03-13T02:38:00", "host": "cdr2470.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.866825330124451, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.64189189189189, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "04d02186de874c4582a07b3ba2a85b95368ecdf7eeae79351f611587fe7156c4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_04d02186de874c4582a0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56367, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_256788/checkpoints/checkpoint-26000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9126316553477376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.182432432432432, "sum___wandb#runtime": 27, "sum___runtime": 27, "sum___timestamp": 1678674961, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2nxodkyt", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2nxodkyt", "state": "finished", "id": "sw_7ab136dc4d07a4313a1f8bf646f4808c_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_7ab136dc4d07a4313a1f8bf646f4808c_2_146317", "created_at": "2023-03-13T02:30:33", "host": "cn-g010", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://m0qgv85d6y8zlaowd3xl9s02xunp3gdvw9hydiahal8ayg1zppzdlzbinyd99yy8cjjgbp7dk3y8tvoc1kjwjmcwglyvigk4pz9rl6lkdm7kf13krsw603qygq88ofwp:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://m0qgv85d6y8zlaowd3xl9s02xunp3gdvw9hydiahal8ayg1zppzdlzbinyd99yy8cjjgbp7dk3y8tvoc1kjwjmcwglyvigk4pz9rl6lkdm7kf13krsw603qygq88ofwp:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6e79b777bbce1efdb049.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://2h2m07e7iao595s1zjei38smy4m1mbr36r5995vol9fle629t9ydutj3b75n8h1l6482eemvwvhoj4kzgni4ox4cqgkmvoq58nyjufpzbbqmpboc1umbe9mtimpxzbpl:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_53f71e278d6175a31d50.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 277574, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "53f71e278d6175a31d50ce1c17cf5c3d5d391f922ea4c450dcd0c7fe5ebfb6f0", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://2h2m07e7iao595s1zjei38smy4m1mbr36r5995vol9fle629t9ydutj3b75n8h1l6482eemvwvhoj4kzgni4ox4cqgkmvoq58nyjufpzbbqmpboc1umbe9mtimpxzbpl:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum___timestamp": 1678674659, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum___wandb#runtime": 5709, "sum___runtime": 27, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.752210215815374, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.21654175588864, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 323, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ud9mzjc", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3ud9mzjc", "state": "finished", "id": "sw_7eb1df4fabfd38424c9981d506c51cda_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_7eb1df4fabfd38424c9981d506c51cda_2_146317", "created_at": "2023-03-13T02:21:59", "host": "cn-g012", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___runtime": 30, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "53f71e278d6175a31d50ce1c17cf5c3d5d391f922ea4c450dcd0c7fe5ebfb6f0", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://bdpeel5kymy3azxlp7j7jcm8am0i8j1fw15qga0u45k5t4pa9pwb1hnqcvd6gw1b4r519miwakc17ijr7xjdw3n7fzlpf5uq21itl73m1ry4lwljpxfyb91w4umysz8l:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://bdpeel5kymy3azxlp7j7jcm8am0i8j1fw15qga0u45k5t4pa9pwb1hnqcvd6gw1b4r519miwakc17ijr7xjdw3n7fzlpf5uq21itl73m1ry4lwljpxfyb91w4umysz8l:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_53f71e278d6175a31d50.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 277574, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 323, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.752210215815374, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.21654175588864, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum___wandb#runtime": 5605, "sum___timestamp": 1678674149, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-30000", "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://2zt2da9hi4v78ehrcmumzeevtisarmurfp7gtwbhcmzt1r9ecgq5k26p6zm8guph3f18e143hs0tx2q0ksx2r9yftbeh3yrpn1wzv1tuodxleogd2you1uj0n3ai4c68:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://2zt2da9hi4v78ehrcmumzeevtisarmurfp7gtwbhcmzt1r9ecgq5k26p6zm8guph3f18e143hs0tx2q0ksx2r9yftbeh3yrpn1wzv1tuodxleogd2you1uj0n3ai4c68:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6e79b777bbce1efdb049.table.json"}
{"run_group": "SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "job_type": "attn_analysis2", "tags": ["attention_analysis", "attention_analysis_scan", "launched_by_k18po3dk", "manual_sweep", "sweep"], "launcher_id": "k18po3dk", "state": "failed", "id": "sw_1c81638268501ee987427ecfc8571dae_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1c81638268501ee987427ecfc8571dae_2_256788", "created_at": "2023-03-13T02:20:33", "host": "cdr2536.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "scan", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr25_ts48", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "scan", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "[SEP] ", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/scan.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "04d02186de874c4582a07b3ba2a85b95368ecdf7eeae79351f611587fe7156c4", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_04d02186de874c4582a0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 56367, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 46.63265306122449, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 1.9126316553477376, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 12.182432432432432, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 17, "sum___step": 8, "sum___runtime": 29, "sum___timestamp": 1678673896, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 66, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 40, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 6.002359663723485, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 46.63265306122449, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 10, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 6.866825330124451, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 24.64189189189189, "sum___wandb#runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__ds_examples/ExperimentStage.TRAINING#size": 135396, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "bd596cdbeb74d0a64eb1ba936b36f0341d8ced469996f2e992431dc63f3f2339", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_bd596cdbeb74d0a64eb1.table.json"}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2vauo5hw", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2vauo5hw", "state": "finished", "id": "sw_8962e87bfffd201dda8d3947cc009054_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8962e87bfffd201dda8d3947cc009054_2_146317", "created_at": "2023-03-13T02:16:47", "host": "cn-g010", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___runtime": 31, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "57c073eaa8c3a317adf5a05eb2113865fcac25ed1b37f1a97f3d4b6284654967", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://mtagsnfbr98qe4vpn9nti4ft7izehq87f37b19nwey0rg3rjgclpni9xt0acxxkrwozovsbqzx2gd67ezoquwq0bh7xapj9u5k5i5jxdqix09rccr6b2idz1ppo3rfbv:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://mtagsnfbr98qe4vpn9nti4ft7izehq87f37b19nwey0rg3rjgclpni9xt0acxxkrwozovsbqzx2gd67ezoquwq0bh7xapj9u5k5i5jxdqix09rccr6b2idz1ppo3rfbv:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_57c073eaa8c3a317adf5.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 321521, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum___wandb#runtime": 5469, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 383, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 75.22236726784473, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 234.8925321199143, "sum___timestamp": 1678673838, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b936d736f4a48b47d9547cc8594a86312a1f64a28bea29450041ccd1ce732f9c", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://s52xnyqoy0r7k05se5lrjnc7vagy2dzvdrqz46rzi3fyt1l4puiulb5ekk108idg4ampg8geml1fv5g4ihe6nffn1tf02kmz5cs783jz2n1unuut853ioo5vq36ten5c:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://s52xnyqoy0r7k05se5lrjnc7vagy2dzvdrqz46rzi3fyt1l4puiulb5ekk108idg4ampg8geml1fv5g4ihe6nffn1tf02kmz5cs783jz2n1unuut853ioo5vq36ten5c:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b936d736f4a48b47d954.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1256838, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 563.9379006410256, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000"}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_259xggfl", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "259xggfl", "state": "finished", "id": "sw_de4a6f26d3229c1f1979ae9b30555c64_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_de4a6f26d3229c1f1979ae9b30555c64_2_234054", "created_at": "2023-03-13T01:29:25", "host": "cn-g012", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 384, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 74.68005986585311, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 234.8531852248394, "sum___runtime": 28, "sum___wandb#runtime": 7824, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b936d736f4a48b47d9547cc8594a86312a1f64a28bea29450041ccd1ce732f9c", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://5zfeoethnige8zalflx2okzfszysi8kygwvezxr1sc916i0auhpx3eaijj41xymvwane8526f0xcus9z1vtxirzrzgkesd1rp9htjcuiiet19px3ltfo7wzr33s1h0qu:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://5zfeoethnige8zalflx2okzfszysi8kygwvezxr1sc916i0auhpx3eaijj41xymvwane8526f0xcus9z1vtxirzrzgkesd1rp9htjcuiiet19px3ltfo7wzr33s1h0qu:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b936d736f4a48b47d954.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1256838, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 563.9379006410256, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-28000", "sum___timestamp": 1678670993, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_327dbbeb8456ba0d6a6c.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 311119, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "327dbbeb8456ba0d6a6c65329489e10c16058463650f2b1ba0e37b3210f66d2f", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://qk8sde672tmpjn7nhjq6jmz86lwsdpu8l80gg0kboaz43yy839zlxs3lmf2yo115tdi5dwike599tyj7u2lzdliuklovp9jesnxvnnpz9rrblvw18mp0xazzkn7nevrp:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://qk8sde672tmpjn7nhjq6jmz86lwsdpu8l80gg0kboaz43yy839zlxs3lmf2yo115tdi5dwike599tyj7u2lzdliuklovp9jesnxvnnpz9rrblvw18mp0xazzkn7nevrp:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "cmkypjnf", "state": "finished", "id": "cmkypjnf", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/cmkypjnf", "created_at": "2023-03-13T01:25:16", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "1eihd3gr", "state": "finished", "id": "1eihd3gr", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1eihd3gr", "created_at": "2023-03-13T01:24:55", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "1f0srtid", "state": "finished", "id": "1f0srtid", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1f0srtid", "created_at": "2023-03-13T01:24:34", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "240j6jf9", "state": "finished", "id": "240j6jf9", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/240j6jf9", "created_at": "2023-03-13T01:24:13", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "k18po3dk", "state": "finished", "id": "k18po3dk", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/k18po3dk", "created_at": "2023-03-13T01:23:50", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1jpoijm4", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1jpoijm4", "state": "finished", "id": "sw_d35d91253027d0f792865a5c61aa235f_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d35d91253027d0f792865a5c61aa235f_2_234054", "created_at": "2023-03-13T01:19:38", "host": "cn-g010", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 292185, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "d68bf4503e964280c97f00c89c2eea37e4d7048b524847c160cfb1833af3aa8f", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://82hr6mdracmusj3cf2ec9eaxnx3q6misbw5osnhed5535tldmz17yg6e2upvs77d2s075sx3tsr10h05jxv7jdaa886l1ec6yv2uk8quthvuq8pa5mxquhuqdn3ec9ds:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://82hr6mdracmusj3cf2ec9eaxnx3q6misbw5osnhed5535tldmz17yg6e2upvs77d2s075sx3tsr10h05jxv7jdaa886l1ec6yv2uk8quthvuq8pa5mxquhuqdn3ec9ds:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_d68bf4503e964280c97f.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___timestamp": 1678670409, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 365, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 70.78875598327123, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 222.53573340471092, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://6shtpmangbxmjtje5ul2ewyx50monv55fnvg1ssl8ou50knavvh6lyf10gcw01tq188banm8eoqprwulm470hpwfi2217dpzyehygy8ggiu4yzv9vej0q7ff5ms371t3:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://6shtpmangbxmjtje5ul2ewyx50monv55fnvg1ssl8ou50knavvh6lyf10gcw01tq188banm8eoqprwulm470hpwfi2217dpzyehygy8ggiu4yzv9vej0q7ff5ms371t3:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_43f5dce780bfa7646d9a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1182600, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "43f5dce780bfa7646d9af2266b3bd631d38929da9fd5f53762b6df8342cd5152", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 816, "sum___wandb#runtime": 7089, "sum___runtime": 32, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ti7ersg", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3ti7ersg", "state": "finished", "id": "sw_0c03df34563f74f37e7e630e5082b8a1_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c03df34563f74f37e7e630e5082b8a1_2_234054", "created_at": "2023-03-13T01:18:02", "host": "cn-g012", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 816, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 70.78875598327123, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 222.53573340471092, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 365, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 47, "sum___wandb#runtime": 7009, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-34000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "43f5dce780bfa7646d9af2266b3bd631d38929da9fd5f53762b6df8342cd5152", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://13pc0cgibqadfwyh81c7psmnjm0gmp7ah3osn8vxo9t7xgkr21o8zpti877aerxz3g7sarqrfor2m4o3cj096y2liqrani6pwqtl1olcr54kw1wiwgfmi6rup4ia8xez:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://13pc0cgibqadfwyh81c7psmnjm0gmp7ah3osn8vxo9t7xgkr21o8zpti877aerxz3g7sarqrfor2m4o3cj096y2liqrani6pwqtl1olcr54kw1wiwgfmi6rup4ia8xez:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_43f5dce780bfa7646d9a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1182600, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___runtime": 31, "sum___timestamp": 1678670312, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "d68bf4503e964280c97f00c89c2eea37e4d7048b524847c160cfb1833af3aa8f", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://janme2w585ns4axdt8mm4uzml4yuvb99obnwxi9vcqtqsy23hnp4nq46yh2snjyrcriic52bimktd6ryqe1jqgcbd1ycyz3jee6kpc75jc8xkpedsrur39au9uvcl6rl:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://janme2w585ns4axdt8mm4uzml4yuvb99obnwxi9vcqtqsy23hnp4nq46yh2snjyrcriic52bimktd6ryqe1jqgcbd1ycyz3jee6kpc75jc8xkpedsrur39au9uvcl6rl:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_d68bf4503e964280c97f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 292185, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100}
{"run_group": "SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "ve2io3n0", "state": "finished", "id": "ve2io3n0", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/ve2io3n0", "created_at": "2023-03-13T01:03:36", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "3kfgy157", "state": "finished", "id": "3kfgy157", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/3kfgy157", "created_at": "2023-03-13T01:03:08", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "1la3rguh", "state": "finished", "id": "1la3rguh", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1la3rguh", "created_at": "2023-03-13T01:02:44", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "32abdpyv", "state": "finished", "id": "32abdpyv", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/32abdpyv", "created_at": "2023-03-13T01:02:17", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "1z993tlz", "state": "finished", "id": "1z993tlz", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1z993tlz", "created_at": "2023-03-13T01:01:50", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 1}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2nxodkyt", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2nxodkyt", "state": "finished", "id": "sw_7ab136dc4d07a4313a1f8bf646f4808c_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_7ab136dc4d07a4313a1f8bf646f4808c_2_234054", "created_at": "2023-03-13T00:56:45", "host": "cn-g010", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___timestamp": 1678669036, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "62d2f8a9797791a3618d99ad263763fc0531239de9bb83bbde6147fd1b0783c0", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://ak5yaqamwnm9d44gyict3t4fxy71alv8of62lihx832iu9mekqt3qv4g03xroveggmhoq13ne0kycwrldsh8509k4qce591493qnfdz8migh59eazsy57xvzj1q1pvlk:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://ak5yaqamwnm9d44gyict3t4fxy71alv8of62lihx832iu9mekqt3qv4g03xroveggmhoq13ne0kycwrldsh8509k4qce591493qnfdz8migh59eazsy57xvzj1q1pvlk:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_62d2f8a9797791a3618d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 268527, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___wandb#runtime": 5619, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://13sfha23y810d72laowa6eulhgyi2xe54q3jyamdkonfzwi42hd9vc71xgr121u0g4alfwx2j3py1yi725rvdu0v1smbst61innwepinbz8hyy6njhd75ojl2sfk64yz:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://13sfha23y810d72laowa6eulhgyi2xe54q3jyamdkonfzwi42hd9vc71xgr121u0g4alfwx2j3py1yi725rvdu0v1smbst61innwepinbz8hyy6njhd75ojl2sfk64yz:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6e79b777bbce1efdb049.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 325, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.31843028580311, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.17612419700217, "sum___runtime": 31, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684}
{"run_group": "SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "vn0x82mt", "state": "finished", "id": "vn0x82mt", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_rotary_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/vn0x82mt", "created_at": "2023-03-13T00:54:44", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "3tvvuuzg", "state": "finished", "id": "3tvvuuzg", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/3tvvuuzg", "created_at": "2023-03-13T00:54:22", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "1s47x1gb", "state": "finished", "id": "1s47x1gb", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1s47x1gb", "created_at": "2023-03-13T00:53:58", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 1}
{"run_group": "SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "3m3sbv5x", "state": "finished", "id": "3m3sbv5x", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/3m3sbv5x", "created_at": "2023-03-13T00:53:33", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_scan"], "launcher_id": "10yuxetq", "state": "finished", "id": "10yuxetq", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_scan_sweep___data-scan-len_tr25_ts48", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/10yuxetq", "created_at": "2023-03-13T00:53:05", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ud9mzjc", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3ud9mzjc", "state": "finished", "id": "sw_7eb1df4fabfd38424c9981d506c51cda_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_7eb1df4fabfd38424c9981d506c51cda_2_234054", "created_at": "2023-03-13T00:52:16", "host": "cn-g012", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.17612419700217, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 325, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.31843028580311, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://yry4sbsft48yodans5qjo6ebnml93fc9mlt08bfwc4mewjed2oeqqe94wzth3xq0whiww3jemoj90oj2ytt6ygl36v4b9zpwwkitrikhvf3adp8dirkdmdos7r5zhes4:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://yry4sbsft48yodans5qjo6ebnml93fc9mlt08bfwc4mewjed2oeqqe94wzth3xq0whiww3jemoj90oj2ytt6ygl36v4b9zpwwkitrikhvf3adp8dirkdmdos7r5zhes4:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6e79b777bbce1efdb049.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231, "sum___wandb#runtime": 5374, "sum___runtime": 29, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://wut0d7055vge3q44tpq5tsn5pk4brc1fjc111p9sjx87blu9g8g5qptijc1w9xru21rd8v19ezt541fqplnkrf5nzn22fjgtgzjxjy4qgo8pnhuuifjuiwjr1e567kzc:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://wut0d7055vge3q44tpq5tsn5pk4brc1fjc111p9sjx87blu9g8g5qptijc1w9xru21rd8v19ezt541fqplnkrf5nzn22fjgtgzjxjy4qgo8pnhuuifjuiwjr1e567kzc:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_62d2f8a9797791a3618d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 268527, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "62d2f8a9797791a3618d99ad263763fc0531239de9bb83bbde6147fd1b0783c0", "sum___timestamp": 1678668762, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-28000"}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2vauo5hw", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2vauo5hw", "state": "finished", "id": "sw_8962e87bfffd201dda8d3947cc009054_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8962e87bfffd201dda8d3947cc009054_2_234054", "created_at": "2023-03-13T00:49:00", "host": "cn-g010", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 349, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 74.68005986585311, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 234.8531852248394, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 384, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 563.9379006410256, "sum___wandb#runtime": 5259, "sum___runtime": 29, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://ctf2l7ghkuppxtyckupht41im9ifqjs0bxkjihhsonglrn49iz8h3oa181a8tgtwf2p18uueh5n1g4fcim4olhg3laewazjq7hno3y05pdoqo7lv0xbyst3swevs3fln:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b936d736f4a48b47d954.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1256838, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b936d736f4a48b47d9547cc8594a86312a1f64a28bea29450041ccd1ce732f9c", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://ctf2l7ghkuppxtyckupht41im9ifqjs0bxkjihhsonglrn49iz8h3oa181a8tgtwf2p18uueh5n1g4fcim4olhg3laewazjq7hno3y05pdoqo7lv0xbyst3swevs3fln:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum___step": 8, "sum___timestamp": 1678668569, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "327dbbeb8456ba0d6a6c65329489e10c16058463650f2b1ba0e37b3210f66d2f", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://7852va6j88r5ig8k51aonnbi8rls7w1abbifx1xdaq9m88grtkvqhl9m8u0fr6wz0ze5bajdc1eukruuibdrc3y941tsw31wxtfgi0dcth37zb051s41jwyuf22uoxt8:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://7852va6j88r5ig8k51aonnbi8rls7w1abbifx1xdaq9m88grtkvqhl9m8u0fr6wz0ze5bajdc1eukruuibdrc3y941tsw31wxtfgi0dcth37zb051s41jwyuf22uoxt8:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_327dbbeb8456ba0d6a6c.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 311119, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_s2s_addition"], "launcher_id": "1ha7os9p", "state": "finished", "id": "1ha7os9p", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1ha7os9p", "created_at": "2023-03-12T23:19:19", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_s2s_addition"], "launcher_id": "1nrmr58w", "state": "finished", "id": "1nrmr58w", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1nrmr58w", "created_at": "2023-03-12T23:18:56", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_s2s_addition"], "launcher_id": "21xc8cw4", "state": "finished", "id": "21xc8cw4", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/21xc8cw4", "created_at": "2023-03-12T23:18:33", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_s2s_addition"], "launcher_id": "3f3ewsrt", "state": "finished", "id": "3f3ewsrt", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/3f3ewsrt", "created_at": "2023-03-12T23:18:12", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_s2s_addition"], "launcher_id": "z1cuwugl", "state": "finished", "id": "z1cuwugl", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/z1cuwugl", "created_at": "2023-03-12T23:17:51", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_s2s_addition"], "launcher_id": "1zctob0b", "state": "finished", "id": "1zctob0b", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1zctob0b", "created_at": "2023-03-12T23:17:30", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_s2s_addition"], "launcher_id": "1lc3xvuf", "state": "finished", "id": "1lc3xvuf", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1lc3xvuf", "created_at": "2023-03-12T23:17:08", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "agent", "tags": ["attention_analysis", "attention_analysis_s2s_addition"], "launcher_id": "1oc1un4j", "state": "finished", "id": "1oc1un4j", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/1oc1un4j", "created_at": "2023-03-12T23:16:46", "host": "Amirhoseins-MacBook-Pro-2.local", "sum___wandb#runtime": 0}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_t5f8d99x", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "t5f8d99x", "state": "finished", "id": "sw_44014d216b8ae86a39540d47fbd4e793_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44014d216b8ae86a39540d47fbd4e793_2_256788", "created_at": "2023-03-12T03:16:06", "host": "ng30103.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 384, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 75.20397960066207, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 234.88102248394003, "sum___timestamp": 1678571079, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "3bd0f63ae36fb13afc9faffc4b25e62c86a3cf17ac05ef98da0c4104d329a947", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_3bd0f63ae36fb13afc9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 298896, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 563.9379006410256, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 36, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b936d736f4a48b47d954.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1256838, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b936d736f4a48b47d9547cc8594a86312a1f64a28bea29450041ccd1ce732f9c", "sum___wandb#runtime": 6907, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_t5f8d99x", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "t5f8d99x", "state": "finished", "id": "sw_44014d216b8ae86a39540d47fbd4e793_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44014d216b8ae86a39540d47fbd4e793_2_234054", "created_at": "2023-03-12T03:15:30", "host": "ng30103.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___runtime": 45, "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 6487, "sum___step": 8, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 234.8531852248394, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 384, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 74.68005986585311, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___timestamp": 1678578005, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-34000", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b936d736f4a48b47d9547cc8594a86312a1f64a28bea29450041ccd1ce732f9c", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b936d736f4a48b47d954.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1256838, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "327dbbeb8456ba0d6a6c65329489e10c16058463650f2b1ba0e37b3210f66d2f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_327dbbeb8456ba0d6a6c.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 311119, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 349}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_t5f8d99x", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "t5f8d99x", "state": "finished", "id": "sw_44014d216b8ae86a39540d47fbd4e793_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_44014d216b8ae86a39540d47fbd4e793_2_146317", "created_at": "2023-03-12T03:14:55", "host": "ng30103.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 75.22236726784473, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 234.8925321199143, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 383, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1678584493, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_57c073eaa8c3a317adf5.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 321521, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "57c073eaa8c3a317adf5a05eb2113865fcac25ed1b37f1a97f3d4b6284654967", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum___wandb#runtime": 6343, "sum___runtime": 39, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b936d736f4a48b47d954.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1256838, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b936d736f4a48b47d9547cc8594a86312a1f64a28bea29450041ccd1ce732f9c"}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1jat3adg", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1jat3adg", "state": "finished", "id": "sw_ce919cb7b7ce21f13ace61a5beeb53ec_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ce919cb7b7ce21f13ace61a5beeb53ec_2_234054", "created_at": "2023-03-12T02:24:27", "host": "ng30103.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___runtime": 50, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___step": 8, "sum___timestamp": 1678576949, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.379817987152, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 68.57433570760922, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum___wandb#runtime": 5582, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "fc137371a853dbe7abf5030645148dd03e794a229283835b66ba5f4385c96776", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_fc137371a853dbe7abf5.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 284341, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1jat3adg", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1jat3adg", "state": "finished", "id": "sw_ce919cb7b7ce21f13ace61a5beeb53ec_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ce919cb7b7ce21f13ace61a5beeb53ec_2_146317", "created_at": "2023-03-12T02:23:47", "host": "ng30103.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 69.08023135150937, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.4301391862955, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum___runtime": 29, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e537b6e3c5681f25476737dec701677c1905e25a3abb86884ef15479f71b6731", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e537b6e3c5681f254767.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 293914, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___step": 8, "sum___wandb#runtime": 5257, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846, "sum___timestamp": 1678582518, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-30000", "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1jat3adg", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1jat3adg", "state": "finished", "id": "sw_ce919cb7b7ce21f13ace61a5beeb53ec_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_ce919cb7b7ce21f13ace61a5beeb53ec_2_256788", "created_at": "2023-03-12T02:23:12", "host": "ng30103.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 5848, "sum___runtime": 37, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-26000", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "f9562cd58afc673b3540076e046283294f82ee7419bd73f34752a2cfecedee28", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_f9562cd58afc673b3540.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 273176, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum___timestamp": 1678571079, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 69.06937194559494, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.4324143468951, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_336tof8d", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "336tof8d", "state": "finished", "id": "sw_14a1d5ab2307d9f7bf637a5404756580_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_14a1d5ab2307d9f7bf637a5404756580_2_234054", "created_at": "2023-03-12T02:15:09", "host": "ng20603.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_fc137371a853dbe7abf5.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 284341, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "fc137371a853dbe7abf5030645148dd03e794a229283835b66ba5f4385c96776", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 5416, "sum___runtime": 42, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 68.57433570760922, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.379817987152, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-26000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322, "sum___timestamp": 1678576517, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_336tof8d", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "336tof8d", "state": "finished", "id": "sw_14a1d5ab2307d9f7bf637a5404756580_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_14a1d5ab2307d9f7bf637a5404756580_2_146317", "created_at": "2023-03-12T02:14:15", "host": "ng20603.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum___wandb#runtime": 5248, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.4301391862955, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 69.08023135150937, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-14000", "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e537b6e3c5681f25476737dec701677c1905e25a3abb86884ef15479f71b6731", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e537b6e3c5681f254767.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 293914, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum___timestamp": 1678581939, "sum___runtime": 40, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_336tof8d", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "336tof8d", "state": "finished", "id": "sw_14a1d5ab2307d9f7bf637a5404756580_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_14a1d5ab2307d9f7bf637a5404756580_2_256788", "created_at": "2023-03-12T02:13:20", "host": "ng20603.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 5421, "sum___runtime": 36, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1678571081, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "f9562cd58afc673b3540076e046283294f82ee7419bd73f34752a2cfecedee28", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_f9562cd58afc673b3540.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 273176, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 69.06937194559494, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.4324143468951, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1s9jylsj", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1s9jylsj", "state": "finished", "id": "sw_5418b48dc71691aa4974ce131d75101c_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5418b48dc71691aa4974ce131d75101c_2_256788", "created_at": "2023-03-12T01:10:15", "host": "ng20603.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___step": 8, "sum___runtime": 35, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1678571081, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_43f5dce780bfa7646d9a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1182600, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "43f5dce780bfa7646d9af2266b3bd631d38929da9fd5f53762b6df8342cd5152", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41cd5996d7a64e25f6f03cfd0c2bf261ad62edf88054aae9e59229b665b75e79", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_41cd5996d7a64e25f6f0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 280758, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 365, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 71.28967671523733, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 222.56651498929335, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum___wandb#runtime": 4229, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 536.7832532051282}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1s9jylsj", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1s9jylsj", "state": "finished", "id": "sw_5418b48dc71691aa4974ce131d75101c_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5418b48dc71691aa4974ce131d75101c_2_146317", "created_at": "2023-03-12T01:09:12", "host": "ng20603.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "00663a91ab86d5738073c45487318327909c8f205ba9f2c962db6ac577ae9f9c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_00663a91ab86d5738073.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 302003, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum___step": 8, "sum___wandb#runtime": 3904, "sum___timestamp": 1678579355, "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 30, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_43f5dce780bfa7646d9a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1182600, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "43f5dce780bfa7646d9af2266b3bd631d38929da9fd5f53762b6df8342cd5152", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 222.5831102783726, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 364, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 71.31041747782368}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1s9jylsj", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1s9jylsj", "state": "finished", "id": "sw_5418b48dc71691aa4974ce131d75101c_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_5418b48dc71691aa4974ce131d75101c_2_234054", "created_at": "2023-03-12T01:08:38", "host": "ng20603.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 112.50690014448796, "sum___runtime": 41, "sum___timestamp": 1678575325, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "d68bf4503e964280c97f00c89c2eea37e4d7048b524847c160cfb1833af3aa8f", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_d68bf4503e964280c97f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 292185, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 816, "sum___wandb#runtime": 4033, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_43f5dce780bfa7646d9a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1182600, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "43f5dce780bfa7646d9af2266b3bd631d38929da9fd5f53762b6df8342cd5152", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 70.78875598327123, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 222.53573340471092, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 365, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 47}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_10ii3q6o", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "10ii3q6o", "state": "finished", "id": "sw_fe933e2c427a0193eaf30133be305b29_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fe933e2c427a0193eaf30133be305b29_2_146317", "created_at": "2023-03-12T01:02:48", "host": "ng30401.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-34000", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1678578848, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___runtime": 41, "sum___wandb#runtime": 3983, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e537b6e3c5681f25476737dec701677c1905e25a3abb86884ef15479f71b6731", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e537b6e3c5681f254767.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 293914, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 69.08023135150937, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.4301391862955, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum___step": 8}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_10ii3q6o", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "10ii3q6o", "state": "finished", "id": "sw_fe933e2c427a0193eaf30133be305b29_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fe933e2c427a0193eaf30133be305b29_2_234054", "created_at": "2023-03-12T01:02:09", "host": "ng30401.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___timestamp": 1678574889, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 68.57433570760922, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.379817987152, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___wandb#runtime": 3943, "sum___runtime": 33, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "fc137371a853dbe7abf5030645148dd03e794a229283835b66ba5f4385c96776", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_fc137371a853dbe7abf5.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 284341, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000"}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_10ii3q6o", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "10ii3q6o", "state": "finished", "id": "sw_fe933e2c427a0193eaf30133be305b29_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_fe933e2c427a0193eaf30133be305b29_2_256788", "created_at": "2023-03-12T01:00:50", "host": "ng30401.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 3805, "sum___runtime": 36, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 69.06937194559494, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.4324143468951, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum___timestamp": 1678571080, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_f9562cd58afc673b3540.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 273176, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "f9562cd58afc673b3540076e046283294f82ee7419bd73f34752a2cfecedee28", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2kfh7kn3", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2kfh7kn3", "state": "finished", "id": "sw_da08cab6e0e9fc13718ee133ad777e5c_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_da08cab6e0e9fc13718ee133ad777e5c_2_234054", "created_at": "2023-03-12T00:51:26", "host": "ng20604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 291, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.31487619065151, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.4680139186295, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4e5e7080c469da2b502b857f983ffcb19106247142e50c2f46ce60ee3c12f12b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4e5e7080c469da2b502b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 260782, "sum___step": 8, "sum___timestamp": 1678574842, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___wandb#runtime": 3892, "sum___runtime": 36, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000"}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2kfh7kn3", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2kfh7kn3", "state": "finished", "id": "sw_da08cab6e0e9fc13718ee133ad777e5c_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_da08cab6e0e9fc13718ee133ad777e5c_2_146317", "created_at": "2023-03-12T00:50:08", "host": "ng20604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum___step": 8, "sum___wandb#runtime": 3415, "sum___timestamp": 1678578739, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum___runtime": 33, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-36000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_08722b3213fd451e82cb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 268127, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "08722b3213fd451e82cb05c7ce12a7247b1ef58ce1ef44aa52363532a06720f6", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 290, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.72172709741706, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.43937366167023}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2kfh7kn3", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2kfh7kn3", "state": "finished", "id": "sw_da08cab6e0e9fc13718ee133ad777e5c_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_da08cab6e0e9fc13718ee133ad777e5c_2_256788", "created_at": "2023-03-12T00:49:26", "host": "ng20604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum___runtime": 33, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.4024357601713, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 291, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.68566355211935, "sum___wandb#runtime": 3746, "sum___timestamp": 1678571085, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#size": 251280, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b94fb6a776b49f792f88637a38b09176c7097aa3a06d02231ec9619dffe2152e", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b94fb6a776b49f792f88.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum___step": 8, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_rq0cd983", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "rq0cd983", "state": "finished", "id": "sw_f75cb42709c696c3fb4d047702098b53_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f75cb42709c696c3fb4d047702098b53_2_256788", "created_at": "2023-03-12T00:37:08", "host": "ng30604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 3450, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-26000", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b94fb6a776b49f792f88637a38b09176c7097aa3a06d02231ec9619dffe2152e", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b94fb6a776b49f792f88.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 251280, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.68566355211935, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.4024357601713, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 291, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum___runtime": 35, "sum___timestamp": 1678571089, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_rq0cd983", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "rq0cd983", "state": "finished", "id": "sw_f75cb42709c696c3fb4d047702098b53_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f75cb42709c696c3fb4d047702098b53_2_146317", "created_at": "2023-03-12T00:36:18", "host": "ng30604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___runtime": 30, "sum___timestamp": 1678577989, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 290, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.72172709741706, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.43937366167023, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#size": 268127, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "08722b3213fd451e82cb05c7ce12a7247b1ef58ce1ef44aa52363532a06720f6", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_08722b3213fd451e82cb.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_rq0cd983", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "rq0cd983", "state": "finished", "id": "sw_f75cb42709c696c3fb4d047702098b53_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_f75cb42709c696c3fb4d047702098b53_2_234054", "created_at": "2023-03-12T00:35:20", "host": "ng30604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.31487619065151, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.4680139186295, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 291, "sum___wandb#runtime": 3440, "sum___timestamp": 1678574555, "sum___runtime": 44, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4e5e7080c469da2b502b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 260782, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4e5e7080c469da2b502b857f983ffcb19106247142e50c2f46ce60ee3c12f12b", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ahp62ej", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3ahp62ej", "state": "finished", "id": "sw_678b97e98be38ced99869d487efe7e86_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_678b97e98be38ced99869d487efe7e86_2_234054", "created_at": "2023-03-11T23:41:48", "host": "ng30602.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_9db891575d2aa0077f5e.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 204435, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "9db891575d2aa0077f5e2833de76e65bdaf12a3a3953b24c7c24cd09f1b02165", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 263, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 49.98818934874373, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.7930942184154, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___step": 8, "sum___wandb#runtime": 2285, "sum___runtime": 35, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum___timestamp": 1678573295, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ahp62ej", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3ahp62ej", "state": "finished", "id": "sw_678b97e98be38ced99869d487efe7e86_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_678b97e98be38ced99869d487efe7e86_2_146317", "created_at": "2023-03-11T23:40:29", "host": "ng30602.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-28000", "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum___runtime": 30, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 50.33096712851876, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.84100642398286, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 262, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum___wandb#runtime": 2346, "sum___timestamp": 1678575583, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_d5f8eefe113b22273abf.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 211453, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "d5f8eefe113b22273abf3955427d197eef1239d2e4ea9805eee92ff2f3c08658", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ahp62ej", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3ahp62ej", "state": "finished", "id": "sw_678b97e98be38ced99869d487efe7e86_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_678b97e98be38ced99869d487efe7e86_2_256788", "created_at": "2023-03-11T23:39:26", "host": "ng30602.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum___timestamp": 1678571079, "sum___runtime": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ffd5af8f29053d4118279b62dd71abc8f0cd8c38d3dd716caff0c61d0c2df77", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ffd5af8f29053d41182.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 196563, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 263, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 50.36221297758211, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.86402569593147, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873, "sum___wandb#runtime": 2205}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_dww6ak56", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "dww6ak56", "state": "finished", "id": "sw_e9ab4e9522def9e5d469803daf42860b_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e9ab4e9522def9e5d469803daf42860b_2_146317", "created_at": "2023-03-07T21:24:26", "host": "ng30604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "last at None", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 69.08023135150937, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.4301391862955, "sum___wandb#runtime": 3835, "sum___runtime": 36, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "e537b6e3c5681f25476737dec701677c1905e25a3abb86884ef15479f71b6731", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_e537b6e3c5681f254767.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 293914, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum___step": 8, "sum___timestamp": 1678578886, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_dww6ak56", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "dww6ak56", "state": "finished", "id": "sw_e9ab4e9522def9e5d469803daf42860b_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e9ab4e9522def9e5d469803daf42860b_2_234054", "created_at": "2023-03-07T20:12:21", "host": "ng30604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "last at None", "sum__ds_examples/ExperimentStage.VALIDATION#size": 284341, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "fc137371a853dbe7abf5030645148dd03e794a229283835b66ba5f4385c96776", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_fc137371a853dbe7abf5.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 68.57433570760922, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.379817987152, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__computed_per_device_eval_batch_size": 32, "sum___timestamp": 1678574972, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum___wandb#runtime": 3900, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 31}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_ikyqlcon", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "ikyqlcon", "state": "finished", "id": "sw_05f28e5fe48a76cce478e242b56ac37e_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_05f28e5fe48a76cce478e242b56ac37e_2_256788", "created_at": "2023-03-07T19:19:41", "host": "cdr2513.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bedd03b2fec0bd8c99134c62d9ca7044f5a0285eaedbcdff2f49db8ec050fef7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bedd03b2fec0bd8c9913.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 184700, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 36.02229277233501, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.30125802997858, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 202, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum___timestamp": 1678204123, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum___wandb#runtime": 4230, "sum___runtime": 45, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_ikyqlcon", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "ikyqlcon", "state": "finished", "id": "sw_05f28e5fe48a76cce478e242b56ac37e_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_05f28e5fe48a76cce478e242b56ac37e_2_234054", "created_at": "2023-03-07T19:18:33", "host": "cdr2513.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bf499ce46804929f1673.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 191412, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bf499ce46804929f1673e7aba6bf454d892d73729d26a4165161979e9c10ef5c", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 202, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 35.77524970704378, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.3175856531049, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum___wandb#runtime": 4127, "sum___runtime": 37, "sum___timestamp": 1678208354, "sum__computed_num_process": 1, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_ikyqlcon", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "ikyqlcon", "state": "finished", "id": "sw_05f28e5fe48a76cce478e242b56ac37e_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_05f28e5fe48a76cce478e242b56ac37e_2_146317", "created_at": "2023-03-07T19:16:19", "host": "cdr2513.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum___runtime": 36, "sum___timestamp": 1678212489, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-20000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 36.03726077133785, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.3009903640257, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 198, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum___step": 8, "sum___wandb#runtime": 4047, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_937e017c69c9c0feeac9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 196573, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "937e017c69c9c0feeac9c676dfd5128a0e54832a19cac9b4694d5e7230c6e23d", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_5cvwq8ox", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "5cvwq8ox", "state": "finished", "id": "sw_1d81e2ae1714195198351fe8a35e2daa_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1d81e2ae1714195198351fe8a35e2daa_2_146317", "created_at": "2023-03-07T18:47:51", "host": "cdr2514.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 2810, "sum___runtime": 42, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_937e017c69c9c0feeac9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 196573, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "937e017c69c9c0feeac9c676dfd5128a0e54832a19cac9b4694d5e7230c6e23d", "sum___step": 8, "sum___timestamp": 1678211874, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 198, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 36.03726077133785, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.3009903640257}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_5cvwq8ox", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "5cvwq8ox", "state": "finished", "id": "sw_1d81e2ae1714195198351fe8a35e2daa_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1d81e2ae1714195198351fe8a35e2daa_2_256788", "created_at": "2023-03-07T18:46:49", "host": "cdr2514.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 2528, "sum___timestamp": 1678206795, "sum___runtime": 43, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 202, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 36.02229277233501, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.30125802997858, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bedd03b2fec0bd8c9913.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 184700, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bedd03b2fec0bd8c99134c62d9ca7044f5a0285eaedbcdff2f49db8ec050fef7"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_5cvwq8ox", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "5cvwq8ox", "state": "finished", "id": "sw_1d81e2ae1714195198351fe8a35e2daa_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1d81e2ae1714195198351fe8a35e2daa_2_234054", "created_at": "2023-03-07T18:46:03", "host": "cdr2514.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___timestamp": 1678209333, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum___step": 8, "sum___wandb#runtime": 2535, "sum___runtime": 44, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.VALIDATION#size": 191412, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bf499ce46804929f1673e7aba6bf454d892d73729d26a4165161979e9c10ef5c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bf499ce46804929f1673.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.3175856531049, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 202, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 35.77524970704378}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2mzmohtt", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2mzmohtt", "state": "finished", "id": "sw_63a3018dc7348c6b93b1cb44d70be123_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_63a3018dc7348c6b93b1cb44d70be123_2_256788", "created_at": "2023-03-07T18:26:41", "host": "cdr2502.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 3653, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#size": 184700, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bedd03b2fec0bd8c99134c62d9ca7044f5a0285eaedbcdff2f49db8ec050fef7", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bedd03b2fec0bd8c9913.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105, "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 202, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 36.02229277233501, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.30125802997858, "sum___timestamp": 1678202627, "sum__computed_per_device_train_batch_size": 64, "sum___runtime": 43, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-34000"}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2mzmohtt", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2mzmohtt", "state": "finished", "id": "sw_63a3018dc7348c6b93b1cb44d70be123_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_63a3018dc7348c6b93b1cb44d70be123_2_234054", "created_at": "2023-03-07T18:24:43", "host": "cdr2502.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bf499ce46804929f1673e7aba6bf454d892d73729d26a4165161979e9c10ef5c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bf499ce46804929f1673.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 191412, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___step": 8, "sum___wandb#runtime": 3626, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-32000", "sum__computed_per_device_eval_batch_size": 32, "sum___runtime": 36, "sum___timestamp": 1678206282, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.3175856531049, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 202, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 35.77524970704378}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2mzmohtt", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2mzmohtt", "state": "finished", "id": "sw_63a3018dc7348c6b93b1cb44d70be123_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_63a3018dc7348c6b93b1cb44d70be123_2_146317", "created_at": "2023-03-07T18:24:12", "host": "cdr2502.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum___runtime": 37, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "937e017c69c9c0feeac9c676dfd5128a0e54832a19cac9b4694d5e7230c6e23d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_937e017c69c9c0feeac9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 196573, "sum___step": 8, "sum___timestamp": 1678209916, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 198, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 36.03726077133785, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.3009903640257, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum___wandb#runtime": 3536}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_28frsufg", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "28frsufg", "state": "finished", "id": "sw_1394e5bd03e5834cb35e86e012582a8a_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1394e5bd03e5834cb35e86e012582a8a_2_146317", "created_at": "2023-03-07T18:17:01", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 198, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 36.03726077133785, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.3009903640257, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum___step": 8, "sum___timestamp": 1678209831, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-32000", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "937e017c69c9c0feeac9c676dfd5128a0e54832a19cac9b4694d5e7230c6e23d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_937e017c69c9c0feeac9.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 196573, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105, "sum___wandb#runtime": 2928, "sum___runtime": 37, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_28frsufg", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "28frsufg", "state": "finished", "id": "sw_1394e5bd03e5834cb35e86e012582a8a_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1394e5bd03e5834cb35e86e012582a8a_2_234054", "created_at": "2023-03-07T18:16:15", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-30000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 202, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 35.77524970704378, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.3175856531049, "sum___step": 8, "sum___wandb#runtime": 3014, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bf499ce46804929f1673e7aba6bf454d892d73729d26a4165161979e9c10ef5c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bf499ce46804929f1673.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 191412, "sum___runtime": 37, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___timestamp": 1678206810, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_28frsufg", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "28frsufg", "state": "finished", "id": "sw_1394e5bd03e5834cb35e86e012582a8a_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_1394e5bd03e5834cb35e86e012582a8a_2_256788", "created_at": "2023-03-07T18:12:46", "host": "cdr2546.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v0_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 36.02229277233501, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 130.30125802997858, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 202, "sum___timestamp": 1678203775, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "c46a405e50baf000907b06397164657f47c581ae7aefca36d436189ae2e22f38", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_c46a405e50baf000907b.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 644056, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_bedd03b2fec0bd8c9913.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 184700, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "bedd03b2fec0bd8c99134c62d9ca7044f5a0285eaedbcdff2f49db8ec050fef7", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 181, "sum___step": 8, "sum___wandb#runtime": 3033, "sum___runtime": 44, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 43.88020226244625, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 267.04907852564105, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 357, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 181, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i0_c1_o1_v0_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_18hplwyn", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "18hplwyn", "state": "finished", "id": "sw_eed67d81e461fc3f769ef2f4f0e77e90_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_eed67d81e461fc3f769ef2f4f0e77e90_2_146317", "created_at": "2023-03-07T17:58:47", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "last at None", "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum___timestamp": 1678577437, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6e79b777bbce1efdb049.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#size": 277574, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "53f71e278d6175a31d50ce1c17cf5c3d5d391f922ea4c450dcd0c7fe5ebfb6f0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_53f71e278d6175a31d50.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 323, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.752210215815374, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.21654175588864, "sum___step": 8, "sum___wandb#runtime": 3170, "sum___runtime": 24, "sum__computed_per_device_train_batch_size": 64}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_135w6lp4", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "135w6lp4", "state": "finished", "id": "sw_bb636838e3f9eb6ab789c9c9c3e3c748_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bb636838e3f9eb6ab789c9c9c3e3c748_2_146317", "created_at": "2023-03-07T17:40:38", "host": "cn-g007", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 3673, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum___step": 8, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://u2p9mspnx9s7gjj2ifx5xt7yyhd3v0a57hv4mbs4gfpa7koae1b6lsccee41hyejlbse897ezfh9n83h4iysedhuptydmzpucuv1r56w95od0m7c4u5i67bcgapk22bx:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://u2p9mspnx9s7gjj2ifx5xt7yyhd3v0a57hv4mbs4gfpa7koae1b6lsccee41hyejlbse897ezfh9n83h4iysedhuptydmzpucuv1r56w95od0m7c4u5i67bcgapk22bx:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 50.33096712851876, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.84100642398286, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum___runtime": 29, "sum___timestamp": 1678210867, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-24000", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "d5f8eefe113b22273abf3955427d197eef1239d2e4ea9805eee92ff2f3c08658", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://qt83500v75vpde089w0js6cpymcosigk6jf26uqx2gq68hdp6q2xsoog969txcq14i36h20xoa5oh9hw5xspmbpw2i1nifuq1w4ssvkkggbtkz9fh3lqzzkn9v0vsfi7:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://qt83500v75vpde089w0js6cpymcosigk6jf26uqx2gq68hdp6q2xsoog969txcq14i36h20xoa5oh9hw5xspmbpw2i1nifuq1w4ssvkkggbtkz9fh3lqzzkn9v0vsfi7:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_d5f8eefe113b22273abf.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 211453, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1d5naxe0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1d5naxe0", "state": "finished", "id": "sw_8c15227e0dd5b6aecc723206d5a5a759_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8c15227e0dd5b6aecc723206d5a5a759_2_146317", "created_at": "2023-03-07T17:40:16", "host": "cn-g005", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://e0chlo5rzk5pll7j23zr0a55d4gmwhwbt8nz96ghf7egqkk5a010m4z0pxjlhvnqa536qw3tn11fcnlpyqwzymvzw2dh0crqgqzabsal153zplu2x6c9wj3l89m5h2b7:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_53f71e278d6175a31d50.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 277574, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "53f71e278d6175a31d50ce1c17cf5c3d5d391f922ea4c450dcd0c7fe5ebfb6f0", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://e0chlo5rzk5pll7j23zr0a55d4gmwhwbt8nz96ghf7egqkk5a010m4z0pxjlhvnqa536qw3tn11fcnlpyqwzymvzw2dh0crqgqzabsal153zplu2x6c9wj3l89m5h2b7:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__computed_num_process": 1, "sum___wandb#runtime": 3681, "sum___runtime": 34, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.752210215815374, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.21654175588864, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 323, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-38000", "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6e79b777bbce1efdb049.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://qo1oj5cvouyxrcuf0sjifhuxrnromow3reghh78h9xlx7876zmbl0v8mlek9we3thlp5dhnfokyx55jzhit3ul51x8qdwm930mdu7e635jpufu3tg4xv9vqvzqnmipml:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://qo1oj5cvouyxrcuf0sjifhuxrnromow3reghh78h9xlx7876zmbl0v8mlek9we3thlp5dhnfokyx55jzhit3ul51x8qdwm930mdu7e635jpufu3tg4xv9vqvzqnmipml:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum___timestamp": 1678210845, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_pyapm3kk", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "pyapm3kk", "state": "finished", "id": "sw_2dec5063e08f0ed6c73cf7b375969210_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2dec5063e08f0ed6c73cf7b375969210_2_146317", "created_at": "2023-03-07T17:39:12", "host": "cn-g006", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://15ar09nrwchafok0bs6k0s8xermavlvllqnkty15manabwraruoryonhijupvir55itmmd0r93k63vy5mopeiwvznpot2l8hevt9w7br5m2v13e27xio055upt3h1oyu:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://15ar09nrwchafok0bs6k0s8xermavlvllqnkty15manabwraruoryonhijupvir55itmmd0r93k63vy5mopeiwvznpot2l8hevt9w7br5m2v13e27xio055upt3h1oyu:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 50.33096712851876, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.84100642398286, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 262, "sum___runtime": 27, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_d5f8eefe113b22273abf.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 211453, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "d5f8eefe113b22273abf3955427d197eef1239d2e4ea9805eee92ff2f3c08658", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://ui1a5xq85eh2jrc285n55sdio2v191e66pigj6ktptpmwatc5wn9b96n14pmr3xn161lzk17113phhg7y7fasg13jp5jm1p33hgx7dzedytjxhh6xzrs2tvxgrtayb7y:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://ui1a5xq85eh2jrc285n55sdio2v191e66pigj6ktptpmwatc5wn9b96n14pmr3xn161lzk17113phhg7y7fasg13jp5jm1p33hgx7dzedytjxhh6xzrs2tvxgrtayb7y:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum___timestamp": 1678210779, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum___wandb#runtime": 3605}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_x5ui27ay", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "x5ui27ay", "state": "finished", "id": "sw_e13992046f581e23df124939f7c2949f_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e13992046f581e23df124939f7c2949f_2_146317", "created_at": "2023-03-07T17:30:31", "host": "ng30702.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_08722b3213fd451e82cb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 268127, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "08722b3213fd451e82cb05c7ce12a7247b1ef58ce1ef44aa52363532a06720f6", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 290, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.72172709741706, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.43937366167023, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum___step": 8, "sum___timestamp": 1678575874, "sum__computed_per_device_eval_batch_size": 32, "sum___wandb#runtime": 2509, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum___runtime": 29, "sum__analyze_all_test_ckpt_path": "last at None"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2zaci7fu", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2zaci7fu", "state": "finished", "id": "sw_3d53d1742e0316959e0296713ecf6a6c_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3d53d1742e0316959e0296713ecf6a6c_2_146317", "created_at": "2023-03-07T17:22:25", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 2226, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 262, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 50.33096712851876, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.84100642398286, "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "d5f8eefe113b22273abf3955427d197eef1239d2e4ea9805eee92ff2f3c08658", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_d5f8eefe113b22273abf.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 211453, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873, "sum___runtime": 31, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "last at None", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___timestamp": 1678575452}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_gb0ake73", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "gb0ake73", "state": "finished", "id": "sw_dc1f30dd90314fc5a4497a42c8840f01_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_dc1f30dd90314fc5a4497a42c8840f01_2_146317", "created_at": "2023-03-07T17:06:59", "host": "cn-g006", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 2632, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://15wmrb6gmdljbfpu32wqvdle31sin4d1uw0vak9si1thx9ha0db7j2c5ayy7y8jezzqubz14tbk811xl8ks6wycg266w2hzmq6yyl17hxomm4f9c6mesebiihsybdfqd:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://15wmrb6gmdljbfpu32wqvdle31sin4d1uw0vak9si1thx9ha0db7j2c5ayy7y8jezzqubz14tbk811xl8ks6wycg266w2hzmq6yyl17hxomm4f9c6mesebiihsybdfqd:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.72172709741706, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.43937366167023, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 290, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum___runtime": 27, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-26000", "sum__computed_per_device_train_batch_size": 64, "sum___timestamp": 1678208846, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "08722b3213fd451e82cb05c7ce12a7247b1ef58ce1ef44aa52363532a06720f6", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://156g3t3yvn6heqyecbq0mduk7lhtij7m8czmdflfs3rbmmq7gd39hz2kmu1ps9xypne02a3mlevclsqkfxv7lo2xhoz8ty7dgcq4omua8ulg5qgvkhu20als2xo3dm5s:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://156g3t3yvn6heqyecbq0mduk7lhtij7m8czmdflfs3rbmmq7gd39hz2kmu1ps9xypne02a3mlevclsqkfxv7lo2xhoz8ty7dgcq4omua8ulg5qgvkhu20als2xo3dm5s:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_08722b3213fd451e82cb.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 268127, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_18hplwyn", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "18hplwyn", "state": "finished", "id": "sw_eed67d81e461fc3f769ef2f4f0e77e90_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_eed67d81e461fc3f769ef2f4f0e77e90_2_234054", "created_at": "2023-03-07T16:58:13", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__analyze_all_test_ckpt_path": "last at None", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 325, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.31843028580311, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.17612419700217, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231, "sum___step": 8, "sum__computed_num_process": 1, "sum___timestamp": 1678574313, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "62d2f8a9797791a3618d99ad263763fc0531239de9bb83bbde6147fd1b0783c0", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_62d2f8a9797791a3618d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 268527, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum___wandb#runtime": 3123, "sum___runtime": 31, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6e79b777bbce1efdb049.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063}
{"run_group": "SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_jyxc4v15", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "jyxc4v15", "state": "finished", "id": "sw_8c55843eb0efb7ae58c410a18375cf7d_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8c55843eb0efb7ae58c410a18375cf7d_2_256788", "created_at": "2023-03-07T16:54:24", "host": "cdr2509.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum___runtime": 36, "sum___timestamp": 1678206785, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "24a038ab36246044c497a11275ae920d8445f36182072d6f30b357c50d3b7346", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_24a038ab36246044c497.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 43433, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.59654260340757, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.069726980728053, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum___wandb#runtime": 352, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615}
{"run_group": "SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_jyxc4v15", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "jyxc4v15", "state": "finished", "id": "sw_8c55843eb0efb7ae58c410a18375cf7d_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8c55843eb0efb7ae58c410a18375cf7d_2_146317", "created_at": "2023-03-07T16:53:18", "host": "cdr2509.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum___runtime": 29, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_25734f4d81ec6a3a3a8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 45589, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "25734f4d81ec6a3a3a8bf559fc0c9797f0e9446815cc9051e1c5f358056d0622", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum___wandb#runtime": 343, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum___timestamp": 1678207487, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 40, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.569611553936126, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.0421573875803}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3nc2vdc1", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3nc2vdc1", "state": "finished", "id": "sw_c925045f8186e349342ead4fcb22a88d_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c925045f8186e349342ead4fcb22a88d_2_256788", "created_at": "2023-03-07T16:51:03", "host": "cdr2481.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum___wandb#runtime": 312, "sum___timestamp": 1678206785, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "24a038ab36246044c497a11275ae920d8445f36182072d6f30b357c50d3b7346", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_24a038ab36246044c497.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 43433, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615, "sum___runtime": 34, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.59654260340757, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.069726980728053, "sum___step": 8, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_jyxc4v15", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "jyxc4v15", "state": "finished", "id": "sw_8c55843eb0efb7ae58c410a18375cf7d_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8c55843eb0efb7ae58c410a18375cf7d_2_234054", "created_at": "2023-03-07T16:50:10", "host": "cdr2509.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.540080189166976, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.039614561027836, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_92e97c749249129c7bd7.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 44662, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "92e97c749249129c7bd7db340aee52280123b33c6cb5d085c74284f8c1c1f89d", "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___timestamp": 1678207139, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum___wandb#runtime": 340, "sum___runtime": 28, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3nc2vdc1", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3nc2vdc1", "state": "finished", "id": "sw_c925045f8186e349342ead4fcb22a88d_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c925045f8186e349342ead4fcb22a88d_2_146317", "created_at": "2023-03-07T16:49:49", "host": "cdr2481.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_25734f4d81ec6a3a3a8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 45589, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "25734f4d81ec6a3a3a8bf559fc0c9797f0e9446815cc9051e1c5f358056d0622", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 40, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.569611553936126, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.0421573875803, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615, "sum___timestamp": 1678207416, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum___step": 8, "sum___runtime": 27, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum___wandb#runtime": 322}
{"run_group": "SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3nc2vdc1", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3nc2vdc1", "state": "finished", "id": "sw_c925045f8186e349342ead4fcb22a88d_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_c925045f8186e349342ead4fcb22a88d_2_234054", "created_at": "2023-03-07T16:49:05", "host": "cdr2481.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#size": 44662, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "92e97c749249129c7bd7db340aee52280123b33c6cb5d085c74284f8c1c1f89d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_92e97c749249129c7bd7.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.540080189166976, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.039614561027836, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___runtime": 26, "sum___timestamp": 1678207098, "sum___wandb#runtime": 309, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_abs_sin_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1bahbtm1", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1bahbtm1", "state": "finished", "id": "sw_0b9aad24f26dbf2fad3201ae1f1ac939_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0b9aad24f26dbf2fad3201ae1f1ac939_2_256788", "created_at": "2023-03-07T16:48:44", "host": "cdr2522.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615, "sum___step": 8, "sum___wandb#runtime": 364, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_24a038ab36246044c497.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 43433, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "24a038ab36246044c497a11275ae920d8445f36182072d6f30b357c50d3b7346", "sum___timestamp": 1678206352, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.59654260340757, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.069726980728053, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum___runtime": 34, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1bahbtm1", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1bahbtm1", "state": "finished", "id": "sw_0b9aad24f26dbf2fad3201ae1f1ac939_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0b9aad24f26dbf2fad3201ae1f1ac939_2_234054", "created_at": "2023-03-07T16:46:34", "host": "cdr2522.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum___step": 8, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.540080189166976, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.039614561027836, "sum___runtime": 27, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_92e97c749249129c7bd7.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 44662, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "92e97c749249129c7bd7db340aee52280123b33c6cb5d085c74284f8c1c1f89d", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000", "sum___timestamp": 1678206718, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___wandb#runtime": 345}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_x5ui27ay", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "x5ui27ay", "state": "finished", "id": "sw_e13992046f581e23df124939f7c2949f_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e13992046f581e23df124939f7c2949f_2_234054", "created_at": "2023-03-07T16:45:22", "host": "ng30702.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum___step": 8, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4e5e7080c469da2b502b857f983ffcb19106247142e50c2f46ce60ee3c12f12b", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4e5e7080c469da2b502b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 260782, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum___wandb#runtime": 2409, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 291, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.31487619065151, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.4680139186295, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum___runtime": 24, "sum___timestamp": 1678573453, "sum__analyze_all_test_ckpt_path": "last at None", "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526}
{"run_group": "SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1bahbtm1", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1bahbtm1", "state": "finished", "id": "sw_0b9aad24f26dbf2fad3201ae1f1ac939_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0b9aad24f26dbf2fad3201ae1f1ac939_2_146317", "created_at": "2023-03-07T16:44:53", "host": "cdr2522.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum___wandb#runtime": 354, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "25734f4d81ec6a3a3a8bf559fc0c9797f0e9446815cc9051e1c5f358056d0622", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_25734f4d81ec6a3a3a8b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 45589, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum___step": 8, "sum___runtime": 27, "sum___timestamp": 1678207071, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.0421573875803, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 40, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.569611553936126, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2zaci7fu", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2zaci7fu", "state": "finished", "id": "sw_3d53d1742e0316959e0296713ecf6a6c_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3d53d1742e0316959e0296713ecf6a6c_2_234054", "created_at": "2023-03-07T16:41:54", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_per_device_train_batch_size": 64, "sum___wandb#runtime": 2167, "sum__analyze_all_test_ckpt_path": "last at None", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum___step": 8, "sum__computed_num_process": 1, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_9db891575d2aa0077f5e.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 204435, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "9db891575d2aa0077f5e2833de76e65bdaf12a3a3953b24c7c24cd09f1b02165", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 263, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 49.98818934874373, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.7930942184154, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___runtime": 26, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum___timestamp": 1678573272}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_135w6lp4", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "135w6lp4", "state": "finished", "id": "sw_bb636838e3f9eb6ab789c9c9c3e3c748_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bb636838e3f9eb6ab789c9c9c3e3c748_2_234054", "created_at": "2023-03-07T16:38:17", "host": "cn-g007", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum___wandb#runtime": 3733, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 263, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 49.98818934874373, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.7930942184154, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___step": 8, "sum___runtime": 26, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-30000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum___timestamp": 1678207123, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://vulyqylpfbtwlk4pb7akbgr92zaunfxxslh75y0yyc3fbzm7r83htjeiug6xb16rt455ihym0ic4nwtj325robo3xncbdklenlcbvntf7e4g418v0l8jx4yv14u3oanh:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://vulyqylpfbtwlk4pb7akbgr92zaunfxxslh75y0yyc3fbzm7r83htjeiug6xb16rt455ihym0ic4nwtj325robo3xncbdklenlcbvntf7e4g418v0l8jx4yv14u3oanh:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "9db891575d2aa0077f5e2833de76e65bdaf12a3a3953b24c7c24cd09f1b02165", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://118jcd9k9idv7h7fon3sqump4j1emi9xiaw95lk7otqgg20sewcjz085sz92ltfz78cbrhuia47dnkzor1d1310ji5w40rkwkpi98duchq3os42e3yus0zeeupbvgr31:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://118jcd9k9idv7h7fon3sqump4j1emi9xiaw95lk7otqgg20sewcjz085sz92ltfz78cbrhuia47dnkzor1d1310ji5w40rkwkpi98duchq3os42e3yus0zeeupbvgr31:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_9db891575d2aa0077f5e.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 204435, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_pyapm3kk", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "pyapm3kk", "state": "finished", "id": "sw_2dec5063e08f0ed6c73cf7b375969210_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2dec5063e08f0ed6c73cf7b375969210_2_234054", "created_at": "2023-03-07T16:38:17", "host": "cn-g006", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___step": 8, "sum___timestamp": 1678207123, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://kv8y8y1tk6dstlnqjcib6x1d2bs9g6zk3wli9glp9uz9kmzw1axy5wmyk1r48b2hab1bb9u9kzr3z5ucmhubjy4h9113rdw153txj4cob7gwf2ew0d2xs28bpfvm4rpb:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://kv8y8y1tk6dstlnqjcib6x1d2bs9g6zk3wli9glp9uz9kmzw1axy5wmyk1r48b2hab1bb9u9kzr3z5ucmhubjy4h9113rdw153txj4cob7gwf2ew0d2xs28bpfvm4rpb:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___runtime": 27, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_9db891575d2aa0077f5e.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 204435, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "9db891575d2aa0077f5e2833de76e65bdaf12a3a3953b24c7c24cd09f1b02165", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://22k2x8ujsf3xak0or2a44cs4lcu110927pcgfvczyz0ysddkemin66gnyjwn0ykym2my8j8kryvkenoi85nu9oi5eph4un6b09yqsxyc2qtvh6m5b2z9i1dy4554wzg4:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://22k2x8ujsf3xak0or2a44cs4lcu110927pcgfvczyz0ysddkemin66gnyjwn0ykym2my8j8kryvkenoi85nu9oi5eph4un6b09yqsxyc2qtvh6m5b2z9i1dy4554wzg4:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 49.98818934874373, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.7930942184154, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 263, "sum___wandb#runtime": 3643, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-36000"}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1d5naxe0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1d5naxe0", "state": "finished", "id": "sw_8c15227e0dd5b6aecc723206d5a5a759_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8c15227e0dd5b6aecc723206d5a5a759_2_234054", "created_at": "2023-03-07T16:38:11", "host": "cn-g005", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_62d2f8a9797791a3618d.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 268527, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "62d2f8a9797791a3618d99ad263763fc0531239de9bb83bbde6147fd1b0783c0", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://dwb6ppz6kvops1zovem4kbwrq8jlmwxl942rv2ecmxl7ed1jh8rf8lmlf8nu1kc8swzynk7gx8jf47o12wsab70cp3yvj95j3txlzn1rfxo967bqr68g7e4o0h0sg856:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://dwb6ppz6kvops1zovem4kbwrq8jlmwxl942rv2ecmxl7ed1jh8rf8lmlf8nu1kc8swzynk7gx8jf47o12wsab70cp3yvj95j3txlzn1rfxo967bqr68g7e4o0h0sg856:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum___step": 8, "sum___wandb#runtime": 3711, "sum__computed_per_device_train_batch_size": 64, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-34000", "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://v7kmmd6by7fxp7d8lii26quyr6b2tapsr4q9lu22cr6osd92p2g0qobdpvmd794bi5pd6t8quj0sg7dvrf0p9xsez3im7oafei3ydm1m2pohdol1xf5ysjsw5xhv023o:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://v7kmmd6by7fxp7d8lii26quyr6b2tapsr4q9lu22cr6osd92p2g0qobdpvmd794bi5pd6t8quj0sg7dvrf0p9xsez3im7oafei3ydm1m2pohdol1xf5ysjsw5xhv023o:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6e79b777bbce1efdb049.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 325, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.31843028580311, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.17612419700217, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum___runtime": 32, "sum___timestamp": 1678207122}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_gb0ake73", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "gb0ake73", "state": "finished", "id": "sw_dc1f30dd90314fc5a4497a42c8840f01_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_dc1f30dd90314fc5a4497a42c8840f01_2_234054", "created_at": "2023-03-07T16:21:03", "host": "cn-g006", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.31487619065151, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.4680139186295, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 291, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://m24nwrt0yyrkfzf4gnaitwq1cgraq7ptob008cv2a7nzdpnnii0e0p7ty3swvdx2yrqyp5npd8sj60jpyd77yqsjisigo7nbuk3qdwcy99q4ifviqy278uxs0mlouys9:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://m24nwrt0yyrkfzf4gnaitwq1cgraq7ptob008cv2a7nzdpnnii0e0p7ty3swvdx2yrqyp5npd8sj60jpyd77yqsjisigo7nbuk3qdwcy99q4ifviqy278uxs0mlouys9:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___runtime": 34, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "4e5e7080c469da2b502b857f983ffcb19106247142e50c2f46ce60ee3c12f12b", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://1abq4b43d9no9ahna2m7qu3f2ij18r1g1at1x0ksufiu6dvkx0inaz22leuslnxfd33rwruffr3q257p9bj8ytkxqk3ec4am0f7unpd6ana1te1rk0u503gvnxtp42hm:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://1abq4b43d9no9ahna2m7qu3f2ij18r1g1at1x0ksufiu6dvkx0inaz22leuslnxfd33rwruffr3q257p9bj8ytkxqk3ec4am0f7unpd6ana1te1rk0u503gvnxtp42hm:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_4e5e7080c469da2b502b.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 260782, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum___step": 8, "sum___wandb#runtime": 2749, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum___timestamp": 1678206094, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-36000"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_x5ui27ay", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "x5ui27ay", "state": "finished", "id": "sw_e13992046f581e23df124939f7c2949f_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e13992046f581e23df124939f7c2949f_2_256788", "created_at": "2023-03-07T15:59:19", "host": "ng30702.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_examples/ExperimentStage.VALIDATION#size": 251280, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b94fb6a776b49f792f88637a38b09176c7097aa3a06d02231ec9619dffe2152e", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b94fb6a776b49f792f88.table.json", "sum___timestamp": 1678571086, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum___step": 8, "sum___wandb#runtime": 2364, "sum___runtime": 29, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum__analyze_all_test_ckpt_path": "last at None", "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.68566355211935, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.4024357601713, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 291, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2zaci7fu", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2zaci7fu", "state": "finished", "id": "sw_3d53d1742e0316959e0296713ecf6a6c_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_3d53d1742e0316959e0296713ecf6a6c_2_256788", "created_at": "2023-03-07T15:59:15", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 2179, "sum___timestamp": 1678571086, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum___step": 8, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "last at None", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ffd5af8f29053d4118279b62dd71abc8f0cd8c38d3dd716caff0c61d0c2df77", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ffd5af8f29053d41182.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 196563, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum___runtime": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 50.36221297758211, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.86402569593147, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 263, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_18hplwyn", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "18hplwyn", "state": "finished", "id": "sw_eed67d81e461fc3f769ef2f4f0e77e90_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_eed67d81e461fc3f769ef2f4f0e77e90_2_256788", "created_at": "2023-03-07T15:56:31", "host": "ng30605.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___runtime": 30, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c5a5715430dec8e7ab5c135ad849d65914c71b5cf151478e45f9bbd540b7d50c", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c5a5715430dec8e7ab5c.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 258036, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum___step": 8, "sum__computed_num_process": 1, "sum___timestamp": 1678571085, "sum__analyze_all_test_ckpt_path": "last at None", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 325, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.7488824376832, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.22845289079228, "sum___wandb#runtime": 3220, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6e79b777bbce1efdb049.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e"}
{"run_group": "SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_dww6ak56", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "dww6ak56", "state": "finished", "id": "sw_e9ab4e9522def9e5d469803daf42860b_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_e9ab4e9522def9e5d469803daf42860b_2_256788", "created_at": "2023-03-07T15:56:25", "host": "ng30604.narval.calcul.quebec", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.18.0-372.26.1.el8_6.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-40GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "abs_sinusoid", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": false, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_abs_sin_w_scratchpad_f_ufs__i0_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_abs_sin.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i0_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 3882, "sum__ds_examples/ExperimentStage.VALIDATION#size": 273176, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "f9562cd58afc673b3540076e046283294f82ee7419bd73f34752a2cfecedee28", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_f9562cd58afc673b3540.table.json", "sum__analyze_all_test_ckpt_path": "last at None", "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 520.9942908653846, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 800, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 322, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 110.00137613621436, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 520.9942908653846, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "94484858474d2b5d59ba27e3756fd1e07d3b88a33981914093160479dba52bce", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_94484858474d2b5d59ba.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1151220, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 69.06937194559494, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 215.4324143468951, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 354, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum___step": 8, "sum___runtime": 32, "sum___timestamp": 1678571084, "sum__computed_num_process": 1}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3kxpw5gi", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3kxpw5gi", "state": "finished", "id": "sw_777b5b7ee9c28b3742dab8367c2bd8ad_2_234054", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_777b5b7ee9c28b3742dab8367c2bd8ad_2_234054", "created_at": "2023-03-07T15:49:58", "host": "cdr2513.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 234054, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_234054", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 234054, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.540080189166976, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.039614561027836, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 26, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.625213426828323, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.727783725910063, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615, "sum___wandb#runtime": 483, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#size": 44662, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "92e97c749249129c7bd7db340aee52280123b33c6cb5d085c74284f8c1c1f89d", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_92e97c749249129c7bd7.table.json", "sum___step": 8, "sum___runtime": 26, "sum___timestamp": 1678203106, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_234054/checkpoints/checkpoint-40000"}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3kxpw5gi", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3kxpw5gi", "state": "finished", "id": "sw_777b5b7ee9c28b3742dab8367c2bd8ad_2_146317", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_777b5b7ee9c28b3742dab8367c2bd8ad_2_146317", "created_at": "2023-03-07T15:47:46", "host": "cdr2513.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 146317, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_146317", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 146317, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum___wandb#runtime": 360, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum___runtime": 27, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_146317/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum___step": 8, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 40, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.569611553936126, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.0421573875803, "sum___timestamp": 1678203598, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#size": 45589, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "25734f4d81ec6a3a3a8bf559fc0c9797f0e9446815cc9051e1c5f358056d0622", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_25734f4d81ec6a3a3a8b.table.json", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.652552349091889, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.731664882226982, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7}
{"run_group": "SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3kxpw5gi", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3kxpw5gi", "state": "finished", "id": "sw_777b5b7ee9c28b3742dab8367c2bd8ad_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_777b5b7ee9c28b3742dab8367c2bd8ad_2_256788", "created_at": "2023-03-07T15:47:05", "host": "cdr2513.int.cedar.computecanada.ca", "runInfo__program": "/home/kzmnjd/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-3.10.0-1160.80.1.el7.x86_64-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "Tesla V100-SXM2-32GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 256, "cfg__dataset.max_target_length": 256, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 256, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.3": "configs/sweep.jsonnet", "cfg__config_filenames.4": "configs/attn_analysis.jsonnet", "cfg__config_filenames.5": "configs/hp_base.jsonnet", "cfg__config_filenames.6": "configs/final.jsonnet", "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "d3332d7070e21d4c7fa818c5eeef400895420698725218493ce5677a3b1133c5", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_d3332d7070e21d4c7fa8.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 94252, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 41, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 12, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 5.59654260340757, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 25.069726980728053, "sum___wandb#runtime": 488, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_24a038ab36246044c497.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 43433, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "24a038ab36246044c497a11275ae920d8445f36182072d6f30b357c50d3b7346", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 7.650730642739792, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 28, "sum___runtime": 35, "sum___timestamp": 1678202618, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 44.54447115384615, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 68, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 28, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 7.650730642739792}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2vauo5hw", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2vauo5hw", "state": "finished", "id": "sw_8962e87bfffd201dda8d3947cc009054_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8962e87bfffd201dda8d3947cc009054_2_256788", "created_at": "2023-03-07T15:35:27", "host": "cn-g010", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 854, "sum___step": 17, "sum__computed_per_device_eval_batch_size": 32, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 75.20397960066207, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 234.88102248394003, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 384, "sum___timestamp": 1678663394, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum___wandb#runtime": 5168, "sum___runtime": 1112, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "3bd0f63ae36fb13afc9faffc4b25e62c86a3cf17ac05ef98da0c4104d329a947", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://oatxn06xiyjnub6pc63pxc3bvbhzvpx2tbzydey8k67i14mw6kl5breeofanhrb6b08ngxoqk89d263ptp2jwh5ebxz7tqr88acdr8vulz6s1is06pyubyrrzqulnt0x:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://oatxn06xiyjnub6pc63pxc3bvbhzvpx2tbzydey8k67i14mw6kl5breeofanhrb6b08ngxoqk89d263ptp2jwh5ebxz7tqr88acdr8vulz6s1is06pyubyrrzqulnt0x:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_9_3bd0f63ae36fb13afc9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 298896, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://z6rvj3d8s0tnic7jyphhaf58iltze3t6rz6i47cipbb625jrdhhop6643jtgzy610tzqx2t8z5rnf0zkyc215wesx2rernixaakp8iei3yu7duhkwwy3dqnvl6qaahk9:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_15_b936d736f4a48b47d954.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1256838, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b936d736f4a48b47d9547cc8594a86312a1f64a28bea29450041ccd1ce732f9c", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://z6rvj3d8s0tnic7jyphhaf58iltze3t6rz6i47cipbb625jrdhhop6643jtgzy610tzqx2t8z5rnf0zkyc215wesx2rernixaakp8iei3yu7duhkwwy3dqnvl6qaahk9:latest/ds_examples/ExperimentStage.TRAINING.table.json"}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_259xggfl", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "259xggfl", "state": "finished", "id": "sw_de4a6f26d3229c1f1979ae9b30555c64_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_de4a6f26d3229c1f1979ae9b30555c64_2_256788", "created_at": "2023-03-07T15:35:25", "host": "cn-g012", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___step": 17, "sum___wandb#runtime": 7596, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 49, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 75.20397960066207, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 234.88102248394003, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 384, "sum___runtime": 1022, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 563.9379006410256, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 349, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-26000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "3bd0f63ae36fb13afc9faffc4b25e62c86a3cf17ac05ef98da0c4104d329a947", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://147g2p33pte75wn77q6puqrtbypkyha8j3mi6pki3ougnekwkrgocoa69236vym58voromw03sfu68p36iikav5lqc1ptjg0lm23x24bgkl6ckekt19ibmppyihrckby:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://147g2p33pte75wn77q6puqrtbypkyha8j3mi6pki3ougnekwkrgocoa69236vym58voromw03sfu68p36iikav5lqc1ptjg0lm23x24bgkl6ckekt19ibmppyihrckby:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_9_3bd0f63ae36fb13afc9f.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 298896, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 854, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 349, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 117.22665093801824, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 563.9379006410256, "sum___timestamp": 1678663393, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b936d736f4a48b47d9547cc8594a86312a1f64a28bea29450041ccd1ce732f9c", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://vyykb5wsldsqvuhw14lmp8dyzanj7omyd7klmaczyjn6j102gezync1jccgjonou784wxusstkmhau95jalf1i648zubw67ynxkpf9ncx2zm44ltu6ep077hhuvjutp2:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://vyykb5wsldsqvuhw14lmp8dyzanj7omyd7klmaczyjn6j102gezync1jccgjonou784wxusstkmhau95jalf1i648zubw67ynxkpf9ncx2zm44ltu6ep077hhuvjutp2:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_15_b936d736f4a48b47d954.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1256838, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_gb0ake73", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "gb0ake73", "state": "finished", "id": "sw_dc1f30dd90314fc5a4497a42c8840f01_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_dc1f30dd90314fc5a4497a42c8840f01_2_256788", "created_at": "2023-03-07T15:35:25", "host": "cn-g006", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": false, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v1_r0.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___runtime": 31, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 397.37710336538464, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 264, "sum___wandb#runtime": 2721, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v1_r0_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__ds_examples/ExperimentStage.TRAINING#sha256": "b798946c34dbd1af5f8250f443e69cf63e76e8d4274624e9d445546546eed34e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://34qhn47pd2e3gsrswy4qs8qluyx9oi5fnsdto1dsulg3poivjhfm36qf9qqv0jsbjlc60yoskcwge2j6nzwk8bt0jstz5u9p2zc0o1ts0ywqsgk72jcp5i5unr2pa0dx:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://34qhn47pd2e3gsrswy4qs8qluyx9oi5fnsdto1dsulg3poivjhfm36qf9qqv0jsbjlc60yoskcwge2j6nzwk8bt0jstz5u9p2zc0o1ts0ywqsgk72jcp5i5unr2pa0dx:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_b798946c34dbd1af5f82.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 917353, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "b94fb6a776b49f792f88637a38b09176c7097aa3a06d02231ec9619dffe2152e", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://dryyobvxajdx2z9241h7u7gyruhed5cppj4sowrsfxw9tpfrvvtkk5d2cdwkuttikfc0frwaihki9embhf7eaktmk0k9fy95zvoe3zq6kqhrt68de4slxjp7ou8fb6yc:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://dryyobvxajdx2z9241h7u7gyruhed5cppj4sowrsfxw9tpfrvvtkk5d2cdwkuttikfc0frwaihki9embhf7eaktmk0k9fy95zvoe3zq6kqhrt68de4slxjp7ou8fb6yc:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_b94fb6a776b49f792f88.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 251280, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 526, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 264, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 66.71576657881742, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 397.37710336538464, "sum___timestamp": 1678203356, "sum__computed_per_device_train_batch_size": 64, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 54.68566355211935, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 189.4024357601713, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 291, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 46, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_135w6lp4", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "135w6lp4", "state": "finished", "id": "sw_bb636838e3f9eb6ab789c9c9c3e3c748_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_bb636838e3f9eb6ab789c9c9c3e3c748_2_256788", "created_at": "2023-03-07T15:35:25", "host": "cn-g007", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 263, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 50.36221297758211, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.86402569593147, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-34000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum___wandb#runtime": 3764, "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://qjg4l9vz8j7qje9p1b84ed9qldsomhzsejuz70u0errhxbajmy4eetcejh88d6awi0prijmpspjigrywclbb5y3sbmijx71kur77blg4i9zlu84du8essti5qc002q63:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://qjg4l9vz8j7qje9p1b84ed9qldsomhzsejuz70u0errhxbajmy4eetcejh88d6awi0prijmpspjigrywclbb5y3sbmijx71kur77blg4i9zlu84du8essti5qc002q63:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ffd5af8f29053d4118279b62dd71abc8f0cd8c38d3dd716caff0c61d0c2df77", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://152sj4hwrq9fedj5y221lsg4hdx8fzh71wm03z132dnltrj0ob7553722sztko92608hu81uka92z99j49fq45w40atj9x6dupgdv7kbao2cm812v6bb9hfvzpf7umxf:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://152sj4hwrq9fedj5y221lsg4hdx8fzh71wm03z132dnltrj0ob7553722sztko92608hu81uka92z99j49fq45w40atj9x6dupgdv7kbao2cm812v6bb9hfvzpf7umxf:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ffd5af8f29053d41182.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 196563, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum___step": 8, "sum___runtime": 32, "sum___timestamp": 1678203357}
{"run_group": "SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1d5naxe0", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1d5naxe0", "state": "finished", "id": "sw_8c15227e0dd5b6aecc723206d5a5a759_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_8c15227e0dd5b6aecc723206d5a5a759_2_256788", "created_at": "2023-03-07T15:35:25", "host": "cn-g005", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "none", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_none.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___runtime": 33, "sum__computed_num_process": 1, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c5a5715430dec8e7ab5c135ad849d65914c71b5cf151478e45f9bbd540b7d50c", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://pi7tv83ajikzgmj8d0cq5pidacy3atklzwbaclgdiefijimrol61oyj2ce20pzz6fpigv6xkm84zp03ve82cmk13d2e384bc5pdbi3gobrqfzupl3gppxvamos7ro93f:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://pi7tv83ajikzgmj8d0cq5pidacy3atklzwbaclgdiefijimrol61oyj2ce20pzz6fpigv6xkm84zp03ve82cmk13d2e384bc5pdbi3gobrqfzupl3gppxvamos7ro93f:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_c5a5715430dec8e7ab5c.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 258036, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.22845289079228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 325, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.7488824376832, "sum___wandb#runtime": 3757, "sum___timestamp": 1678203358, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_6e79b777bbce1efdb049.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://i6z6yld5n2q8zg8oaxa0xp0ersp3gmdknict19brbpr71bz7k7wazlax6d58tly8tvjigf664xv8e6i8108g6n83ovl6xyz8id9mk0bzafko5djiwno2dythgjjv3p0p:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://i6z6yld5n2q8zg8oaxa0xp0ersp3gmdknict19brbpr71bz7k7wazlax6d58tly8tvjigf664xv8e6i8108g6n83ovl6xyz8id9mk0bzafko5djiwno2dythgjjv3p0p:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_none_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231, "sum___step": 8, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ud9mzjc", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3ud9mzjc", "state": "finished", "id": "sw_7eb1df4fabfd38424c9981d506c51cda_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_7eb1df4fabfd38424c9981d506c51cda_2_256788", "created_at": "2023-03-07T15:35:25", "host": "cn-g012", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___step": 17, "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_9_c5a5715430dec8e7ab5c.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 258036, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c5a5715430dec8e7ab5c135ad849d65914c71b5cf151478e45f9bbd540b7d50c", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://i6reccb1lc7wcd3j5zyo5k2rmanimevnxeg7p6j0gi2helczq7z2zfntozlu4nqye0tilr4qpf023fl6dygwn9zwhjg9on67tyb776szfwg3ljzru0x1w6ittxn1xa46:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://i6reccb1lc7wcd3j5zyo5k2rmanimevnxeg7p6j0gi2helczq7z2zfntozlu4nqye0tilr4qpf023fl6dygwn9zwhjg9on67tyb776szfwg3ljzru0x1w6ittxn1xa46:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231, "sum__computed_num_process": 1, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-28000", "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.7488824376832, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.22845289079228, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 325, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum___wandb#runtime": 5364, "sum___runtime": 3515, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum___timestamp": 1678663391, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://v9nhx53cc5me2v2ey9otdpftaoxrparthlf5x9d3nqpxkrt45vsl1eco811jgbqlz94fn0hc8uywz0exupjd39nqqijyeescbt67zvtav9eraamly6pg2nsndjpgtzxr:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://v9nhx53cc5me2v2ey9otdpftaoxrparthlf5x9d3nqpxkrt45vsl1eco811jgbqlz94fn0hc8uywz0exupjd39nqqijyeescbt67zvtav9eraamly6pg2nsndjpgtzxr:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_15_6e79b777bbce1efdb049.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_pyapm3kk", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "pyapm3kk", "state": "finished", "id": "sw_2dec5063e08f0ed6c73cf7b375969210_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_2dec5063e08f0ed6c73cf7b375969210_2_256788", "created_at": "2023-03-07T15:35:25", "host": "cn-g006", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": false, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c0_o1_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum__computed_num_process": 1, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://14i19748kz6uazgtzw29pc00o4zt1fchqpl01ly0he0jgla4lh8g2cs6bhedbf1mhq2gvws5eu4ocbta8kac7oo26ki6m18szikr7s0jairia6668kw7m20p9ns87z06:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://14i19748kz6uazgtzw29pc00o4zt1fchqpl01ly0he0jgla4lh8g2cs6bhedbf1mhq2gvws5eu4ocbta8kac7oo26ki6m18szikr7s0jairia6668kw7m20p9ns87z06:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_0_2ffd5af8f29053d41182.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 196563, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "2ffd5af8f29053d4118279b62dd71abc8f0cd8c38d3dd716caff0c61d0c2df77", "sum___runtime": 39, "sum___timestamp": 1678203364, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum___wandb#runtime": 3760, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 88.25955395058537, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 389.55779246794873, "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "11c2b90d74eaf13cd5d75f1b904deb82d45c585c1529fef279dea9030f75ce6a", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://183t94sbgu7ghd111k3cxs6uarx9ver5j1nrsj27fl9j8nvyk31z3murmpurq02n30ppiqzkdhi5lwvsboxabe3cctlvplv4cgwpj642l66cc6yahc9e9okf44h32o69:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://183t94sbgu7ghd111k3cxs6uarx9ver5j1nrsj27fl9j8nvyk31z3murmpurq02n30ppiqzkdhi5lwvsboxabe3cctlvplv4cgwpj642l66cc6yahc9e9okf44h32o69:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_6_11c2b90d74eaf13cd5d7.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 835747, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum___step": 8, "sum__computed_per_device_eval_batch_size": 32, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 263, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 36, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 50.36221297758211, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 155.86402569593147, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c0_o1_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 389.55779246794873, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 630, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 230, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 88.25955395058537}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_1jpoijm4", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "1jpoijm4", "state": "finished", "id": "sw_d35d91253027d0f792865a5c61aa235f_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_d35d91253027d0f792865a5c61aa235f_2_256788", "created_at": "2023-03-07T15:35:24", "host": "cn-g010", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___wandb#runtime": 7006, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 365, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 71.28967671523733, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 222.56651498929335, "sum__computed_num_process": 1, "sum___step": 17, "sum___runtime": 1292, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-38000", "sum__ds_examples/ExperimentStage.TRAINING#size": 1182600, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "43f5dce780bfa7646d9af2266b3bd631d38929da9fd5f53762b6df8342cd5152", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://30f8n5dq4xjziqtl01eahzphcjxbekn7kd6vtsk94elg2eeynd6s3ycq9kcrpckirmt63nwnwlybth0c3lpsvio39fjbjkm8xp3g1h1cdyw1dllrhw1yfh9cv6domhqy:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://30f8n5dq4xjziqtl01eahzphcjxbekn7kd6vtsk94elg2eeynd6s3ycq9kcrpckirmt63nwnwlybth0c3lpsvio39fjbjkm8xp3g1h1cdyw1dllrhw1yfh9cv6domhqy:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_15_43f5dce780bfa7646d9a.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41cd5996d7a64e25f6f03cfd0c2bf261ad62edf88054aae9e59229b665b75e79", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://6pchpzccx1ncvuurr1p9mncxxiig0v33paunevf2lykh2dyes1cq2xnmqnhh5w7l11wmzggnnavk1ttulkddmke6kt0k1nlzaqev7jqkf1oqsjg060soqyw8z6mxujqq:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://6pchpzccx1ncvuurr1p9mncxxiig0v33paunevf2lykh2dyes1cq2xnmqnhh5w7l11wmzggnnavk1ttulkddmke6kt0k1nlzaqev7jqkf1oqsjg060soqyw8z6mxujqq:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_9_41cd5996d7a64e25f6f0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 280758, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum___timestamp": 1678663393, "sum__computed_per_device_eval_batch_size": 32}
{"run_group": "SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_2nxodkyt", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "2nxodkyt", "state": "finished", "id": "sw_7ab136dc4d07a4313a1f8bf646f4808c_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_7ab136dc4d07a4313a1f8bf646f4808c_2_256788", "created_at": "2023-03-07T15:35:24", "host": "cn-g010", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "t5_relative_bias", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": true, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": false, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_t5.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o1_v0_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___step": 17, "sum___runtime": 3486, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 325, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 42, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 62.7488824376832, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 195.22845289079228, "sum___timestamp": 1678663392, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 741, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 290, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 102.5409233887684, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 476.5534855769231, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "6e79b777bbce1efdb0497555f6483b93e97889c3ac4de8c76d9803af22f73c9e", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://184f7r9x2e7y0qcoblka7rnbbkd28awnvjunjgnp5yfndo5t296703amgn5tlu71x6eftm39c9ks6xqje6isq8akk61ne82r94x5t9kjsnqwcvr4kpqx28jvsairk9ku:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://184f7r9x2e7y0qcoblka7rnbbkd28awnvjunjgnp5yfndo5t296703amgn5tlu71x6eftm39c9ks6xqje6isq8akk61ne82r94x5t9kjsnqwcvr4kpqx28jvsairk9ku:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_15_6e79b777bbce1efdb049.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1089159, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum___wandb#runtime": 5633, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_t5_w_scratchpad_f_ufs__i1_c1_o1_v0_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-40000", "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "c5a5715430dec8e7ab5c135ad849d65914c71b5cf151478e45f9bbd540b7d50c", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://xjcilb5l8ehmyo14hgxhtf8tdkhw8y7wfebtdpdf3v8x5m4nrgpkcr0es7f92r6vbc6vopt7evla4elmaonirkln0z6dn441pb2hv9kcz981wsk45dyqpg8ac68oggr7:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://xjcilb5l8ehmyo14hgxhtf8tdkhw8y7wfebtdpdf3v8x5m4nrgpkcr0es7f92r6vbc6vopt7evla4elmaonirkln0z6dn441pb2hv9kcz981wsk45dyqpg8ac68oggr7:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_9_c5a5715430dec8e7ab5c.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 258036, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file"}
{"run_group": "SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "job_type": "attn_analysis2", "tags": ["attention_analysis", "launched_by_3ti7ersg", "manual_sweep", "scratchpad", "scratchpad_f", "scratchpad_s2s_addition", "sweep"], "launcher_id": "3ti7ersg", "state": "finished", "id": "sw_0c03df34563f74f37e7e630e5082b8a1_2_256788", "group_url": "https://wandb.ai/kzmnjd/len_gen/groups/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16", "run_url": "https://wandb.ai/kzmnjd/len_gen/runs/sw_0c03df34563f74f37e7e630e5082b8a1_2_256788", "created_at": "2023-03-07T15:35:21", "host": "cn-g012", "runInfo__program": "/home/mila/a/amirhossein.kazemnejad/src/main.py", "runInfo__args": [], "runInfo__os": "Linux-4.15.0-200-generic-x86_64-with-glibc2.31", "runInfo__python": "3.9.12", "runInfo__gpuCount": 1, "runInfo__gpu": "NVIDIA A100-SXM4-80GB", "cfg__model.type": "custom_decoder_only_t5", "cfg__model.config.type": "seq2seq_t5", "cfg__model.config.hf_model_name": "t5-base", "cfg__model.hf_model_name": "t5-base", "cfg__model.from_pretrained": false, "cfg__model.position_encoding_type": "alibi", "cfg__dataset.name": "s2s_addition", "cfg__dataset.type": "seq2seq", "cfg__dataset.split": "len_tr8_ts16", "cfg__dataset.data_root": "data", "cfg__dataset.append_vocab": "no", "cfg__dataset.test_filename": "test.jsonl", "cfg__dataset.source_seq_key": "source", "cfg__dataset.target_seq_key": "target", "cfg__dataset.train_filename": "train.jsonl", "cfg__dataset.is_decoder_only": true, "cfg__dataset.max_source_length": 512, "cfg__dataset.max_target_length": 10000, "cfg__dataset.instance_processor.type": "s2s_addition", "cfg__dataset.instance_processor.stripped": true, "cfg__dataset.instance_processor.input_marker": "in", "cfg__dataset.instance_processor.include_input": true, "cfg__dataset.instance_processor.output_marker": "out", "cfg__dataset.instance_processor.include_output": false, "cfg__dataset.instance_processor.step_separator": " # ", "cfg__dataset.instance_processor.computation_marker": "comp", "cfg__dataset.instance_processor.include_scratchpad": true, "cfg__dataset.instance_processor.include_computation": true, "cfg__dataset.instance_processor.remaining_input_marker": "re", "cfg__dataset.instance_processor.include_remaining_input": true, "cfg__dataset.instance_processor.include_intermediate_variables": true, "cfg__dataset.instance_processor.intermediate_variables_marker_end": "]", "cfg__dataset.instance_processor.intermediate_variables_marker_begin": "[", "cfg__dataset.validation_portion": 0.5, "cfg__dataset.validation_filename": "validation.jsonl", "cfg__dataset.answer_index_in_label": -1, "cfg__dataset.decoder_only_block_size": 128, "cfg__dataset.decoder_only_mask_inputs": true, "cfg__dataset.enable_hf_datasets_cache": true, "cfg__dataset.decoder_only_padding_side": "right", "cfg__dataset.decoder_only_group_samples": false, "cfg__dataset.decoder_only_include_position_ids": false, "cfg__dataset.decoder_only_input_output_sep_token": "", "cfg__trainer.seed": 256788, "cfg__trainer.type": "decoder_only", "cfg__trainer.callbacks.0.type": "save_predictions", "cfg__trainer.callbacks.0.upload_predictions": true, "cfg__trainer.max_steps": 40000, "cfg__trainer.eval_steps": 2000, "cfg__trainer.save_steps": 2000, "cfg__trainer.warmup_ratio": 0.06, "cfg__trainer.weight_decay": 0.05, "cfg__trainer.learning_rate": 3e-05, "cfg__trainer.logging_steps": 20, "cfg__trainer.save_strategy": "steps", "cfg__trainer.logging_strategy": "steps", "cfg__trainer.save_total_limit": 2, "cfg__trainer.lr_scheduler_type": "polynomial", "cfg__trainer.target_batch_size": 64, "cfg__trainer.evaluation_strategy": "steps", "cfg__trainer.generation_num_beams": 1, "cfg__trainer.dataloader_pin_memory": true, "cfg__trainer.generation_max_length": 1500, "cfg__trainer.metric_for_best_model": "seq_acc", "cfg__trainer.predict_with_generate": true, "cfg__trainer.dataloader_num_workers": 4, "cfg__trainer.target_eval_batch_size": 32, "cfg__trainer.auto_compute_batch_size": true, "cfg__trainer.per_device_eval_batch_size": null, "cfg__trainer.per_device_train_batch_size": null, "cfg__exp_name": "best_run_seed_256788", "cfg__analyzers.0.type": "attention", "cfg__directory": "experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/", "cfg__sweep_run": false, "cfg__tokenizer.type": "pretrained", "cfg__tokenizer.use_fast": true, "cfg__tokenizer.hf_model_name": "t5-base", "cfg__global_vars.dirs.data": "data", "cfg__global_vars.dirs.experiments": "experiments", "cfg__global_vars.seed": 256788, "cfg__global_vars.debug_mode": false, "cfg__global_vars.entity_name": "kzmnjd", "cfg__project_name": "len_gen", "cfg__config_filenames.0": "configs/t5_dec_base.jsonnet", "cfg__config_filenames.1": "configs/models/pe_alibi.jsonnet", "cfg__config_filenames.2": "configs/data/w_scratchpad_f.jsonnet", "cfg__config_filenames.3": "configs/data/unified_scratchpad_configs/ufs__i1_c1_o0_v1_r1.jsonnet", "cfg__config_filenames.4": "configs/data/s2s_addition.jsonnet", "cfg__config_filenames.5": "configs/sweep.jsonnet", "cfg__config_filenames.6": "configs/attn_analysis.jsonnet", "cfg__config_filenames.7": "configs/hp_base.jsonnet", "cfg__config_filenames.8": "configs/final.jsonnet", "sum___timestamp": 1678663393, "sum__computed_num_process": 1, "sum__ds_stats/ExperimentStage.TRAINING/labels#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/labels#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/labels#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/labels#mean": 536.7832532051282, "sum___runtime": 1353, "sum__ds_stats/ExperimentStage.VALIDATION/labels#max": 365, "sum__ds_stats/ExperimentStage.VALIDATION/labels#min": 47, "sum__ds_stats/ExperimentStage.VALIDATION/labels#std": 71.28967671523733, "sum__ds_stats/ExperimentStage.VALIDATION/labels#mean": 222.56651498929335, "sum__analyze_all_test_ckpt_path": "best at experiments/SW-t5_dec_base_pe_alibi_w_scratchpad_f_ufs__i1_c1_o0_v1_r1_s2s_addition_sweep___data-s2s_addition-len_tr8_ts16/exps/best_run_seed_256788/checkpoints/checkpoint-36000", "sum___step": 17, "sum__computed_per_device_eval_batch_size": 32, "sum__computed_per_device_train_batch_size": 64, "sum__ds_examples/ExperimentStage.TRAINING#nrows": 100, "sum__ds_examples/ExperimentStage.TRAINING#sha256": "43f5dce780bfa7646d9af2266b3bd631d38929da9fd5f53762b6df8342cd5152", "sum__ds_examples/ExperimentStage.TRAINING#artifact_path": "wandb-client-artifact://uzl23klfrjl5su8nxun9cpve8yjk93lbd8hr136donyfkc9x4v5m2vtyxl02lfs8nutjsbeabm8ui7h06kd04i4nthz7nh23sfavwvf2avxdooba4evfi01tlqojoxqv:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#_latest_artifact_path": "wandb-client-artifact://uzl23klfrjl5su8nxun9cpve8yjk93lbd8hr136donyfkc9x4v5m2vtyxl02lfs8nutjsbeabm8ui7h06kd04i4nthz7nh23sfavwvf2avxdooba4evfi01tlqojoxqv:latest/ds_examples/ExperimentStage.TRAINING.table.json", "sum__ds_examples/ExperimentStage.TRAINING#path": "media/table/ds_examples/ExperimentStage.TRAINING_15_43f5dce780bfa7646d9a.table.json", "sum__ds_examples/ExperimentStage.TRAINING#size": 1182600, "sum__ds_examples/ExperimentStage.TRAINING#_type": "table-file", "sum__ds_examples/ExperimentStage.TRAINING#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#ncols": 7, "sum__ds_examples/ExperimentStage.VALIDATION#nrows": 100, "sum__ds_examples/ExperimentStage.VALIDATION#sha256": "41cd5996d7a64e25f6f03cfd0c2bf261ad62edf88054aae9e59229b665b75e79", "sum__ds_examples/ExperimentStage.VALIDATION#artifact_path": "wandb-client-artifact://163bhe8l82ecro0fpfk43oz6w1w5uquc3bk4a50znb5xkege9r6ygecnw8cam3qeoijgfess8apgpynjg1w9n5hzeydvatbhw0pyo0abhsfkrpawegko5kkvi0dkul6i:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#_latest_artifact_path": "wandb-client-artifact://163bhe8l82ecro0fpfk43oz6w1w5uquc3bk4a50znb5xkege9r6ygecnw8cam3qeoijgfess8apgpynjg1w9n5hzeydvatbhw0pyo0abhsfkrpawegko5kkvi0dkul6i:latest/ds_examples/ExperimentStage.VALIDATION.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#path": "media/table/ds_examples/ExperimentStage.VALIDATION_9_41cd5996d7a64e25f6f0.table.json", "sum__ds_examples/ExperimentStage.VALIDATION#size": 280758, "sum__ds_examples/ExperimentStage.VALIDATION#_type": "table-file", "sum__ds_stats/ExperimentStage.TRAINING/input_ids#max": 816, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#min": 331, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#std": 112.50690014448796, "sum__ds_stats/ExperimentStage.TRAINING/input_ids#mean": 536.7832532051282, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#max": 25, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#min": 7, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#std": 3.677453611213777, "sum__ds_stats/ExperimentStage.VALIDATION/input_ids#mean": 14.759502141327625, "sum___wandb#runtime": 6910}
